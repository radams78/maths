
\section{Topological Spaces}

\begin{definition}[Topology]
    A \emph{topology} on a set $X$ is a set $\TT \subseteq \pow X$ such that:
    \begin{itemize}
        \item $X \in \TT$.
        \item For all $\UU \subseteq \TT$ we have $\bigcup \UU \in \TT$.
        \item For all $U, V \in \TT$ we have $U \cap V \in \TT$.
    \end{itemize}
    We call the elements of $X$ \emph{points} and the elements of $\TT$ \emph{open sets}.
\end{definition}

\begin{definition}[Topological Space]
    A \emph{topological space} $X$ consists of a set $X$ and a topology on $X$.
\end{definition}

\begin{definition}[Discrete Space]
    For any set $X$, the \emph{discrete} topology on $X$ is $\pow X$.
\end{definition}

\begin{definition}[Indiscrete Space]
    For any set $X$, the \emph{indiscrete} or \emph{trivial} topology on $X$ is $\{ \emptyset, X \}$.
\end{definition}

\begin{definition}[Finite Complement Topology]
    For any set $X$, the \emph{finite complement topology} on $X$ is $\{ U \in \pow X \mid X \setminus U \text{ is finite} \} 
    \cup \{ \emptyset \}$.
\end{definition}

\begin{definition}[Countable Complement Topology]
    For any set $X$, the \emph{countable complement topology} on $X$ is $\{ U \in \pow X \mid X \setminus U \text{ is countable} \} 
    \cup \{ \emptyset \}$.
\end{definition}

\begin{definition}[Finer, Coarser]
    Suppose that $\TT$ and $\TT'$ are two topologies on a given set $X$. If $\TT' \supseteq \TT$, we say that $\TT'$ is \emph{finer} than
    $\TT$; if $\TT'$ \emph{properly} contains $\TT$, we say that $\TT'$ is \emph{strictly} finer than $\TT$. We also say that $\TT$ is
    \emph{coarser} than $\TT'$, or \emph{stricly} coarser, in these two respective situations. We say $\TT$ is \emph{comparable} with
    $\TT'$ if either $\TT' \supseteq \TT$ or $\TT \supseteq \TT'$.
\end{definition}

\begin{lemma}
    \label{lemma:open}
    Let $X$ be a topological space and $U \subseteq X$. Then $U$ is open if and only if, for all $x \in U$,
    there exists an open set $V$ such that $x \in V \subseteq U$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{$\Rightarrow$}
    \begin{proof}
        \pf\ Take $V = U$
    \end{proof}
    \step{2}{$\Leftarrow$}
    \begin{proof}
        \pf\ We have $U = \bigcup \{ V \text{ open in } X \mid V \subseteq U \}$.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $X$ be a set and $\TT$ a nonempty set of topologies on $X$. Then $\bigcap \TT$ is a topology on $X$,
    and is the finest topology that is coarser than every member of $\TT$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{$X \in \bigcap \TT$}
    \begin{proof}
        \pf\ Since $X$ is in every member of $\TT$.
    \end{proof}
    \step{2}{$\bigcap \TT$ is closed under union.}
    \begin{proof}
        \step{a}{\pflet{$\UU \subseteq \bigcap \TT$}}
        \step{b}{For all $T \in \TT$ we have $\UU \subseteq T$}
        \step{c}{For all $T \in \TT$ we have $\bigcup \UU \in T$}
        \step{d}{$\bigcup \UU \in \bigcap \TT$}
    \end{proof}
    \step{3}{$\bigcap \TT$ is closed under binary intersection.}
    \begin{proof}
        \step{a}{\pflet{$U,V \in \bigcap \TT$}}
        \step{b}{For all $T \in \TT$ we have $U,V \in T$}
        \step{c}{For all $T \in \TT$ we have $U \cap V \in T$}
        \step{d}{$U \cap V \in \bigcap \TT$}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $X$ be a set and $\TT$ a set of topologies on $X$. Then there exists a unique coarsest topology
    that is finer than every member of $\TT$.
\end{lemma}

\begin{proof}
    \pf\ The required topology is given by
    \[ \bigcap \{ T \in \pow \pow X \mid T \emph{ is a topology on $X$ that is
    finer than every member of $\TT$} \} \enspace , \] 
    The set is nonempty since it contains the discrete topology. \qed
\end{proof}

\begin{definition}[Neighbourhood]
    A \emph{neighbourhood} of a point $x$ is an open set that contains $x$.
\end{definition}

\section{Closed Set}

\begin{definition}[Closed Set]
    Let $X$ be a topological space and $A \subseteq X$. Then $A$ is \emph{closed} if and only if $X \setminus
    A$ is open.
\end{definition}

\begin{lemma}
    The empty set is closed.
\end{lemma}

\begin{proof}
    \pf\ Since the whole space $X$ is always open. \qed
\end{proof}

\begin{lemma}
    \label{lemma:closed_whole_set}
    The topological space $X$ is closed.
\end{lemma}

\begin{proof}
    \pf\ Since $\emptyset$ is open. \qed
\end{proof}

\begin{lemma}
    \label{lemma:closed_intersection}
    The intersection of a nonempty set of closed sets is closed.
\end{lemma}

\begin{proof}
    \pf\ Let $\mathcal{C}$ be a nonempty set of closed sets. Then $X \setminus \bigcap \mathcal{C}
    = \bigcup \{ X \setminus C \mid C \in \mathcal{C} \}$ is open. \qed
\end{proof}

\begin{lemma}
    \label{lemma:closed_union}
    The union of two closed sets is closed.
\end{lemma}

\begin{proof}
    \pf\ Let $C$ and $D$ be closed. Then $X \setminus (C \cup D) = (X \setminus C) \cap (X \setminus D)$
    is open. \qed
\end{proof}

\begin{proposition}
    Let $X$ be a set and $\mathcal{C} \subseteq \pow X$ a set such that:
    \begin{enumerate}
        \item $\emptyset \in \mathcal{C}$
        \item $X \in \mathcal{C}$
        \item For all $\AA \subseteq \mathcal{C}$ nonempty we have $\bigcap \AA \in \mathcal{C}$
        \item For all $C, D \in \mathcal{C}$ we have $C \cup D \in \mathcal{C}$.
    \end{enumerate}
    Then there exists a unique topology $\TT$ such that $\mathcal{C}$ is the set of closed sets, namely
    \[ \TT = \{ X \setminus C \mid C \in \mathcal{C} \} \]
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\TT = \{ X \setminus C \mid C \in \mathcal{C} \}$}}
    \step{2}{$\TT$ is a topology}
    \begin{proof}
        \step{a}{$X \in \TT$}
        \begin{proof}
            \pf\ Since $\emptyset \in \mathcal{C}$
        \end{proof}
        \step{b}{For all $\UU \subseteq \TT$ we have $\bigcup \UU \in \TT$}
        \begin{proof}
            \step{i}{\pflet{$\UU \subseteq \TT$}}
            \step{ii}{\case{$\UU = \emptyset$}}
            \begin{proof}
                \pf\ In this case $\bigcup \UU = \emptyset \in \TT$ since $X \in \mathcal{C}$
            \end{proof}
            \step{iii}{\case{$\UU \neq \emptyset$}}
            \begin{proof}
                \pf\ In this case $X \setminus \bigcup \UU = \bigcap \{ X \setminus U \mid U \in \UU \} \in
                \mathcal{C}$.
            \end{proof}
        \end{proof}
        \step{c}{For all $U, V \in \TT$ we have $U \cap V \in \TT$}
        \begin{proof}
            \pf\ Since $X \setminus (U \cap V) = (X \setminus U) \cup (X \setminus V) \in \mathcal{C}$.
        \end{proof}
    \end{proof}
    \step{3}{$\mathcal{C}$ is the set of all closed sets in $\TT$}
    \begin{proof}
        \pf
        \begin{align*}
            & C \text{ is closed in } \TT \\
            \Leftrightarrow & X \setminus C \in \TT \\
            \Leftrightarrow & C \in \mathcal{C}
        \end{align*}
    \end{proof}
    \step{4}{If $\TT'$ is a topology and $\mathcal{C}$ is the set of closed sets in $\TT'$ then
    $\TT' = \TT$}
    \begin{proof}
        \pf\ 
        We have
        \begin{align*}
            & U \in \TT \\
            \Leftrightarrow & X \setminus U \in \mathcal{C} \\
            \Leftrightarrow & X \setminus U \text{ is closed in } \TT' \\
            \Leftrightarrow & U \in \TT'
        \end{align*}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    If $U$ is open and $A$ is closed then $U \setminus A$ is open.
\end{proposition}

\begin{proof}
    \pf\ $U \setminus A = U \cap (X \setminus A)$ is the intersection of two open sets. \qed
\end{proof}

\begin{proposition}
    If $U$ is open and $A$ is closed then $A \setminus U$ is closed.
\end{proposition}

\begin{proof}
    \pf\ $A \setminus U = A \cap (X \setminus U)$ is the intersection of two closed sets. \qed
\end{proof}

\section{Interior}

\begin{definition}[Interior]
    Let $X$ be a topological space and $A \subseteq X$. The \emph{interior} of $A$, $\Int A$, is the union
    of all the open subsets of $A$.
\end{definition}

\begin{lemma}
    \label{lemma:interior_open}
    The interior of a set is open.
\end{lemma}

\begin{proof}
    \pf\ It is a union of open sets. \qed
\end{proof}

\begin{lemma}
    \[ \Int A \subseteq A \]
\end{lemma}

\begin{proof}
    \pf\ Immediate from definition. \qed
\end{proof}

\begin{lemma}
    If $U$ is open and $U \subseteq A$ then $U \subseteq \Int A$
\end{lemma}

\begin{proof}
    \pf\ Immediate from definition. \qed
\end{proof}

\begin{lemma}
    \label{lemma:open_interior}
    A set $A$ is open if and only if $A = \Int A$.
\end{lemma}

\begin{proof}
    \pf\ If $A = \Int A$ then $A$ is open by Lemma \ref{lemma:interior_open}. Conversely if
    $A$ is open then $A \subseteq \Int A$ by the definition of interior and so $A = \Int A$.
\end{proof}

\section{Closure}

\begin{definition}[Closure]
    Let $X$ be a topological space and $A \subseteq X$. The \emph{closure} of $A$, $\overline{A}$, is the
    intersection of all the closed sets that include $A$.
\end{definition}

This intersection exists since $X$ is a closed set that includes A (Lemma \ref{lemma:closed_whole_set}).

\begin{lemma}
    The closure of a set is closed.
\end{lemma}

\begin{proof}
    \pf\ Dual to Lemma \ref{lemma:interior_open}. \qed
\end{proof}

\begin{lemma}
    \label{lemma:closure_subset}
    \[ A \subseteq \overline{A} \]
\end{lemma}

\begin{proof}
    \pf\ Immediate from definition. \qed
\end{proof}

\begin{lemma}
    If $C$ is closed and $A \subseteq C$ then $\overline{A} \subseteq C$.
\end{lemma}

\begin{proof}
    \pf\ Immediate from definition. \qed
\end{proof}

\begin{lemma}
    \label{lemma:closure_closed}
    A set $A$ is closed if and only if $A = \overline{A}$.
\end{lemma}

\begin{proof}
    \pf\ Dual to Lemma \ref{lemma:open_interior}. \qed
\end{proof}

\begin{theorem}
    \label{theorem:closure_neighbourhood}
    Let $X$ be a topological space, $A \subseteq X$ and $x \in X$. Then $x \in \overline{A}$ if and only if
    every neighbourhood of $x$ intersects $A$.
\end{theorem}

\begin{proof}
    \pf\ We have
    \begin{align*}
        & x \in \overline{A} \\
        \Leftrightarrow & \forall C. C \text{ closed } \wedge A \subseteq C \Rightarrow x \in C \\
        \Leftrightarrow & \forall U. U \text{ open } \wedge A \cap U = \emptyset \Rightarrow x \notin U \\
        \Leftrightarrow & \forall U. U \text{ open } \wedge x \in U \Rightarrow U \text{ intersects } A & \qed
    \end{align*}
\end{proof}

\begin{proposition}
    \label{proposition:closure_monotone}
    If $A \subseteq B$ then $\overline{A} \subseteq \overline{B}$.
\end{proposition}

\begin{proof}
    \pf\ This holds because $\overline{B}$ is a closed set that includes $A$. \qed
\end{proof}

\begin{proposition}
    \[ \overline{A \cup B} = \overline{A} \cup \overline{B} \]
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\overline{A} \subseteq \overline{A \cup B}$}
    \begin{proof}
        \pf\ By Proposition \ref{proposition:closure_monotone}.
    \end{proof}
    \step{2}{$\overline{B} \subseteq \overline{A \cup B}$}
    \begin{proof}
        \pf\ By Proposition \ref{proposition:closure_monotone}.
    \end{proof}
    \step{3}{$\overline{A \cup B} \subseteq \overline{A} \cup \overline{B}$}
    \begin{proof}
        \step{a}{\pflet{$x \in \overline{A \cup B}$}}
        \step{b}{\assume{$x \notin \overline{A}$} \prove{$x \in \overline{B}$}}
        \step{c}{\pick\ a neighbourhood $U$ of $x$ that does not intersect $A$}
        \step{c}{\pflet{$V$ be any neighbourhood of $x$}}
        \step{d}{$U \cap V$ is a neighbourhood of $x$}
        \step{e}{$U \cap V$ intersects $A \cup B$}
        \begin{proof}
            \pf\ From \stepref{a} and Theorem \ref{theorem:closure_neighbourhood}.
        \end{proof}
        \step{f}{$U \cap V$ intersects $B$}
        \begin{proof}
            \pf\ From \stepref{c}
        \end{proof}
        \step{g}{$V$ intersects $B$}
        \qedstep
        \begin{proof}
            \pf\ We have $x \in \overline{B}$ from Theorem \ref{theorem:closure_neighbourhood}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\section{Boundary}

\begin{definition}[Boundary]
    The \emph{boundary} of a set $A$ is the set $\partial A = \overline{A} \cap \overline{X \setminus A}$.
\end{definition}

\begin{proposition}
    \label{proposition:int_partial_disjoint}
    \[ \Int A \cap \partial A = \emptyset \]
\end{proposition}

\begin{proof}
    \pf\ Since $\overline{X \setminus A} = X \setminus \Int A$. \qed
\end{proof}

\begin{proposition}
    \label{proposition:closure_int_boundary}
    \[ \overline{A} = \Int A \cup \partial A \]
\end{proposition}

\begin{proof}
    \pf
    \begin{align*}
        \Int A \cup \partial A & = \Int A \cup (\overline{A} \cap \overline{X \setminus A}) \\
        & = (\Int A \cup \overline{A}) \cap (\Int A \cup \overline{X \setminus A}) \\
        & = \overline{A} \cap X \\
        & = \overline{A}
    \end{align*}
\end{proof}

\begin{proposition}
    $\partial A = \emptyset$ if and only if $A$ is open and closed.
\end{proposition}

\begin{proof}
    \pf\ If $\partial A = \emptyset$ then $\overline{A} = \Int A$ by Proposition \ref{proposition:closure_int_boundary}.
\end{proof}

\begin{proposition}
    A set $U$ is open if and only if $\partial U = \overline{U} \setminus U$.
\end{proposition}

\begin{proof}
    \pf
    \begin{align*}
        & \partial U = \overline{U} \setminus U \\
        \Leftrightarrow & \overline{U} \setminus \Int U = \overline{U} \setminus U & (\text{Propositions \ref{proposition:int_partial_disjoint}, \ref{proposition:closure_int_boundary}})\\
        \Leftrightarrow & \Int U = U & \qed
    \end{align*}
\end{proof}

\section{Limit Points}

\begin{definition}[Limit Point]
    Let $X$ be a topological space, $a \in X$ and $A \subseteq X$. Then $a$ is a \emph{limit point},
    \emph{cluster point} or \emph{point of accumulation} for $A$ if and only if every neighbourhood of $a$
    intersects $A$ at a point other than $a$.
\end{definition}

\begin{lemma}
    The point $a$ is an accumulation point for $A$ if and only if $a \in \overline{A \setminus \{a\}}$.
\end{lemma}

\begin{proof}
    \pf\ From Theorem \ref{theorem:closure_neighbourhood}. \qed
\end{proof}

\begin{theorem}
    \label{theorem:limit_point_closure}
    Let $X$ be a topological space and $A \subseteq X$. Let $A'$ be the set of all limit points of $A$.
    Then $\overline{A} = A \cup A'$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{For all $x \in \overline{A}$, if $x \notin A$ then $x \in A'$}
    \begin{proof}
        \pf\ From Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \step{2}{$A \subseteq \overline{A}$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:closure_subset}.
    \end{proof}
    \step{3}{$A' \subseteq \overline{A}$}
    \begin{proof}
        \pf\ From Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    \label{corollary:closed_limit_point}
    A set is closed if and only if it contains all its limit points.
\end{corollary}

\begin{proposition}
    \label{proposition:indiscrete_limit_point}
    In an indiscrete topology, every point is a limit point of any set that has more than one point.
\end{proposition}

\begin{proof}
    \pf\ Let $X$ be an indiscrete space. Let $A$ be a set with more than one point and $x$ be a point.
    The only neighbourhood of $x$ is $X$, which must intersect $A$ at a point other than $x$. \qed
\end{proof}

\begin{lemma}
    \label{lemma:limit_point_subset}
    Let $X$ be a topological space and $A \subseteq B \subseteq X$. Then every limit
    point of $A$ is a limit point of $B$.
\end{lemma}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\section{Basis for a Topology}

\begin{definition}[Basis]
    If $X$ is a set, a \emph{basis} for a topology on $X$ is a set $\BB \subseteq \pow X$ called \emph{basis elements} such that
    \begin{enumerate}
        \item For all $x \in X$, there exists $B \in \BB$ such that $x \in B$.
        \item For all $B_1, B_2 \in \BB$ and $x \in B_1 \cap B_2$, there exists $B_3 \in \BB$ such that
        $x \in B_3 \subseteq B_1 \cap B_2$.
    \end{enumerate}

    If $\BB$ satisfies these two conditions, then we define the topology \emph{generated} by $\BB$ to be
    $\TT = \{ U \in \pow X \mid \forall x \in U. \exists B \in \BB. x \in B \subseteq U \}$.
\end{definition}

We prove this is a topology.

\begin{proof}
    \pf
    \step{1}{$X \in \TT$}
    \begin{proof}
        \pf\ For all $x \in X$ there exists $B \in \BB$ such that $x \in B \subseteq X$ by condition 1.
    \end{proof}
    \step{2}{For all $\UU \subseteq \TT$ we have $\bigcup \UU \in \TT$}
    \begin{proof}
        \step{a}{\pflet{$\UU \subseteq \TT$}}
        \step{b}{\pflet{$x \in \bigcup \UU$}}
        \step{c}{\pick\ $U \in \UU$ such that $x \in U$}
        \step{d}{\pick\ $B \in \BB$ such that $x \in B \subseteq U$}
        \begin{proof}
            \pf\ Since $U \in \TT$ by \stepref{a} and \stepref{c}.
        \end{proof}
        \step{e}{$x \in B \subseteq \bigcup \UU$}
    \end{proof}
    \step{3}{For all $U, V \in \TT$ we have $U \cap V \in \TT$}
    \begin{proof}
        \step{a}{\pflet{$U, V \in \TT$}}
        \step{b}{\pflet{$x \in U \cap V$}}
        \step{c}{\pick\ $B_1 \in \BB$ such that $x \in B_1 \subseteq U$}
        \step{d}{\pick\ $B_2 \in \BB$ such that $x \in B_2 \subseteq V$}
        \step{e}{\pick\ $B_3 \in \BB$ such that $x \in B_3 \subseteq B_1 \cap B_2$}
        \begin{proof}
            \pf\ By condition 2.
        \end{proof}
        \step{f}{$x \in B_3 \subseteq U \cap V$}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:basis_unions}
    Let $X$ be a set. Let $\BB$ be a basis for a topology $\TT$ on $X$. Then $\TT$ is the set of all unions of 
    subsets of $\BB$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{For all $U \in \TT$, there exists $\AA \subseteq \BB$ such that $U = \bigcup \AA$}
    \begin{proof}
        \step{a}{\pflet{$U \in \TT$}}
        \step{b}{\pflet{$\AA = \{ B \in \BB \mid B \subseteq U \}$}}
        \step{c}{$U \subseteq \bigcup \AA$}
        \begin{proof}
            \step{i}{\pflet{$x \in U$}}
            \step{ii}{\pick\ $B \in \BB$ such that $x \in B \subseteq U$}
            \begin{proof}
                \pf\ Since $\BB$ is a basis for $\TT$.
            \end{proof}
            \step{iii}{$x \in B \in \AA$}
        \end{proof}
        \step{d}{$\bigcup \AA \subseteq U$}
        \begin{proof}
            \pf\ From the definition of $\AA$ (\stepref{b}).
        \end{proof}
    \end{proof}
    \step{2}{For all $\AA \subseteq \BB$ we have $\bigcup \AA \in \TT$}
    \begin{proof}
        \step{a}{$\BB \subseteq \TT$}
        \begin{proof}
            \pf\ If $B \in \BB$ and $x \in B$, then there exists $B' \in \BB$ such that $x \in B' \subseteq B$, namely $B' = B$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Since $\TT$ is closed under union.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    \label{cor:basis_open}
    Let $X$ be a set. Let $\BB$ be a basis for a topology $\TT$ on $X$. Then $\TT$ is the coarsest topology
    that includes $\BB$.
\end{corollary}

\begin{proof}
    \pf\ Since every topology that includes $\BB$ includes all unions of subsets of $\BB$. \qed
\end{proof}

\begin{lemma}
    \label{lemma:basis}
    Let $X$ be a topological space. Suppose that $\CC$ is a set of open sets such that, for every open set $U$ and every point $x \in U$,
    there exists $C \in \CC$ such that $x \in C \subseteq U$. Then $\CC$ is a basis for the topology on $X$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{For all $x \in X$, there exists $C \in \CC$ such that $x \in C$}
    \begin{proof}
        \pf\ Immediate from hypothesis.
    \end{proof}
    \step{2}{For all $C_1, C_2 \in \CC$ and $x \in C_1 \cap C_2$, there exists $C_3 \in \CC$ such that $x \in C_3 \subseteq C_1 \cap C_2$}
    \begin{proof}
        \pf\ Since $C_1 \cap C_2$ is open.
    \end{proof}
    \step{3}{Every open set is open in the topology generated by $\CC$}
    \begin{proof}
        \pf\ Immediate from hypothesis.
    \end{proof}
    \step{4}{Every union of a subset of $\CC$ is open.}
    \begin{proof}
        \pf\ Since every member of $\CC$ is open.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $\BB$ and $\BB'$ be bases for the topologies $\TT$ and $\TT'$ respectively on the set $X$. Then the following are equivalent.
    \begin{enumerate}
        \item $\TT \subseteq \TT'$
        \item For all $B \in \BB$ and $x \in B$, there exists $B' \in \BB'$ such that $x \in B' \subseteq B$.
    \end{enumerate}
\end{lemma}

\begin{proof}
    \pf
    \step{1}{$1 \Rightarrow 2$}
    \begin{proof}
        \step{a}{\assume{$\TT \subseteq \TT'$}}
        \step{b}{\pflet{$B \in \BB$ and $x \in B$}}
        \step{c}{$B \in \TT$}
        \begin{proof}
            \pf\ Corollary \ref{cor:basis_open}.
        \end{proof}
        \step{d}{$B \in \TT'$}
        \begin{proof}
            \pf\ By \stepref{a}
        \end{proof}
        \step{e}{There exists $B' \in \BB'$ such that $x \in B' \subseteq B$}
        \begin{proof}
            \pf\ Since $\BB'$ is a basis for $\TT'$.
        \end{proof}
    \end{proof}
    \step{2}{$2 \Rightarrow 1$}
    \begin{proof}
        \step{a}{\assume{2}}
        \step{b}{\pflet{$U \in \TT$} \prove{$U \in \TT'$}}
        \step{c}{\pflet{$x \in U$} \prove{There exists $B' \in \BB'$ such that $x \in B' \subseteq U$}}
        \step{d}{\pick\ $B \in \BB$ such that $x \in B \subseteq U$}
        \begin{proof}
            \pf\ Since $\BB$ is a basis for $\TT$.
        \end{proof}
        \step{e}{\pick\ $B' \in \BB'$ such that $x \in B' \subseteq B$}
        \begin{proof}
            \pf\ By \stepref{a}.
        \end{proof}
        \step{f}{$x \in B' \subseteq U$}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    Let $X$ be a topological space, $A \subseteq X$ and $x \in X$. Let $\BB$ be a basis for $X$. Then $x \in 
    \overline{A}$ if and only if, for all $B \in \BB$, if $x \in B$ then $B$ intersects $A$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{If $x \in \overline{A}$ then, for all $B \in \BB$, if $x \in B$ then $B$ intersects $A$.}
    \begin{proof}
        \pf\ This follows from Theorem \ref{theorem:closure_neighbourhood} since every element of $\BB$ is open
        (Corollary \ref{cor:basis_open}).
    \end{proof}
    \step{2}{Suppose that, for all $B \in \BB$, if $x \in B$ then $B$ intersects $A$. Then $x \in \overline{A}$.}
    \begin{proof}
        \step{a}{\assume{For all $B \in \BB$, if $x \in B$ then $B$ intersects $A$.}}
        \step{b}{\pflet{$U$ be an open set that contains $x$} \prove{$U$ intersects $A$.}}
        \step{c}{\pick\ $B \in \BB$ such that $x \in B \subseteq U$.}
        \step{d}{$B$ intersects $A$.}
        \begin{proof}
            \pf\ From \stepref{a}.
        \end{proof}
        \step{e}{$U$ intersects $A$.}
        \qedstep
        \begin{proof}
            \pf\ By Theorem \ref{theorem:closure_neighbourhood}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Lower Limit Topology on the Real Line]
    The \emph{lower limit topology on the real line} is the topology on $\RR$ generated by the basis consisting of all half-open intervals
    of the form $[a,b)$.

    We write $\RR_l$ for the topological space $\RR$ under the lower limit topology.
\end{definition}

We prove this is a basis for a topology.

\begin{proof}
    \pf
    \step{1}{For all $x \in \RR$ there exists an interval $[a,b)$ such that $x \in [a,b)$.}
    \begin{proof}
        \pf\ Take $[a,b) = [x,x+1)$.
    \end{proof}
    \step{2}{For any open intervals $[a,b)$, $[c,d)$ if $x \in [a,b) \cap [c,d)$, then there exists an interval $[e,f)$ such that
    $x \in [e,f) \subseteq [a,b) \cap [c,d)$}
    \begin{proof}
        \pf\ Take $[e,f) = [\max (a,c),\min (b,d))$.
    \end{proof}
    \qed
\end{proof}

\begin{definition}[$K$-topology on the Real Line]
    Let $K = \{ 1/n \mid n \in \ZZ^+ \}$.

    The \emph{$K$-topology on the real line} is the topology on $\RR$ generated by the basis consisting of all open intervals
    $(a,b)$ and all sets of the form $(a,b) \setminus K$.

    We write $\RR_K$ for the topological space $\RR$ under the $K$-topology.
\end{definition}

We prove this is a basis for a topology.

\begin{proof}
    \pf
    \step{1}{For all $x \in \RR$ there exists an open interval $(a,b)$ such that $x \in (a,b)$.}
    \begin{proof}
        \pf\ Take $(a,b) = (x-1,x+1)$.
    \end{proof}
    \step{2}{For any basic open sets $B_1$, $B_2$ if $x \in B_1 \cap B_2$, then there exists a basic open set $B_3$ such that
    $x \in B_3 \subseteq B_1 \cap B_2$}
    \begin{proof}
        \step{a}{\case{$B_1 = (a,b)$, $B_2 = (c,d)$}}
        \begin{proof}
            \pf\ Take $B_3 = (\max (a,c), \min (b,d))$.
        \end{proof}
        \step{b}{\case{$B_1 = (a,b)$ or $(a,b) \setminus K$, $B_2 = (c,d)$ or $(c,d) \setminus K$, and they are
        not both open intervals.}}
        \begin{proof}
            \pf\ Take $B_3 = (\max (a,c), \min (b,d)) \setminus K$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    The lower limit topology and the $K$-topology are incomparable.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{The interval $[10,11)$ is not open in the $K$-topology.}
    \begin{proof}
        \pf\ There is no open interval $(a,b)$ such that $10 \in (a,b) \subseteq [10,11)$ or
        $10 \in (a,b) \setminus K \subseteq [10,11)$.
    \end{proof}
    \step{2}{The set $(-1,1) \setminus K$ is not open in the lower limit topology.}
    \begin{proof}
        \pf\ There is no half-open interval $[a,b)$ such that $0 \in [a,b) \subseteq (-1,1) \setminus K$, since
        there must be a positive integer $n$ with $1/n \in [a,b)$.
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Subbasis]
    A \emph{subbasis} $\mathcal{S}$ for a topology on $X$ is a set $\mathcal{S} \subseteq \pow X$ such that
    $\bigcup \mathcal{S} = X$.

    The topology \emph{generated} by the subbasis $\mathcal{S}$ is the set of all unions of finite
    intersections of elements of $\mathcal{S}$.
\end{definition}

We prove this is a topology.

\begin{proof}
    \pf
    \step{1}{The set $\mathcal{B}$ of all finite intersections of elements of $\mathcal{S}$ forms a basis for a topology
    on $X$.}
    \begin{proof}
        \step{a}{$\bigcup \mathcal{B} = X$}
        \begin{proof}
            \pf\ Since $\mathcal{S} \subseteq \BB$.
        \end{proof}
        \step{b}{$\BB$ is closed under binary intersection.}
        \begin{proof}
            \pf\ By definition.
        \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ By Lemma \ref{lemma:basis_unions}.
    \end{proof}
    \qed
\end{proof}

We have simultaneously proved:

\begin{proposition}
    \label{proposition:subbasis_basis}
    Let $\SS$ be a subbasis for the topology on $X$.
    Then the set of all finite intersections of elements of $\SS$
    is a basis for the topology on $X$.
\end{proposition}

\begin{proposition}
    \label{proposition:subbasis_coarsest}
    Let $X$ be a set. Let $\mathcal{S}$ be a subbasis for a topology $\TT$ on $X$. Then $\TT$ is the coarsest topology
    that includes $\mathcal{S}$.
\end{proposition}

\begin{proof}
    \pf\ Since every topology that includes $\mathcal{S}$ includes every union of finite intersections of
    elements of $\mathcal{S}$. \qed
\end{proof}

\section{Local Basis at a Point}

\begin{definition}[Local Basis]
    Let $X$ be a topological space and $a \in X$. A \emph{(local) basis at $a$} is a set $\BB$ of neighbourhoods of $a$ such that every neighbourhood of $a$ includes some
    member of $\BB$.
\end{definition}

\begin{lemma}
    \label{lemma:countable_local_basis}
    If there exists a countable local basis at a point $a$, then there exists a countable local basis $\{ B_n \mid n \geq 1 \}$ such that $B_1 \supseteq B_2 \supseteq \cdots$. 
\end{lemma}

\begin{proof}
    \pf\ Given a countable local basis $\{ C_n \mid n \geq 1 \}$, take $B_n = C_1 \cap \cdots \cap C_n$. \qed
\end{proof}

\section{Convergence}

\begin{definition}[Convergence]
    Let $X$ be a topological space. Let $(a_n)_{n \in \NN}$ be a sequence of points in $X$ and $l \in X$.
    Then the sequence $(a_n)_{n \in \NN}$ \emph{converges} to the \emph{limit} $l$, $a_n \rightarrow l$ as $n \rightarrow
    \infty$, if and only if, for every neighbourhood $U$ of $l$, there exists $N$ such that, for all
    $n \geq N$, we have $a_n \in U$.
\end{definition}

\begin{lemma}
    \label{lemma:sequence_lemma1}
    Let $X$ be a topological space. Let $A \subseteq X$ and $l \in X$. If there is a sequence of points in $A$ that converges to $l$ then $l \in \overline{A}$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$(a_n)$ be a sequence of points in $A$ that converges to $l$.}}
    \step{2}{\pflet{$U$ be a neighbourhood of $l$.}}
    \step{3}{\pick\ $N$ such that, for all $n \geq N$, we have $a_n \in U$.}
    \step{4}{$a_N \in U \cap A$}
    \qedstep
    \begin{proof}
        \pf\ Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:convergence_basis}
    Let $X$ be a topological space. Let $\BB$ be a basis for the topology on $X$.
    Let $(a_n)$ be a sequence in $X$ and $l \in X$. Then $a_n \rightarrow l$ as
    $n \rightarrow \infty$ if and only if, for every $B \in \BB$ with $l \in B$,
    there exists $N$ such that, for all $n \geq N$, we have $a_n \in B$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $a_n \rightarrow l$ as
    $n \rightarrow \infty$ then, for every $B \in \BB$ with $l \in B$,
    there exists $N$ such that, for all $n \geq N$, we have $a_n \in B$.}
    \begin{proof}
        \pf\ Since every element of $\BB$ is open (Corollary \ref{cor:basis_open}).
    \end{proof}
    \step{2}{If, for every $B \in \BB$ with $l \in B$,
    there exists $N$ such that, for all $n \geq N$, we have $a_n \in B$,
    then $a_n \rightarrow l$ as $n \rightarrow \infty$.}
    \begin{proof}
        \step{a}{\assume{for every $B \in \BB$ with $l \in B$, there exists $N$ such that, for all $n \geq N$, we have $a_n \in B$}}
        \step{b}{\pflet{$U$ be a neighbourhood of $l$.}}
        \step{c}{\pick\ $B \in \BB$ such that $l \in B \subseteq U$}
        \step{d}{\pick\ $N$ such that, for all $n \geq N$, we have $a_n \in B$}
        \begin{proof}
            \pf\ From \stepref{a}.
        \end{proof}
        \step{e}{For all $n \geq N$ we have $a_n \in U$}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:converge_constant}
    If a sequence $(a_n)$ is constant with $a_n = l$ for all $n$, then $a_n \rightarrow l$ as $n \rightarrow \infty$.
\end{lemma}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{theorem}
    Let $X$ be a linearly ordered set. Let $(s_n)$ be a monotone increasing sequence in $X$ with a supremum $s$.
    Then $s_n \rightarrow s$ as $n \rightarrow \infty$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\assume{$s$ is not least in $X$.}}
    \begin{proof}
        \pf\ Otherwise $(s_n)$ is the constant sequence $s$ and the result follows from Lemma \ref{lemma:converge_constant}.
    \end{proof}
    \step{2}{\pflet{$U$ be a neighbourhood of $s$.}}
    \step{3}{\pick{$a < s$ such that $(a,s] \subseteq U$}}
    \step{4}{\pick\ $N$ such that $a < a_N$.}
    \step{5}{For all $n \geq N$ we have $a_n \in (a,s]$}
    \step{6}{For all $n \geq N$ we have $a_n \in U$.}
    \qed
\end{proof}

\begin{theorem}
    If $\sum_{i=0}^\infty a_i = s$ and $\sum_{i=0}^\infty b_i = t$ then $\sum_{i=0}^\infty (ca_i + b_i) = cs+t$.
\end{theorem}

\begin{proof}
    \pf $\sum_{i=0}^N (ca_i + b_i) = c \sum_{i=0}^N a_i + \sum_{i=0}^N b_i \rightarrow cs+t$ as $n \rightarrow \infty$. \qed
\end{proof}

\begin{theorem}[Comparison Test]
    If $|a_i| \leq b_i$ for all $i$ and $\sum_{i=0}^\infty b_i$ converges then $\sum_{i=0}^\infty a_i$ converges.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{$\sum_{i=0}^\infty |a_i|$ converges}
    \begin{proof}
        \pf\ The partial sums $\sum_{i=0}^N |a_i|$ form an increasing sequence bounded above by $\sum_{i=0}^\infty b_i$.
    \end{proof}
    \step{2}{\pflet{$c_i = |a_i| + a_i$ for all $i$}}
    \step{3}{$\sum_{i=0}^\infty c_i$ converges}
    \begin{proof}
        \pf\ Each $c_i$ is either $2|a_i|$ or 0. So the partial sums $\sum_{i=0}^N c_i$ form an increasing sequence bounded above by $2 \sum_{i=0}^\infty b_i$.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Since $a_i = c_i - |a_i|$.
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    If $\sum_{i=0}^\infty |a_i|$ converges then $\sum_{i=0}^\infty a_i$ converges.
\end{corollary}

\begin{theorem}[Weierstrass $M$-test]
    Let $X$ be a set and $(f_n : X \rightarrow \RR)$ be a sequence of functions. Let
    \[ s_n(x) = \sum_{i=0}^n f_i(x) \]
    for all $n$, $x$. Suppose $|f_i(x)| \leq M_i$ for all $i \geq 0$ and $x \in X$.
    If the series $\sum_{i=0}^\infty M_i$ converges, then the sequence $(s_n)$ converges uniformly to
    \[ s(x) = \sum_{i=0}^\infty f_i(x) \enspace . \]
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$r_n = \sum_{i=n+1}^\infty M_i$ for all $n$}}
    \step{2}{Given $0 \leq n < k$, we have $|s_k(x) - s_n(x)| \leq r_n$}
    \begin{proof}
        \pf
        \begin{align*}
            |s_k(x) - s_n(x)| & = |\sum_{i=n+1}^k f_i(x)| \\
            & \leq \sum_{i=n+1}^k |f_i(x)| \\
            & \leq \sum_{i=n+1}^k M_i \\
            & \leq r_n
        \end{align*}
    \end{proof}
    \step{3}{Given $n \geq 0$ we have $|s(x) - s_n(x)| \leq r_n$}
    \begin{proof}
        \pf\ By taking the limit $k \rightarrow \infty$ in \stepref{2}.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Since $r_n \rightarrow 0$ as $n \rightarrow \infty$.
    \end{proof}
    \qed
\end{proof}

\section{Locally Finite Sets}

\begin{definition}[Locally Finite]
    Let $X$ be a topological space and $\{ A_\alpha \}$ a family of subsets of $X$. Then $\AA$ is \emph{locally finite} if and only if every point in $X$ has a neighbourhood that
    intersects $A_\alpha$ for only finitely many $\alpha$.
\end{definition}

\begin{theorem}[Pasting Lemma]
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\{ A_\alpha \}$ be a locally finite family of closed subsets of $X$ that cover $X$. Suppose $f \restriction A_\alpha$
    is continuous for all $\alpha$. Then $f$ is continuous.
\end{theorem}

\begin{proof}
    \pf
    \step{0}{Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $A$ and $B$ be closed subsets of $X$ such that $X = A \cup B$. 
    Suppose $f \restriction A$ and $f \restriction B$ are continuous. Then $f$ is continuous.}
    \begin{proof}
        \step{1}{\pflet{$C \subseteq Y$ be closed.}}
        \step{2}{$\inv{h}(C) = \inv{f}(C) \cup \inv{g}(C)$}
        \step{3}{$\inv{f}(C)$ and $\inv{g}(C)$ are closed in $X$.}
        \begin{proof}
            \pf\ Theorems \ref{theorem:continuous} and \ref{theorem:closed_subspace}.
        \end{proof}
        \step{4}{$\inv{h}(C)$ is closed in $X$.}
        \begin{proof}
            \pf\ Lemma \ref{lemma:closed_union}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Theorem \ref{theorem:continuous}.
        \end{proof}    
    \end{proof}
    \step{1}{ Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\{ A_\alpha \}$ be a finite family of closed subsets of $X$ that cover $X$. Suppose $f \restriction A_\alpha$
    is continuous for all $\alpha$. Then $f$ is continuous.}
    \begin{proof}
        \pf\ From \stepref{0} by induction.
    \end{proof}
    \step{2}{ Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\{ A_\alpha \}$ be a locally finite family of closed subsets of $X$ that cover $X$. Suppose $f \restriction A_\alpha$
    is continuous for all $\alpha$. Then $f$ is continuous.}
    \begin{proof}
        \step{1a}{\pflet{$x \in X$} \prove{$f$ is continuous at $x$}}
        \step{2}{\pick\ a neighbourhood $U$ of $x$ that intersects $A_\alpha$ for only finitely many $\alpha$.}
        \step{3}{$f \restriction U$ is continuous}
        \begin{proof}
            \pf\ By \stepref{1}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:continuous_open_subspace}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

The following example shows that we cannot remove the assumption of local finiteness.

\begin{example}
    Define $f : [-1,1] \rightarrow \RR$ by: $f(x) = 1$ if $x < -1$, $f(x) = 0$ if $x > 1$. Let $C_n = [-1,-1/n]$ for $n \geq 1$, and $D = [0,1]$. Then
    $[-1,1] = \bigcup_{n=1}^\infty C_n \cup D$ and $f$ is continuous on each $C_n$ and each $D$, but $f$ is not continuous on $[-1,1]$.    
\end{example}

\section{Open Maps}

\begin{definition}[Open Map]
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Then $f$ is an \emph{open map} if and
    only if, for every open set $U$ in $X$, the set $f(U)$ is open in $Y$.
\end{definition}

\begin{lemma}
    \label{lemma:open_map_basis}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\BB$ be a basis for the topology on $X$.
    If $f(B)$ is open in $Y$ for all $B \in \BB$, then $f$ is an open map.
\end{lemma}

\begin{proof}
    \pf\ From Lemma \ref{lemma:basis_unions}. \qed
\end{proof}

\begin{proposition}
    \label{proposition:open_map_basis}
    Let $X$ and $Y$ be topological spaces. Let $\BB$ be a basis for the topology on $X$.
    Let $f : X \rightarrow Y$. Suppose that, for all $B \in \BB$, we have $f(B)$
    is open tn $Y$. Then $f$ is an open map.
\end{proposition}

\begin{proof}
    \pf\ For any $\AA \subseteq \BB$, we have $f(\bigcup \AA) = \bigcup_{B \in \BB} f(B)$
    is open in $Y$. The result follows from Lemma \ref{lemma:basis_unions}. \qed
\end{proof}

\section{Continuous Functions}

\begin{definition}[Continuous]
    Let $X$ and $Y$ be topological spaces. A function $f : X \rightarrow Y$ is \emph{continuous} if and only
    if, for every open set $V$ in $Y$, the set $\inv{f}(V)$ is open in $X$.
\end{definition}

\begin{proposition}
    \label{proposition:continuous_basis}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\BB$ be a basis for $Y$. Then $f$
    is continuous if and only if, for all $B \in \BB$, we have $\inv{f}(B)$ is open in $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $f$ is continuous then, for all $B \in \BB$, we have $\inv{f}(B)$ is open in $X$.}
    \begin{proof}
        \pf\ Since every element of $B$ is open (Lemma \ref{lemma:basis_unions}).
    \end{proof}
    \step{2}{Suppose that, for all $B \in \BB$, we have $\inv{f}(B)$ is open in $X$. Then $f$ is continuous.}
    \begin{proof}
        \step{a}{\assume{For all $B \in \BB$, we have $\inv{f}(B)$ is open in $X$.}}
        \step{b}{\pflet{$V$ be open in $Y$.}}
        \step{c}{\pick\ $\AA \subseteq \BB$ such that $V = \bigcup \AA$}
        \begin{proof}
            \pf\ By Lemma \ref{lemma:basis_unions}.
        \end{proof}
        \step{d}{$\inv{f}(V)$ is open in $X$.}
        \begin{proof}
            \pf
            \begin{align*}
                \inv{f}(V) & = \inv{f} \left( \bigcup \AA \right) \\
                & = \bigcup_{B \in \AA} \inv{f}(B)
            \end{align*}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:continuous_subbasis}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\SS$ be a subbasis for $Y$. Then $f$
    is continuous if and only if, for all $S \in \SS$, we have $\inv{f}(S)$ is open in $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $f$ is continuous then, for all $S \in \SS$, we have $\inv{f}(S)$ is open in $X$.}
    \begin{proof}
        \pf\ Since every element of $S$ is open.
    \end{proof}
    \step{2}{Suppose that, for all $S \in \SS$, we have $\inv{f}(S)$ is open in $X$. Then $f$ is continuous.}
    \begin{proof}
        \step{a}{\assume{For all $S \in \SS$, we have $\inv{f}(S)$ is open in $X$.}}
        \step{b}{\pflet{$S_1, \ldots, S_n \in \SS$}}
        \step{c}{$\inv{f}(S_1 \cap \cdots \cap S_n)$ is open in $A$}
        \begin{proof}
            \pf\ Since $\inv{f}(S_1 \cap \cdots \cap S_n) = \inv{f}(S_1) \cap \cdots \cap \inv{f}(S_n)$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Propositions \ref{proposition:continuous_basis} and \ref{proposition:subbasis_basis}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Let $\SS$ be a basis for $Y$. Then $f$
    is continuous if and only if, for all $V \in \SS$, we have $\inv{f}(V)$ is open in $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $f$ is continuous then, for all $V \in \SS$, we have $\inv{f}(V)$ is open in $X$.}
    \begin{proof}
        \pf\ Since every element of $\SS$ is open.
    \end{proof}
    \step{2}{Suppose that, for all $V \in \SS$, we have $\inv{f}(V)$ is open in $X$. Then $f$ is continuous.}
    \begin{proof}
        \step{a}{\assume{For all $V \in \SS$, we have $\inv{f}(V)$ is open in $X$.}}
        \step{b}{For every set $B$ that is the finite intersection of elemets of $\SS$, we have
        $\inv{f}(B)$ is open in $X$.}
        \begin{proof}
            \pf\ Because $\inv{f}(V_1 \cap \cdots \cap V_n) = \inv{f}(V_1) \cap \cdots \cap \inv{f}(V_n)$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ From Propositions \ref{proposition:subbasis_basis} and \ref{proposition:continuous_basis}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Continuous at a Point]
    Let $X$ and $Y$ be topological spaces. Let $f : X \rightarrow Y$ and $x \in X$. Then $f$ is
    \emph{continuous at $x$} if and only if, for every neighbourhood $V$ of $f(x)$, there exists a
    neighbourhood $U$ of $x$ such that $f(U) \subseteq V$.
\end{definition}

\begin{theorem}
    \label{theorem:continuous}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Then the following are equivalent:
    \begin{enumerate}
        \item $f$ is continuous.
        \item For all $A \subseteq X$, we have $f(\overline{A}) \subseteq \overline{f(A)}$
        \item For all $B \subseteq Y$ closed, we have $\inv{f}(B)$ is closed in $X$.
        \item $f$ is continuous at every point of $X$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    \pf
    \step{1}{$1 \Rightarrow 2$}
    \begin{proof}
        \step{a}{\assume{$f$ is continuous.}}
        \step{b}{\pflet{$A \subseteq X$}}
        \step{c}{\pflet{$x \in \overline{A}$} \prove{$f(x) \in \overline{f(A)}$}}
        \step{d}{\pflet{$V$ be a neighbourhood of $f(x)$}}
        \step{e}{$\inv{f}(V)$ is a neighbourhood of $x$}
        \step{f}{\pick\ $y \in A \cap \inv{f}(V)$}
        \begin{proof}
            \pf\ By Theorem \ref{theorem:closure_neighbourhood}.
        \end{proof}
        \step{g}{$f(y) \in V \cap f(A)$}
        \qedstep
        \begin{proof}
            \pf\ By Theorem \ref{theorem:closure_neighbourhood}.
        \end{proof}
    \end{proof}
    \step{2}{$2 \Rightarrow 3$}
    \begin{proof}
        \step{a}{\assume{2}}
        \step{b}{\pflet{$B$ be closed in $Y$}}
        \step{c}{\pflet{$x \in \overline{\inv{f}(B)}$ \prove{$x \in \inv{f}(B)$}}}
        \step{d}{$f(x) \in B$}
        \begin{proof}
            \pf
            \begin{align*}
                f(x) & \in f(\overline{\inv{f}(B)}) \\
                & \subseteq \overline{f(\inv{f}(B))} & (\text{\stepref{a}})\\
                & \subseteq \overline{B} & (Proposition \ref{proposition:closure_monotone}) \\
                & = B
            \end{align*}
        \end{proof}
    \end{proof}
    \step{3}{$3 \Rightarrow 1$}
    \begin{proof}
        \step{a}{\assume{3}}
        \step{b}{\pflet{$V$ be open in $Y$}}
        \step{c}{$Y \setminus V$ is closed in $Y$}
        \step{d}{$\inv{f}(Y \setminus V)$ is closed in $X$}
        \step{e}{$X \setminus \inv{f}(V)$ is closed in $X$}
        \step{f}{$\inv{f}(V)$ is open in $X$}
    \end{proof}
    \step{4}{$1 \Rightarrow 4$}
    \begin{proof}
        \pf\ For any neighbourhood $V$ of $f(x)$, the set $U = \inv{f}(V)$ is a neighbourhood of $x$ such that
        $f(U) \subseteq V$.
    \end{proof}
    \step{5}{$4 \Rightarrow 1$}
    \begin{proof}
        \step{a}{\assume{4}}
        \step{b}{\pflet{$V$ be open in $Y$}}
        \step{c}{\pflet{$x \in \inv{f}(V)$}}
        \step{d}{$V$ is a neighbourhood of $f(x)$}
        \step{e}{\pick\ a neighbourhood $U$ of $x$ such that $f(U) \subseteq V$}
        \step{f}{$x \in U \subseteq \inv{f}(V)$}
        \qedstep
        \begin{proof}
            \pf\ By Lemma \ref{lemma:open}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    A constant function is continuous.
\end{theorem}

\begin{proof}
    \pf\ Let $X$ and $Y$ be topological spaces. Let $b \in Y$, and let $f : X \rightarrow Y$ be the constant
    function with value $b$. For any open $V \subseteq Y$, the set $\inv{f}(V)$ is either $X$ (if $b \in V$)
    or $\emptyset$ (if $b \notin V$). \qed
\end{proof}

\begin{theorem}
    If $A$ is a subspace of $X$ then the inclusion $j : A \rightarrow X$ is continuous.
\end{theorem}

\begin{proof}
    \pf\ For any $V$ open in $X$, we have $\inv{j}(V) = V \cap A$ is open in $A$. \qed
\end{proof}

\begin{theorem}
    \label{theorem:continuous_composite}
    The composite of two continuous functions is continuous.
\end{theorem}

\begin{proof}
    \pf\ Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$ be continuous. For any $V$ open in $Z$,
    we have $\inv{(g \circ f)}(V) = \inv{f}(\inv{g}(V))$ is open in $X$. \qed
\end{proof}

\begin{theorem}
    \label{theorem:continuous_restriction}
    Let $f : X \rightarrow Y$ be a continuous function and $A$ be a subspace of $X$. Then the restriction
    $f \restriction A : A \rightarrow Y$ is continuous.
\end{theorem}

\begin{proof}
    \pf\ Let $V$ be open in $Y$. Then $\inv{(f \restriction A)}(V) = \inv{f}(V) \cap A$ is open in $A$. \qed
\end{proof}

\begin{theorem}
    Let $f : X \rightarrow Y$ be continuous. Let $Z$ be a subspace of $Y$ such that $f(X) \subseteq Z$. Then
    the corestriction $f : X \rightarrow Z$ is continuous.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$V$ be open in $Z$.}}
    \step{2}{\pick\ $U$ open in $Y$ such that $V = U \cap Z$.}
    \step{3}{$\inv{f}(V) = \inv{f}(U)$}
    \step{4}{$\inv{f}(V)$ is open in $X$.}
    \qed
\end{proof}

\begin{theorem}
    Let $f : X \rightarrow Y$ be continuous. Let $Z$ be a space such that $Y$ is a subspace of $Z$.
    Then the expansion $f : X \rightarrow Z$ is continuous.
\end{theorem}

\begin{proof}
    \pf\ Let $V$ be open in $Z$. Then $\inv{f}(V) = \inv{f}(V \cap Y)$ is open in $X$. \qed
\end{proof}

\begin{theorem}
    Let $X$ and $Y$ be topological spaces. Let $f : X \rightarrow Y$. Suppose $\UU$ is a set of open sets
    in $X$ such that $X = \bigcup \UU$ and, for all $U \in \UU$, we have $f \restriction U : U \rightarrow Y$
    is continuous. Then $f$ is continuous.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$V$ be open in $Y$}}
    \step{2}{$\inv{f}(V) = \bigcup_{U \in \UU} \inv{(f \restriction U)}(V)$}
    \step{3}{For all $U \in \UU$, we have $\inv{(f \restriction U)}(V)$ is open in $U$.}
    \step{4}{For all $U \in \UU$, we have $\inv{(f \restriction U)}(V)$ is open in $X$.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subspace_open}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ and $X'$ be the same set $X$ under two topologies $\TT$ and $\TT'$. Let $i : X \rightarrow X'$
    be the identity function. Then $i$ is continuous if and only if $\TT' \subseteq \TT$.
\end{proposition}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{proposition}
    Let $f : \RR \rightarrow \RR$ and $a \in \RR$. Then $f$ is continuous on the right at $a$ if and only if
    $f$ is continuous at $a$ as a function $\RR_l \rightarrow \RR$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $f$ is continuous on the right at $a$ then $f$ is continuous at $a$ as a function $\RR_l
    \rightarrow \RR$.}
    \begin{proof}
        \step{a}{\assume{$f$ is continuous on the right at $a$.}}
        \step{b}{\pflet{$V$ be a neighbourhood of $f(a)$}}
        \step{c}{\pick\ $b$, $c$ such that $f(a) \in (b,c) \subseteq V$.}
        \step{d}{\pflet{$\epsilon = \min(c-f(a),f(a)-b)$}}
        \step{e}{\pick\ $\delta > 0$ such that, for all $x$, if $a < x < a + \delta$ then
        $|f(x)-f(a)|< \epsilon$}
        \step{f}{\pflet{$U = [a,a+\delta)$}}
        \step{g}{$f(U) \subseteq V$}
    \end{proof}
    \step{2}{If $f$ is continuous at $a$ as a function $\RR_l \rightarrow \RR$ then $f$ is continuous on
    the right at $a$.}
    \begin{proof}
        \step{a}{\assume{$f$ is continuous at $a$ as a function $\RR_l \rightarrow \RR$}}
        \step{b}{\pflet{$\epsilon > 0$}}
        \step{c}{\pick\ a neighbourhood $U$ of $a$ such that $f(U) \subseteq (f(a)-\epsilon, f(a)+\epsilon)$}
        \step{d}{\pick\ $b$, $c$ such that $a \in [b,c) \subset U$}
        \step{e}{\pflet{$\delta = c - a$}}
        \step{f}{For all $x$, if $a < x < a + \delta$ then $|f(x)-f(a)| < \epsilon$}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:continuous_open_subspace}
    Let $f : X \rightarrow Y$. Let $Z$ be an open subspace of $X$ and $a \in Z$. If $f \restriction Z$ is continuous at $a$ then $f$ is continuous at $a$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$V$ be a neighbourhood of $f(x)$}}
    \step{2}{\pick\ a neighbourhood $W$ of $x$ in $Z$ such that $f(W) \subseteq V$}
    \step{3}{$W$ is a neighbourhood of $x$ in $X$ such that $f(W) \subseteq V$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subspace_open}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $f : A \rightarrow B$ and $g : C \rightarrow D$ be continuous. Define $f \times g : A \times C \rightarrow B \times D$ by
    \[ (f \times g)(a,c) = (f(a), g(c)) \enspace . \]
    Then $f \times g$ is continuous.
\end{proposition}

\begin{proof}
    \pf\ $\pi_1 \circ (f \times g) = f \circ \pi_1$ and $\pi_2 \circ (f \times g) = g \circ \pi_2$ are continuous
    by Theorem \ref{theorem:continuous_composite}. The result follows by Theorem \ref{theorem:product_continuous}.
\end{proof}

\begin{proposition}
    \label{proposition:converge_continuous}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$ be continuous. If $a_n \rightarrow l$ as $n \rightarrow \infty$ in $X$ then
    $f(a_n) \rightarrow f(l)$ as $n \rightarrow \infty$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$V$ be a neighbourhood of $f(l)$}}
    \step{2}{\pick\ a neighbourhood $U$ of $l$ such that $f(U) \subseteq V$}
    \step{3}{\pick\ $N$ such that, for all $n \geq N$, we have $a_n \in U$}
    \step{4}{For all $n \geq N$ we have $f(n) \in V$}
    \qed
\end{proof}

\section{Homeomorphisms}

\begin{definition}[Homeomorphism]
    Let $X$ and $Y$ be topological spaces. A \emph{Homeomorphism} $f$ between $X$ and $Y$, $f : X \cong Y$,
    is a bijection $f : X \rightarrow Y$ such that both $f$ and $\inv{f}$ are continuous.
\end{definition}

\begin{lemma}
    \label{lemma:homeomorphism}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$ a bijection. Then the following are
    equivalent:
    \begin{enumerate}
        \item $f$ is a homeomorphism.
        \item $f$ is continuous and an open map.
        \item $f$ is continuous and a closed map.
        \item For any $U \subseteq X$, we have $U$ is open if and only if $f(U)$ is open.
    \end{enumerate}
\end{lemma}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{proposition}
    Let $X$ and $X'$ be the same set $X$ under two topologies $\TT$ and $\TT'$. Let $i : X \rightarrow X'$
    be the identity function. Then $i$ is a homeomorphism if and only if $\TT = \TT'$.
\end{proposition}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\begin{definition}[Topological Property]
    Let $P$ be a property of topological spaces. Then $P$ is a \emph{topological} property if and only if,
    for any spaces $X$ and $Y$, if $P$ holds of $X$ and $X \cong Y$ then $P$ holds of $Y$.
\end{definition}

\begin{definition}[Topological Imbedding]
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Then $f$ is a \emph{topological
    imbedding} if and only if the corestriction $f : X \rightarrow f(X)$ is a homeomorphism.
\end{definition}

\begin{proposition}
    \label{proposition:imbedding_product}
    Let $X$ and $Y$ be topological spaces and $a \in X$. The function $i : Y \rightarrow X \times Y$ that maps $y$ to $(a,y)$ is an imbedding.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$i$ is injective}
    \step{2}{$i$ is continuous.}
    \begin{proof}
        \pf\ For $U$ open in $X$ and $V$ open in $Y$, we have $\inv{i}(U \times V)$ is $V$ if $a \in U$, and $\emptyset$ if $a \notin U$.
    \end{proof}
    \step{3}{$i : Y \rightarrow i(Y)$ is an open map.}
    \begin{proof}
        \pf\ For $V$ open in $Y$ we have $i(V) = (X \times V) \cap i(Y)$.
    \end{proof}
    \qed
\end{proof}

\section{The Order Topology}

\begin{definition}[Order Topology]
    Let $X$ be a linearly ordered set with at least two points. The \emph{order topology} on $X$ is the topology
    generated by the basis $\mathcal{B}$ consisting of:
    \begin{itemize}
        \item all open intervals $(a,b)$;
        \item all intervals of the form $[\bot,b)$ where $\bot$ is least in $X$;
        \item all intervals of the form $(a,\top]$ where $\top$ is greatest in $X$.
    \end{itemize}
\end{definition}

We prove this is a basis for a topology.

\begin{proof}
    \pf
    \step{1}{For all $x \in X$ there exists $B \in \mathcal{B}$ such that $x \in B$.}
    \begin{proof}
        \step{a}{\pflet{$x \in X$}}
        \step{b}{\case{$x$ is greatest in $X$.}}
        \begin{proof}
            \step{i}{\pick\ $y \in X$ with $y \neq x$}
            \step{ii}{$x \in (y,x] \in \BB$}
        \end{proof}
        \step{c}{\case{$x$ is least in $X$.}}
        \begin{proof}
            \step{i}{\pick\ $y \in X$ with $y \neq x$}
            \step{ii}{$x \in [x,y) \in \BB$}
        \end{proof}
        \step{d}{\case{$x$ is neither greatest nor least in $X$.}}
        \begin{proof}
            \step{i}{\pick\ $a, b \in X$ with $a < x$ and $x < b$}
            \step{ii}{$x \in (a,b) \in \BB$}
        \end{proof}
    \end{proof}
    \step{2}{For all $B_1, B_2 \in \mathcal{B}$ and $x \in B_1 \cap B_2$, there exists $B_3 \in \BB$
    such that $x \in B_3 \subseteq B_1 \cap B_2$}
    \begin{proof}
        \step{i}{\pflet{$B_1, B_2 \in \BB$ and $x \in B_1 \cap B_2$}}
        \step{ii}{\case{$B_1 = (a,b)$, $B_2 = (c,d)$}}
        \begin{proof}
            \pf\ Take $B_3 = (\max (a,c), \min (b,d))$.
        \end{proof}
        \step{iii}{\case{$B_1 = (a,b)$, $B_2 = [\bot,d)$}}
        \begin{proof}
            \pf\ Take $B_3 = (a, \min (b,d))$.
        \end{proof}
        \step{iv}{\case{$B_1 = (a,b)$, $B_2 = (c,\top]$}}
        \begin{proof}
            \pf\ Take $B_3 = (\max (a,c), b)$.
        \end{proof}
        \step{v}{\case{$B_1 = [\bot,b)$, $B_2 = [\bot,d)$}}
        \begin{proof}
            \pf\ Take $B_3 = [\bot, \min (b,d))$.
        \end{proof}
        \step{vi}{\case{$B_1 = [\bot, b)$, $B_2 = (c, \top]$}}
        \begin{proof}
            \pf\ Take $B_3 = (c, b)$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:open_rays_subbasis}
    Let $X$ be a linearly ordered set. Then the open rays form a subbasis for the order topology on $X$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{Every open ray is open.}
    \begin{proof}
        \step{a}{For all $a \in X$, the ray $(- \infty, a)$ is open.}
        \begin{proof}
            \step{i}{\pflet{$x \in (- \infty, a)$}}
            \step{ii}{\case{$x$ is least in $X$}}
            \begin{proof}
                \pf\ $x in [x, a) = (- \infty, a)$.
            \end{proof}
            \step{iii}{\case{$x$ is not least in $X$}}
            \begin{proof}
                \step{one}{\pick\ $y < x$}
                \step{two}{$x \in (y, a) \subseteq (- \infty, a)$}
            \end{proof}
        \end{proof}
        \step{b}{For all $a \in X$, the ray $(a, + \infty)$ is open.}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
    \end{proof}
    \step{2}{Every basic open set is a finite intersection of open rays.}
    \begin{proof}
        \pf\ We have $(a,b) = (a,+\infty) \cap (-\infty, b)$, $[\bot,b) = (- \infty, b)$ and
        $(a, \top] = (a, + \infty)$.
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Standard Topology on the Real Line]
    The \emph{standard topology on the real line} is the order topology on $\RR$ generated by the standard
    order.
\end{definition}

\begin{lemma}
    The lower limit topology is strictly finer than the standard topology on $\RR$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{Every open interval is open in the lower limit topology.}
    \begin{proof}
        \pf\ If $x \in (a,b)$ then $x \in [x,b) \subseteq (a,b)$.
    \end{proof}
    \step{2}{The half-open interval $[0,1)$ is not open in the standard topology.}
    \begin{proof}
        \pf\ There is no open interval $(a,b)$ such that $0 \in (a,b) \subseteq [0,1)$.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    The $K$-topology is strictly finer than the standard topology on $\RR$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{Every open interval is open in the $K$-topology.}
    \begin{proof}
        \pf\ Corollary \ref{cor:basis_open}.
    \end{proof}
    \step{2}{The set $(-1,1) \setminus K$ is not open in the standard topology.}
    \begin{proof}
        \pf\ There is no open interval $(a,b)$ such that $0 \in (a,b) \subseteq (-1,1) \setminus K$, since
        there must be a positive integer $n$ with $1/n \in (a,b)$.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:order_topology_closed}
    Let $X$ be a topological space.
    Let $Y$ be a linearly ordered set in the order topology. Let $f, g : X \rightarrow Y$ be continuous. Then $C = \{ x \in X \mid f(x) \leq g(x) \}$ is closed.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$x \in X \setminus C$}}
    \step{2}{$f(x) > g(x)$ \prove{There exists a neighbourhood $U$ of $x$ such that $U \subseteq X \setminus C$}}
    \step{3}{\case{There exists $y$ such that $g(x) < y < f(x)$}}
    \begin{proof}
        \pf\ Take $U = \inv{g}((-\infty, y)) \cup \inv{f}(y,+\infty)$.
    \end{proof}
    \step{4}{\case{There is no $y$ such that $g(x) < y < f(x)$}}
    \begin{proof}
        \pf\ Take $U = \inv{g}((-\infty, f(x))) \cup \inv{f}(g(x),+\infty)$.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space.
    Let $Y$ be a linearly ordered set in the order topology. Let $f, g : X \rightarrow Y$ be continuous. Define $h : X \rightarrow Y$ by $h(x) = \min(f(x),g(x))$.
    Then $h$ is continuous.
\end{proposition}

\begin{proof}
    \pf\ By the Pasting Lemma applied to $\{ x \in X \mid f(x) \leq g(x) \}$ and $\{ x \in X \mid g(x) \leq f(x) \}$, which are closed by Lemma \ref{lemma:order_topology_closed}.
\end{proof}

\begin{proposition}
    \label{proposition:homeomorphism_order_topology}
    Let $X$ and $Y$ be linearly ordered sets in the order topology. Let $f : X \rightarrow Y$ be strictly monotone and surjective. Then $f$ is a homeomorphism.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$f$ is bijective.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:iso_strictly_monotone_sujective}.
    \end{proof}
    \step{2}{$f$ is continuous.}
    \begin{proof}
        \step{a}{For all $y \in Y$ we have $\inv{f}((y, +\infty))$ is open.}
        \begin{proof}
            \step{i}{\pflet{$y \in Y$}}
            \step{ii}{\pick{$x \in X$ such that $f(x) = y$}}
            \begin{proof}
                \pf\ Since $f$ is surjective.
            \end{proof}
            \step{iii}{$\inv{f}((y, +\infty)) = (x, +\infty)$}
            \begin{proof}
                \pf\ By strict monotoncity.
            \end{proof}
        \end{proof}
        \step{b}{For all $y \in Y$ we have $\inv{f}((-\infty, y))$ is open.}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
    \end{proof}
    \step{3}{$\inv{f}$ is continuous.}
    \begin{proof}
        \step{a}{For all $x \in X$ we have $f((x, +\infty))$ is open.}
        \begin{proof}
            \pf\ $f((x, +\infty)) = (f(x), +\infty)$.
        \end{proof}
        \step{b}{For all $x \in X$ we have $f((-\infty, x))$ is open.}
        \begin{proof}
            \pf\ $f((-\infty, x)) = (-\infty, f(x))$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\section{The $n$th Root Function}

\begin{proposition}
    For all $n \geq 1$, the function $f : \RR_{\geq 0} \rightarrow \RR_{\geq 0}$ defined by $f(x) = x^n$ is a homemorphism.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$f$ is strictly monotone.}
    \begin{proof}
        \step{a}{\pflet{$x,y \in \RR$ with $0 \leq x < y$}}
        \step{b}{$x^n < y^n$}
        \begin{proof}
            \begin{align*}
                y^n - x^n & = (y - x)(y^{n-1} + y^{n-2}x + y^{n-3}x^2 + \cdots + x^{n-1}) \\
                & > 0
            \end{align*}
        \end{proof}
    \end{proof}
    \step{2}{$f$ is surjective.}
    \begin{proof}
        \step{a}{\pflet{$y \in \RR_{\geq 0}$}}
        \step{b}{\pick\ $x \in \RR$ such that $y \leq x^n$}
        \begin{proof}
            \pf\ If $y \leq 1$ take $x = 1$, otherwise take $x = y$.
        \end{proof}
        \step{c}{There exists $x' \in [0,x]$ such that $(x')^n = y$}
        \begin{proof}
            \pf\ By the Intermediate Value Theorem.
        \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Proposition \ref{proposition:homeomorphism_order_topology}.
    \end{proof}
    \qed
\end{proof}

\begin{definition}
    For $n \geq 1$, the \emph{$n$th root function} is the function $\RR_{\geq 0} \rightarrow \RR_{\geq 0}$ that is the inverse of $\lambda x.x^n$.
\end{definition}

\section{The Product Topology}

\begin{definition}[Product Topology]
    Let $\{ A_i \}_{i \in I}$ be a family of topological spaces. The \emph{product topology} on $\prod_{i \in I} A_i$
    is the topology generated by the subbasis consisting of the sets of the form $\inv{\pi_i}(U)$ where $i \in I$
    and $U$ is open in $A_i$.
\end{definition}

\begin{proposition}
    \label{proposition:product_basis}
    The product topology on $\prod_{i \in I} A_i$ is generated by the basis consisting of all sets of the form $\prod_{i \in I} U_i$
    where $\{ U_i \}_{i \in I}$ is a family such that each $U_i$ is an open set in $A_i$ and $U_i = A_i$ for all but finitely many $i$.
\end{proposition}

\begin{proof}
    \pf\ From Proposition \ref{proposition:subbasis_basis}. \qed
\end{proof}

\begin{proposition}
    \label{proposition:closed_product}
    If $A_i$ is closed in $X_i$ for all $i \in I$ then $\prod_{i \in I} A_i$ is closed in $\prod_{i \in I} X_i$.
\end{proposition}

\begin{proof}
    \pf
    \[ (\prod_{i \in I} X_i) \setminus (\prod_{i \in I} A_i) = \bigcup_{j \in I} \left( \prod_{i \in I} X_i \setminus \inv{\pi_j}(A_j) \right) \qed \]
\end{proof}

\begin{proposition}
    Let $\{ A_i \}_{i \in I}$ be a family of topological spaces. For $i \in I$, let $\BB_i$ be a basis for the topology on $A_i$. Then $\BB = \{ \prod_{i \in I} B_i \mid
    \forall i \in I. B_i \in \BB_i, B_i = A_i \text{ for all but finitely many } i \}$ is a basis for the box topology on $\prod_{i \in I} A_i$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{Every set in $\BB$ is open.}
    \step{2}{For every point $a \in \prod_{i \in I} A_i$ and every open set $U$ with $a \in U$, there exists $B \in \BB$ such that $a \in B \subseteq U$.}
    \begin{proof}
        \step{a}{\pflet{$U$ be open and $a \in U$}}
        \step{b}{\pick\ a family $\{ U_i \}_{i \in I}$ such that each $U_i$ is open in $A_i$, such that $U_i = A_i$ except for $i = i_1, \ldots, i_n$, and 
        such that $a \in \prod_{i \in I} U_i \subseteq U$.}
        \step{c}{For $j = 1, \ldots, n$, \pick\ $B_{i_j} \in \BB_{i_j}$ such that $a_{i_j} \in B_{i_j} \subseteq U_{i_j}$}
        \step{d}{\pflet{$B = \prod_{i \in I} B_i$ where $B_i = A_i$ for $i \neq i_1, \ldots, i_n$}}
        \step{e}{$B \in \BB$}
        \step{f}{$a \in B \subseteq U$}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Lemma \ref{lemma:basis}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:open_map_projections}
    Let $\{ A_i \}_{i \in I}$ be a family of topological spaces. Then the projections $\pi_i : \prod_{i \in I} A_i \rightarrow A_i$ are open maps.
\end{proposition}

\begin{proof}
    \pf\ From Lemma \ref{lemma:open_map_basis}. \qed
\end{proof}

\begin{example}
    The projections are not always closed maps. For example, $\pi_1 : \RR^2 \rightarrow \RR$ maps the closed set $\{ (x,1/x) \mid x > 0 \}$ to $(0, + \infty)$.
\end{example}

\begin{proposition}
    Let $\{ X_i \}_{i \in I}$ be a family of sets. For $i \in I$, let $\TT_i$ and $\UU_i$ be topologies
    on $X_i$. Let $\mathcal{P}$ be the product topology on $\prod_{i \in I} X_i$ generated by
    the topologies $\TT_i$, and $\mathcal{Q}$ the product topology on the same set generated by the topologies
    $\UU_i$. Then $\mathcal{P} \subseteq \mathcal{Q}$ if and only if $\TT_i \subseteq \UU_i$ for all $i$.
\end{proposition}

\begin{proof}
    \pf
    \step{2}{If $\TT_i \subseteq \UU_i$ for all $i$ then $\mathcal{P} \subseteq \mathcal{Q}$}
    \begin{proof}
        \pf\ By Corollary \ref{cor:basis_open}.
    \end{proof}
    \step{3}{If $\mathcal{P} \subseteq \mathcal{Q}$ then $\TT_i \subseteq \UU_i$ for all $i$}
    \begin{proof}
        \step{a}{\assume{$\mathcal{P} \subseteq \mathcal{Q}$}}
        \step{b}{\pflet{$i \in I$}}
        \step{c}{\pflet{$U \in \TT_i$}}
        \step{d}{\pflet{$U_i = U$ and $U_j = X_j$ for $j \neq i$}}
        \step{e}{$\prod_{i \in I} U_i \in \mathcal{P}$}
        \step{f}{$\prod_{i \in I} U_i \in \mathcal{Q}$}
        \step{g}{$U \in \UU_i$}
        \begin{proof}
            \pf\ From Proposition \ref{proposition:open_map_projections}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}[AC]
    Let $\{ X_i \}_{i \in I}$ be a family of topological spaces. Let $A_i \subseteq X_i$ for all $i \in I$.
    Then
    \[ \prod_{i \in I} \overline{A_i} = \overline{\prod_{i \in I} A_i} \enspace . \]
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\overline{\prod_{i \in I} A_i} \subseteq \prod_{i \in I} \overline{A_i}$}
    \begin{proof}
        \step{a}{For all $i \in I$ we have $A_i \subseteq \overline{A_i}$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:closure_subset}.
        \end{proof}
        \step{c}{$\prod_{i \in I} A_i \subseteq \prod_{i \in I} \overline{A_i}$}
        \qedstep
        \begin{proof}
            \pf\ Since $\prod_{i \in I} A_i$ is closed by Proposition \ref{proposition:closed_product}.
        \end{proof}
    \end{proof}
    \step{2}{$\prod_{i \in I} \overline{A_i} \subseteq \overline{\prod_{i \in I} A_i}$}
    \begin{proof}
        \step{a}{\pflet{$x \in \prod_{i \in I} \overline{A_i}$}}
        \step{b}{\pflet{$U$ be a neighbourhood of $x$}}
        \step{c}{\pick\ $V_i$ open in $X_i$ such that $x \in \prod_{i \in I} V_i \subseteq U$ with $V_i = X_i$ except for $i = i_1, \ldots, i_n$}
        \step{d}{For $i \in I$, pick $a_i \in V_i \cap A_i$}
        \begin{proof}
            \pf\ By Theorem \ref{theorem:closure_neighbourhood} and \stepref{a} using the Axiom of Choice.
        \end{proof}
        \step{f}{$U$ intersects $\prod_{i \in I} A_i$}
        \qedstep
        \begin{proof}
            \pf\ $a \in U \cap \prod_{i \in I} A_i$
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{example}
    The closure of $\RR^\infty$ in $\RR^\omega$ is $\RR^\omega$
\end{example}

\begin{proof}
    \pf
    \step{1}{\pflet{$a \in \RR^\omega$}}
    \step{2}{\pflet{$U$ be any neighbourhoods of $a$.}}
    \step{3}{\pick\ $U_n$ open in $\RR$ for all $n$ such that $a \in \prod_{n \geq 0} U_n \subseteq U$ and $U_n = \RR$ for all $n$ except $n_1$, \ldots, $n_k$}
    \step{4}{\pflet{$b_n = a_n$ for $n = n_1, \ldots, n_k$ and $b_n = 0$ for all other $n$}}
    \step{5}{$b \in \RR^\infty \cap U$}
    \qedstep
    \begin{proof}
        \pf\ From Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:converge_product}
    Let $\{ X_i \}_{i \in I}$ be a family of topological spaces. Let $(a_n)$ be a sequence in $\prod_{i \in I} X_i$ and $l \in \prod_{i \in I} X_i$.
    Then $a_n \rightarrow l$ as $n \rightarrow \infty$ if and only if, for all $i \in I$, we have $\pi_i(a_n) \rightarrow \pi_i(l)$ as $n \rightarrow \infty$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{If $a_n \rightarrow l$ as $n \rightarrow \infty$ then, for all $i \in I$, we have $\pi_i(a_n) \rightarrow \pi_i(l)$ as $n \rightarrow \infty$}
    \begin{proof}
        \pf\ Proposition \ref{proposition:converge_continuous}.
    \end{proof}
    \step{2}{If, for all $i \in I$, we have $\pi_i(a_n) \rightarrow \pi_i(l)$ as $n \rightarrow \infty$, then $a_n \rightarrow l$ as $n \rightarrow \infty$}
    \begin{proof}
        \step{a}{\assume{For all $i \in I$, we have $\pi_i(a_n) \rightarrow \pi_i(l)$ as $n \rightarrow \infty$}}
        \step{b}{\pflet{$V$ be a neighbourhood of $l$}}
        \step{c}{\pick\ open sets $U_i$ in $X_i$ such that $l \in \prod_{i \in I} U_i \subseteq V$ and $U_i = X_i$ for all $i$ except $i = i_1, \ldots, i_k$}
        \step{d}{For $j = 1, \ldots, k$, \pick\ $N_j$ such that, for all $n \geq N_j$, we have $\pi_{i_j}(a_n) \in U_{i_j}$}
        \step{e}{\pflet{$N = \max(N_1, \ldots, N_k)$}}
        \step{f}{For all $n \geq N$ we have $a_n \in V$}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:product_continuous}
        Let $A$ be a topological space and $\{ X_i \}_{i \in I}$ be a family of topological spaces. Let $f : A \rightarrow \prod_{i \in I} X_i$ be a function.
        If $\pi_i \circ f$ is continuous for all $i \in I$ then $f$ is continuous.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$i \in I$ and $U$ be open in $X_i$}}
    \step{2}{$\inv{f}(\inv{\pi_i}(U))$ is open in $A$}
    \qedstep
    \begin{proof}
        \pf\ Proposition \ref{proposition:continuous_subbasis}.
    \end{proof}
    \qed
\end{proof}

\subsection{Continuous in Each Variable Separately}

\begin{definition}[Continuous in Each Variable Separately]
    Let $F : X \times Y \rightarrow Z$. Then $F$ is \emph{continuous in each
    variable separately} if and only if:
    \begin{itemize}
        \item for every $a \in X$ the function $\lambda y \in Y. F(a,y)$ is continuous;
        \item for every $b \in Y$ the function $\lambda x \in X. F(x,b)$ is continuous.
    \end{itemize}
\end{definition}

\begin{proposition}
    Let $F : X \times Y \rightarrow Z$. If $F$ is continuous then $F$ is continuous in each
    variable separately.
\end{proposition}

\begin{proof}
    \pf\ For $a \in X$, the function $\lambda y \in Y. F(a,y)$ is $F \circ i$ where $i : Y \rightarrow X \times Y$ maps $y$ to $(a,y)$.
    We have $i$ is continuous by Proposition \ref{proposition:imbedding_product}, hence $F \circ i$ is continuous by Theorem \ref{theorem:continuous_composite}.

    Similarly for $\lambda x \in X. F(x,b)$ for $b \in Y$. \qed
\end{proof}

\begin{example}
    Define $F : \RR \times \RR \rightarrow \RR$ by
    \[ F(x,y) = \begin{cases}
        xy / (x^2 + y^2) & \text{if } (x,y) \neq (0,0) \\
        0 & \text{if } (x,y) = (0,0)
    \end{cases} \]
    Then $F$ is continuous in each variable separately but not continuous.
\end{example}

\begin{proposition}
    \label{proposition:open_map_product}
    Let $f : A \rightarrow C$ and $g : B \rightarrow D$ be open maps. Then $f \times g : A \times B \rightarrow C \times D$ is an open map.
\end{proposition}

\begin{proof}
    \pf\ Given $U$ open in $A$ and $V$ open in $B$. Then $(f \times g)(U \times V) = f(U) \times g(V)$ is open in $C \times D$.
    The result follows from Proposition \ref{proposition:open_map_basis}. \qed
\end{proof}

\section{The Subspace Topology}

\begin{definition}[Subspace Topology]
    Let $X$ be a topological space and $Y \subseteq X$. The \emph{subspace topology} on $Y$ is
    $\TT = \{ U \cap Y \mid U \text{ is open in } X \}$.
\end{definition}

We prove this is a topology.

\begin{proof}
    \pf
    \step{1}{$Y \in \TT$}
    \begin{proof}
        \pf\ Since $Y = X \cap Y$
    \end{proof}
    \step{2}{For all $\UU \subseteq \TT$, we have $\bigcup \UU \in \TT$}
    \begin{proof}
        \step{a}{\pflet{$\UU \subseteq \TT$}}
        \step{b}{\pflet{$\VV = \{ V \text{ open in } X \mid V \cap Y \in \UU \}$}}
        \step{c}{$\bigcup \UU = \left( \bigcup \VV  \right) \cap Y$}
    \end{proof}
    \step{3}{For all $U, V \in \TT$, we have $U \cap V \in \TT$}
    \begin{proof}
        \step{a}{\pflet{$U, V \in \TT$}}
        \step{b}{\pick\ $U'$, $V'$ open in $X$ such that $U = U' \cap Y$ and $V = V' \cap Y$}
        \step{c}{$(U \cap V) = (U' \cap V') \cap Y$}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:closed}
    Let $X$ be a topological space and $Y$ a subspace of $X$. Let $A \subseteq Y$. Then $A$ is closed in $Y$
    if and only if there exists a closed set $C$ in $X$ such that $A = C \cap Y$.
\end{theorem}

\begin{proof}
    \pf\ 
    We have
    \begin{align*}
        & A \text{ is closed in } Y \\
        \Leftrightarrow & Y \setminus A \text{ is open in } Y \\
        \Leftrightarrow & \exists U \text{ open in } X. Y \setminus A = Y \cap U \\
        \Leftrightarrow & \exists C \text{ closed in } X. Y \setminus A = Y \cap (X \setminus U) \\
        \Leftrightarrow & \exists C \text{ closed in } X. A = Y \cap U & \qed
    \end{align*}
\end{proof}

\begin{theorem}
    Let $Y$ be a subspace of $X$. Let $A \subseteq Y$. Let $\overline{A}$ be the closure of $A$ in $X$.
    Then the closure of $A$ in $Y$ is $\overline{A} \cap Y$.
\end{theorem}

\begin{proof}
    \pf\ The closure of $A$ in $Y$ is
    \begin{align*}
        & \bigcap \{ C \text{ closed in } Y \mid A \subseteq C \} \\
        = & \bigcap \{ D \cap Y \mid D \text{ closed in } X, A \subseteq D \cap Y \} 
            & (\text{Theorem \ref{theorem:closed}})\\
        = & \bigcap \{ D \mid D \text{ closed in } X, A \subseteq D \} \cap Y \\
        = & \overline{A} \cap Y & \qed
    \end{align*}
\end{proof}

\begin{lemma}
    \label{lemma:subspace_basis}
    Let $X$ be a topological space and $Y \subseteq X$. Let $\BB$ be a basis for the topology on $X$.
    Then $\BB' = \{ B \cap Y \mid B \in \BB \}$ is a basis for the subspace topology on $Y$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{Every element in $\BB'$ is open in $Y$}
    \step{2}{For every open set $U$ in $Y$ and point $y \in U$, there exists $B' \in \BB'$ such that
    $y \in B' \subseteq U$}
    \begin{proof}
        \step{a}{\pflet{$U$ be open in $Y$ and $y \in U$}}
        \step{b}{\pick\ $V$ open in $X$ such that $U = V \cap Y$}
        \step{c}{\pick\ $B \in \BB$ such that $y \in B \subseteq V$}
        \step{d}{\pflet{$B' = B \cap Y$}}
        \step{e}{$B' \in \BB'$}
        \step{f}{$y \in B' \subseteq U$}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ By Lemma \ref{lemma:basis}.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:subspace_subbasis}
    Let $X$ be a topological space and $Y \subseteq X$. Let $\SS$ be a basis for the topology on $X$.
    Then $\SS' = \{ S \cap Y \mid S \in \SS \}$ is a subbasis for the subspace topology on $Y$.
\end{lemma}

\begin{proof}
    \pf\ The set $\{ B \cap Y \mid B \text{ is a finite intersection of elements of } \SS \}$ is a basis
    for the subspace topology by Lemma \ref{lemma:subspace_basis}, and this is the set of all finite
    intersections of elements of $\SS'$. \qed
\end{proof}

\begin{lemma}
    \label{lemma:subspace_open}
    Let $Y$ be a subspace of $X$. If $U$ is open in $Y$ and $Y$ is open in $X$ then $U$ is open in $X$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pick\ $V$ open in $X$ such that $U = V \cap Y$}
    \step{2}{$U$ is open in $X$}
    \begin{proof}
        \pf\ Since it is the intersection of two open sets $V$ and $Y$.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:closed_subspace}
    Let $Y$ be a subspace of $X$ and $A \subseteq Y$. If $A$ is closed in $Y$ and $Y$ is closed in $X$
    then $A$ is closed in $X$.
\end{theorem}

\begin{proof}
    \pf\ Pick a closed set $C$ in $X$ such that $A = C \cap Y$ (Theorem \ref{theorem:closed}). Then
    $A$ is the intersection of two sets closed in $X$, hence $A$ is closed in $X$ (Lemma \ref{lemma:closed_intersection}). \qed
\end{proof}

\begin{theorem}
    Let $\{ X_i \}_{i \in I}$ be a family of topological spaces. Let $A_i$ be a subspace of $X_i$ for all $i \in I$.
    Then the product topology on $\prod_{i \in I} A_i$ is the same as the topology it inherits as a subspace of
    $\prod_{i \in I} X_i$.
\end{theorem}

\begin{proof}
    \pf\ The product topology is generated by the subbasis
    \begin{align*}
        & \{ \inv{\pi_i}(U) \mid i \in I, U \text{ open in } A_i \} \\
        = & \{ \inv{\pi_i}(V) \cap A_i \mid i \in I, V \text{ open in } X_i \} \\
        = & \{ \inv{\pi_i}(V) \mid i \in I, V \text{ open in } X_i \} \cap \prod_{i \in I} A_i
    \end{align*}
    and this is a subbasis for the subspace topology by Lemma \ref{lemma:subspace_subbasis}. \qed
\end{proof}

\begin{theorem}
    Let $X$ be an ordered set in the order topology. Let $Y \subseteq X$ be an interval. Then the order topology
    on $Y$ is the same as the subspace topology on $Y$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{The order topology is finer than the subspace topology.}
    \begin{proof}
        \step{a}{For every open ray $R$ in $X$, the set $R \cap Y$ is open in the order topology.}
        \begin{proof}
            \step{i}{For all $a \in X$, we have $(-\infty, a) \cap Y$ is open in the order topology.}
            \begin{proof}
                \step{one}{\case{For all $y \in Y$ we have $y < a$}}
                \begin{proof}
                    \pf\ In this case $(-\infty, a) \cap Y = Y$.
                \end{proof}
                \step{two}{\case{For all $y \in Y$ we have $a < y$}}
                \begin{proof}
                    \pf\ In this case $(-\infty, a) \cap Y = \emptyset$.
                \end{proof}
                \step{three}{\case{There exists $y \in Y$ such that $y \leq a$ and $y \in Y$ such that
                $a \leq y$}}
                \begin{proof}
                    \step{aa}{$a \in Y$}
                    \begin{proof}
                        \pf\ Because $Y$ is an interval.
                    \end{proof}
                    \step{bb}{$(-\infty, a) \cap Y = \{ y \in Y \mid y < a \}$}
                \end{proof}
            \end{proof}
            \step{ii}{For all $a \in X$, we have $(a, +\infty) \cap Y$ is open in the order topology.}
            \begin{proof}
                \pf\ Similar.
            \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Lemmas \ref{lemma:open_rays_subbasis} and \ref{lemma:subspace_subbasis} and Proposition
            \ref{proposition:subbasis_coarsest}.
        \end{proof}
    \end{proof}
    \step{2}{The subspace topology is finer than the order topology.}
    \begin{proof}
        \step{a}{Every open ray in $Y$ is open in the subspace topology.}
        \begin{proof}
            \pf\ For any $a \in Y$ we have $(-\infty, a)_Y = (-\infty, a)_X \cap Y$
            and $(a, +\infty)_Y = (a,+\infty)_X \cap Y$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Lemma \ref{lemma:open_rays_subbasis} and  Proposition
            \ref{proposition:subbasis_coarsest}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

This example shows that we cannot remove the hypothesis that $Y$ is an interval:

\begin{example}
    The order topology on $I_o^2$ is different from the subspace topology as a subspace of $\RR^2$ under
    the dictionary order topology.
\end{example}

\begin{proof}
    \pf\ The set $\{ 1/2 \} \times (1/2, 1)$ is open in the subspace topology but not in the order topology.
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space, $Y$ a subspace of $X$, and $Z$ a subspace of $Y$. Then the subspace
    topology on $Z$ inherited from $X$ is the same as the subspace topology on $Z$ inherited from $Y$.
\end{proposition}

\begin{proof}
    \pf\ The subspace topology inherited from $Y$ is
    \begin{align*}
        & \{ V \cap Z \mid V \text{ open in } Y \} \\
        = & \{ U \cap Y \cap Z \mid U \text{ open in } X \} \\
        = & \{ U \cap Z \mid U \text{ open in } X \}
    \end{align*}
    which is the subspace topology inherited from $X$. \qed
\end{proof}

\begin{definition}[Unit Circle]
    The \emph{unit circle} $S^1$ is $\{ (x,y) \in \RR^2 \mid x^2 + y^2 = 1 \}$ as a subspace of $\RR^2$.
\end{definition}

\begin{definition}[Unit 2-sphere]
    The \emph{unit 2-sphere} is $S^2 = \{ (x,y,z) \mid x^2 + y^2 + z^2 \leq 1 \}$ as a subspace of $\RR^3$.
\end{definition}

\begin{proposition}
    Let $f : X \rightarrow Y$ be an open map and $A \subseteq X$ be open. Then the restriction $f \restriction A : A \rightarrow f(A)$ is an open map.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$U$ be open in $A$}}
    \step{2}{$U$ is open in $X$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subspace_open}.
    \end{proof}
    \step{3}{$f(U)$ is open in $Y$}
    \step{4}{$f(U)$ is open in $f(A)$}
    \begin{proof}
        \pf\ Since $f(U) = f(U) \cap f(A)$.
    \end{proof}
    \qed
\end{proof}

\begin{example}
    This example shows that we cannot remove the hypothesis that $A$ is open.

    Let $A = \{ (x,y) \in \RR^2 \mid (x > 0 \text{ and } y = 1/x) \text{ or } x=y=0 \}$.
    Then $\pi_1 : \RR^2 \rightarrow \RR$ is an open map, but $\pi_1 \restriction A : A \rightarrow [0, + \infty)$
    is not, because it maps the set $\{ 0,0 \}$ which is open in $A$ to $\{0\}$ which is not open in $[0,+\infty)$.
\end{example}

\begin{proposition}
    \label{proposition:limit_point_subspace}
    Let $Y$ be a subspace of $X$. Let $A \subseteq Y$ and $l \in Y$. Then $l$ is a limit point
    of $A$ in $Y$ if and only if $l$ is a limit point of $A$ in $X$.
\end{proposition}

\begin{proof}
    \pf\ Both are equivalent to the condition that any neighbourhood of $l$ in $X$ intersects $A$ in a point other than $l$. \qed
\end{proof}
\section{The Box Topology}

\begin{definition}[Box Topology]
    Let $\{ A_i \}_{i \in I}$ be a family of topological spaces. The \emph{box topology} on $\prod_{i \in I} A_i$ is the topology generated by the set of all sets
    of the form $\prod_{i \in I} U_i$ where $\{ U_i \}_{i \in I}$ is a family such that each $U_i$ is open in $A_i$.
\end{definition}

This is a basis since it covers $\prod_{i \in I} A_i$ and is closed under intersection.

\begin{proposition}
    The box topology is finer than the product topology.
\end{proposition}

\begin{proof}
    \pf\ From Proposition \ref{proposition:product_basis}. \qed
\end{proof}

\begin{corollary}
    \label{corollary:closed_box}
        If $A_i$ is closed in $X_i$ for all $i \in I$ then $\prod_{i \in I} A_i$ is closed in $\prod_{i \in I} X_i$ under the box topology.    
\end{corollary}

\begin{proof}
    \pf\ From Proposition \ref{proposition:closed_product}.
\end{proof}

\begin{proposition}[AC]
    Let $\{ A_i \}_{i \in I}$ be a family of topological spaces. For $i \in I$, let $\BB_i$ be a basis for the topology on $A_i$. Then $\BB = \{ \prod_{i \in I} B_i \mid
    \forall i \in I. B_i \in \BB_i \}$ is a basis for the box topology on $\prod_{i \in I} A_i$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{Every set of the form $\prod_{i \in I} B_i$ is open.}
    \step{2}{For every point $a \in \prod_{i \in I} A_i$ and every open set $U$ with $a \in U$, there exists $B \in \BB$ such that $a \in B \subseteq U$.}
    \begin{proof}
        \step{a}{\pflet{$U$ be open and $a \in U$}}
        \step{b}{\pick\ a family $\{ U_i \}_{i \in I}$ such that each $U_i$ is open in $A_i$ and $a \in \prod_{i \in I} U_i \subseteq U$.}
        \step{c}{For $i \in I$, \pick\ $B_i \in \BB_i$ such that $a_i \in B_i \subseteq U_i$}
        \begin{proof}
            \pf\ Using the Axiom of Choice.
        \end{proof}
        \step{d}{$a \in \prod_{i \in I} B_i \subseteq U$}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Lemma \ref{lemma:basis}.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    Let $\{ X_i \}_{i \in I}$ be a family of topological spaces. Let $A_i$ be a subspace of $X_i$ for all $i \in I$.
    Give $\prod_{i \in I} X_i$ the box topology.
    Then the box topology on $\prod_{i \in I} A_i$ is the same as the topology it inherits as a subspace of
    $\prod_{i \in I} X_i$.
\end{theorem}

\begin{proof}
    \pf\ The box topology is generated by the basis
    \begin{align*}
        & \{ \prod_{i \in I} U_i \mid \forall i \in I, U_i \text{ open in } A_i \} \\
        = & \{ \prod_{i \in I} (V_i \cap A_i) \mid \forall i \in I, V_i \text{ open in } X_i \} \\
        = & \{ \prod_{i \in I} V_i \mid \forall i \in I, V_i \text{ open in } X_i \} \cap \prod_{i \in I} A_i
    \end{align*}
    and this is a basis for the subspace topology by Lemma \ref{lemma:subspace_basis}. \qed
\end{proof}

\begin{proposition}[AC]
    Let $\{ X_i \}_{i \in I}$ be a family of topological spaces. Give $\prod_{i \in I} X_i$ the box topology.
    Let $A_i \subseteq X_i$ for all $i \in I$.
    Then
    \[ \prod_{i \in I} \overline{A_i} = \overline{\prod_{i \in I} A_i} \enspace . \]
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\overline{\prod_{i \in I} A_i} \subseteq \prod_{i \in I} \overline{A_i}$}
    \begin{proof}
        \step{a}{For all $i \in I$ we have $A_i \subseteq \overline{A_i}$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:closure_subset}.
        \end{proof}
        \step{c}{$\prod_{i \in I} A_i \subseteq \prod_{i \in I} \overline{A_i}$}
        \qedstep
        \begin{proof}
            \pf\ Since $\prod_{i \in I} A_i$ is closed by Corollary \ref{corollary:closed_box}.
        \end{proof}
    \end{proof}
    \step{2}{$\prod_{i \in I} \overline{A_i} \subseteq \overline{\prod_{i \in I} A_i}$}
    \begin{proof}
        \step{a}{\pflet{$x \in \prod_{i \in I} \overline{A_i}$}}
        \step{b}{\pflet{$U$ be a neighbourhood of $x$}}
        \step{c}{\pick\ $V_i$ open in $X_i$ such that $x \in \prod_{i \in I} V_i \subseteq U$}
        \step{d}{For $i \in I$, pick $a_i \in V_i \cap A_i$}
        \begin{proof}
            \pf\ By Theorem \ref{theorem:closure_neighbourhood} and \stepref{a} using the Axiom of Choice.
        \end{proof}
        \step{f}{$U$ intersects $\prod_{i \in I} A_i$}
        \qedstep
        \begin{proof}
            \pf\ $a \in U \cap \prod_{i \in I} A_i$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

The following example shows that Theorem \ref{theorem:product_continuous} fails in the box topology.

\begin{example}
    Define $f : \RR \rightarrow \RR^\omega$ by $f(t) = (t, t, \ldots)$. Then $\pi_n \circ f = \id{\RR}$ is continuous for all $n$.
    But $f$ is not continuous when $\RR^\omega$ is given the box topology because the inverse image of
    \[ (-1,1) \times (-1/2, 1/2) \times (-1/3,1/3) \times \cdots \]
    is $\{0\}$ which is not open.
\end{example}

The following example shows that Proposition \ref{proposition:converge_product} fails in the box topology.

\begin{example}
    Give $\RR^\omega$ the box topology. Let $a_n = (1/n, 1/n, \ldots)$ for $n \geq 1$ and $l = (0, 0, \ldots)$. Then $\pi_i(a_n) \rightarrow \pi_i(l)$
    as $n \rightarrow \infty$ for all $i$, but $a_n \not\rightarrow l$ as $n \rightarrow \infty$ since the open set
    \[ (-1,1) \times (-1/2, 1/2) \times (-1/3,1/3) \times \cdots \]
    contains $l$ but does not contain any $a_n$.
\end{example}

\begin{example}
    The set $\RR^\infty$ is closed in $\RR^\omega$ under the box topology. For let $(a_n)$ be any sequence not in $\RR^\infty$.
    Let $U_n$ be an open interval around $a_n$ that does not contain $0$ if $a_n \neq 0$, and $U_n = \RR$ if $a_n = 0$.
    Then $\prod_{n \geq 0} U_n$ is a neighbourhood of $(a_n)$ that does not intersect $\RR^\infty$.
\end{example}

\section{$T_1$ Spaces}

\begin{definition}[$T_1$ Space]
    A topological space is $T_1$ if and only if every singleton is closed.
\end{definition}

\begin{lemma}
    A space is $T_1$ if and only if every finite set is closed.
\end{lemma}

\begin{proof}
    \pf\ From Lemma \ref{lemma:closed_union}. \qed
\end{proof}

\begin{theorem}
    In a $T_1$ space, a point $a$ is a limit point of a set $A$ if and only if every neighbourhood of $a$
    contains infinitely many points of $A$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{If $a$ is a limit point of $A$ then every neighbourhood of $a$ contains infinitely many points
    of $A$.}
    \begin{proof}
        \step{a}{\assume{$a$ is a limit point of $A$.}}
        \step{b}{\pflet{$U$ be a neighbourhood of $a$.}}
        \step{c}{\assume{for a contradiction $U$ contains only finitely many points of $A$.}}
        \step{d}{$(U \cap A) \setminus \{a\}$ is closed.}
        \begin{proof}
            \pf\ By the $T_1$ axiom.
        \end{proof}
        \step{e}{$(U \setminus A) \cup \{a\}$ is open.}
        \begin{proof}
            \pf\ It is $U \setminus ((U \cap A) \setminus \{a\})$.
        \end{proof}
        \step{f}{$(U \setminus A) \cup \{a\}$ intersects $A$ in a point other than $a$.}
        \begin{proof}
            \pf\ From \stepref{a}.
        \end{proof}
        \qedstep
        \qed
    \end{proof}
    \step{2}{If every neighbourhood of $a$ contains infinitely many points of $A$ then $a$ is a limit point
    of $A$.}
    \begin{proof}
        \pf\ Immediate from definitions.
    \end{proof}
    \qed
\end{proof}

(To see this does not hold in every space, see Proposition \ref{proposition:indiscrete_limit_point}.)

\begin{proposition}
    A space is $T_1$ if and only if, for any two distinct points $x$ and $y$, there exist neighbourhoods
    $U$ of $x$ and $V$ of $y$ such that $x \notin V$ and $y \notin U$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a topological space.}}
    \step{2}{If $X$ is $T_1$ then, for any two distinct points $x$ and $y$, there exist neighbourhoods
    $U$ of $x$ and $V$ of $y$ such that $x \notin V$ and $y \notin U$.}
    \begin{proof}
        \pf\ This holds because $\{x\}$ and $\{y\}$ are closed.
    \end{proof}
    \step{3}{Suppose, for any two distinct points $x$ and $y$, there exist neighbourhoods
    $U$ of $x$ and $V$ of $y$ such that $x \notin V$ and $y \notin U$. Then $X$ is $T_1$.}
    \begin{proof}
        \step{a}{\assume{For any two distinct points $x$ and $y$, there exist neighbourhoods
        $U$ of $x$ and $V$ of $y$ such that $x \notin V$ and $y \notin U$.}}
        \step{b}{\pflet{$a \in X$}}
        \step{c}{$\{a\}$ is closed.}
        \begin{proof}
            \pf\ For all $b \neq a$ there exists a neighbourhood $U$ of $b$ such that $U \subseteq X \setminus \{a\}$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:T1_subspace}
    A subspace of a $T_1$ space is $T_1$.
\end{proposition}

\begin{proof}
    \pf\ From Proposition \ref{theorem:closed_subspace}.
\end{proof}

\section{Hausdorff Spaces}

\begin{definition}[Hausdorff Space]
    A topological space is \emph{Hausdorff} if and only if, for any points $x$, $y$ with $x \neq y$,
    there exist disjoint open sets $U$ and $V$ such that $x \in U$ and $y \in V$.
\end{definition}

\begin{theorem}
    Every Hausdorff space is $T_1$.
\end{theorem}

\begin{proof}
    \pf
    \step{0}{\pflet{$X$ be a Hausdorff space.}}
    \step{1}{\pflet{$b \in X$} \prove{$\overline{\{b\}} = \{b\}$}}
    \step{2}{\assume{$a \in \overline{\{b\}}$ and $a \neq b$}}
    \step{3}{\pick\ disjoint neighbourhoods $U$ of $a$ and $V$ of $b$.}
    \step{4}{$U$ intersects $\{b\}$}
    \begin{proof}
        \pf\ Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \step{5}{$b \in U$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts the fact that $U$ and $V$ are disjoint (\stepref{3}).
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    An infinite set under the finite complement topology is $T_1$ but not Hausdorff.
\end{proposition}

\begin{proof}
    \pf
    \step{0}{\pflet{$X$ be an infinite set under the finite complement topology.}}
    \step{1}{Every singleton is closed.}
    \begin{proof}
        \pf\ By definition.
    \end{proof}
    \step{2}{\pick{$a, b \in X$ with $a \neq b$}}
    \step{3}{There are no disjoint neighbourhoods $U$ of $a$ and $V$ of $b$.}
    \begin{proof}
        \step{a}{\pflet{$U$ be a neighbourhood of $a$ and $V$ a neighbourhood of $b$.}}
        \step{b}{$X \setminus U$ and $X \setminus V$ are finite.}
        \step{c}{\pick\ $c \in X$ that is not in $X \setminus U$ or $X \setminus V$.}
        \step{d}{$c \in U \cap V$}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    The product of a family of Hausdorff spaces is Hausdorff.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\{ X_i \}_{i \in I}$ be a family of Hausdorff spaces.}}
    \step{2}{\pflet{$a, b \in \prod_{i \in I} X_i$ with $a \neq b$}}
    \step{3}{\pick\ $i \in I$ such that $a_i \neq b_i$}
    \step{4}{\pick\ $U$, $V$ disjoint open sets in $X_i$ with $a_i \in U$ and $b_i \in V$}
    \step{5}{$\inv{\pi_i}(U)$ and $\inv{\pi_i}(V)$ are disjoint open sets in $\prod_{i \in I} X_i$ with $a \in \inv{\pi_i}(U)$
    and $b \in \inv{\pi_i}(V)$}
    \qed
\end{proof}

\begin{theorem}
    Every linearly ordered set under the order topology is Hausdorff.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a linearly ordered set under the order topology.}}
    \step{2}{\pflet{$a, b \in X$ with $a \neq b$}}
    \step{3}{\assume{w.l.o.g.~$a < b$}}
    \step{4}{\case{There exists $c$ such that $a < c < b$}}
    \begin{proof}
        \pf\ The sets $(-\infty,c)$ and $(c,+\infty)$ are disjoint neighbourhoods of $a$ and $b$
        respectively.
    \end{proof}
    \step{5}{\case{There is no $c$ such that $a < c < b$}}
    \begin{proof}
        \pf\ The sets $(-\infty, b)$ and $(a,+\infty)$ are disjoint neighbourhoods of $a$ and $b$
        respectively.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    A subspace of a Hausdorff space is Hausdorff.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a Hausdorff space and $Y$ a subspace of $X$.}}
    \step{2}{\pflet{$x, y \in Y$ with $x \neq y$}}
    \step{3}{\pick\ disjoint neighbourhoods $U$ of $x$ and $V$ of $y$ in $X$.}
    \step{4}{$U \cap Y$ and $V \cap Y$ are disjoint neighbourhoods of $x$ and $y$ respectively in $Y$.}
    \qed
\end{proof}

\begin{proposition}
    A space $X$ is Hausdorff if and only if the diagonal $\Delta = \{ (x,x) \mid x \in X \}$ is closed in $X^2$.
\end{proposition}

\begin{proof}
    \pf
    \begin{align*}
        & X \text{ is Hausdorff} \\
        \Leftrightarrow & \forall x,y \in X. x \neq y \Rightarrow \exists V, W \text{ open}. x \in V \wedge y \in W \wedge V \cap W = \emptyset \\
        \Leftrightarrow & \forall (x,y) \in X^2 \setminus \Delta. \exists V,W \text{ open}. (x,y) \subseteq V \times W \subseteq X^2 \setminus \Delta \\
        \Leftrightarrow & \Delta \text{ is closed} & \qed
    \end{align*}
\end{proof}

\begin{theorem}
    In a Hausdorff space, a sequence has at most one limit.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a Hausdorff space.}}
    \step{2}{\assume{for a contradiction $a_n \rightarrow l$ as $n \rightarrow \infty$, $a_n \rightarrow
    m$ as $n \rightarrow \infty$, and $l \neq m$}}
    \step{3}{\pick\ disjoint neighbourhoods $U$ of $l$ and $V$ of $m$}
    \begin{proof}
        \pf\ By the Hausdorff axiom.
    \end{proof}
    \step{4}{\pick\ $M$ and $N$ such that $a_n \in U$ for $n \geq M$ and $a_n \in V$ for $n \geq N$}
    \step{5}{$a_{\max(M,N)} \in U \cap V$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts the fact that $U$ and $V$ are disjoint (\stepref{3}).
    \end{proof}
    \qed
\end{proof}

To see this is not always true in spaces that are $T_1$ but not Hausdorff:

\begin{proposition}
    Let $X$ be an infinite set under the finite complement topology. Let $(a_n)_{n \in \NN}$ be a sequence
    with all points distinct. Then for every $l \in X$ we have $a_n \rightarrow l$ as
    $n \rightarrow \infty$.
\end{proposition}

\begin{proof}
    \pf\ Let $U$ be any neighbourhood of $l$. Since $X \setminus U$ is finite, there must exist $N$
    such that, for all $n \geq N$, we have $a_n \in U$. \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space. Let $Y$ a Hausdorff space. Let $A \subseteq X$. Let $f, g : \overline{A} \rightarrow Y$ be continuous.
    If $f$ and $g$ agree on $A$ then $f = g$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$x \in \overline{A}$}}
    \step{2}{\assume{$f(x) \neq g(x)$}}
    \step{3}{\pick\ disjoint neighbourhoods $V$ of $f(x)$ and $W$ of $g(x)$.}
    \step{4}{\pick\ $y \in \inv{f}(V) \cap \inv{g}(W) \cap A$}
    \begin{proof}
        \pf\ Since $\inv{f}(V) \cap \inv{g}(W)$ is a neighbourhood of $x$ and hence intersects $A$.
    \end{proof}
    \step{5}{$f(y) = g(y) \in V \cap W$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts the fact that $V$ and $W$ are disjoint (\stepref{3}).
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $\{ X_i \}_{i \in I}$ be a family of Hausdorff spaces. Then $\prod_{i \in I} X_i$ under the box topology is Hausdorff.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\{ X_i \}_{i \in I}$ be a family of Hausdorff spaces.}}
    \step{2}{\pflet{$a, b \in \prod_{i \in I} X_i$ with $a \neq b$}}
    \step{3}{\pick\ $i \in I$ such that $a_i \neq b_i$}
    \step{4}{\pick\ $U$, $V$ disjoint open sets in $X_i$ with $a_i \in U$ and $b_i \in V$}
    \step{5}{$\inv{\pi_i}(U)$ and $\inv{\pi_i}(V)$ are disjoint open sets in $\prod_{i \in I} X_i$ with $a \in \inv{\pi_i}(U)$
    and $b \in \inv{\pi_i}(V)$}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:Hausdorff_finer}
    Let $\TT$ and $\TT'$ be two topologies on the same set $X$ with $\TT \subseteq \TT'$
    If $\TT$ is Haudorff then $\TT'$ is Hausdorff.
\end{proposition}

\begin{proof}
    \pf\ Immediate from definitions.
\end{proof}

\section{The First Countability Axiom}

\begin{definition}[First Countability Axiom]
    A topological space $X$ satisfies the \emph{first countability axiom}, or is \emph{first countable}, if and only if every point has a countable local basis.
\end{definition}

\begin{lemma}[Sequence Lemma (CC)]
    Let $X$ be a first countable space. Let $A \subseteq X$ and $l \in \overline{A}$.
    Then there exists a sequence in $A$ that converges to $l$.
\end{lemma}

\begin{proof}
    \pf
    \step{0}{\pick\ a countable local basis $\{ B_n \mid n \in \ZZ^+ \}$ at $l$ such that $B_1 \supseteq B_2 \supseteq \cdots$.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:countable_local_basis}.
    \end{proof}
    \step{1}{For all $n \geq 1$, \pick\ $a_n \in A \cap B_n$.
    \prove{$a_n \rightarrow l$ as $n \rightarrow \infty$}}
    \step{2}{\pflet{$U$ be a neighbourhood of $A$}}
    \step{3}{\pick\ $N$ such that $B_N \subseteq U$}
    \step{4}{For $n \geq N$ we have $a_n \in U$}
    \begin{proof}
        \pf\ $a_n \in B_n \subseteq B_N \subseteq U$
    \end{proof}
    \qed
\end{proof}

\begin{theorem}[CC]
    Let $X$ be a first countable space and $Y$ a topological space. Let $f : X \rightarrow Y$. Suppose that, for every sequence $(x_n)$ in $X$ and $l \in X$, if $x_n \rightarrow l$
    as $n \rightarrow \infty$, then $f(x_n) \rightarrow f(l)$ as $n \rightarrow \infty$. Then $f$ is continuous.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$A \subseteq X$}}
    \step{2}{\pflet{$a \in A$} \prove{$f(a) \in \overline{f(A)}$}}
    \step{3}{\pick\ a sequence $(x_n)$ in $A$ that converges to $a$.}
    \begin{proof}
        \pf\ By the Sequence Lemma.
    \end{proof}
    \step{4}{$f(x_n) \rightarrow f(a)$}
    \step{5}{$f(a) \in \overline{f(A)}$}
    \begin{proof}
        \pf\ By Lemma \ref{lemma:sequence_lemma1}.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ By Theorem \ref{theorem:continuous}.
    \end{proof}
    \qed
\end{proof}

\begin{example}[CC]
    The space $\RR^\omega$ under the box product is not first countable.
\end{example}

\begin{proof}
    \pf\ Let $\{ B_n \mid n \geq 0 \}$ be a countable set of neighbourhoods of $\vec{0}$. We will construct a neighbourhood of $\vec{0}$ that does not include any of these.

    For $n \geq 0$, pick a neighbourhood $U_n$ of 0 such that $U_n \subset \pi_n(B_p)$. Then $\prod_{n=0}^\infty U_n$ is a neighbourhood of $\vec{0}$ that does not
    include any $B_n$. \qed
\end{proof}

\begin{example}
    If $J$ is an uncountable set then $\RR^J$ is not first countable.
\end{example}

\begin{proof}
    \pf
    \step{1}{\pflet{$\{ B_n \mid n \geq 0 \}$ be any countable set of neighbourhoods of $\vec{0}$.}}
    \step{2}{For $n \geq 0$, \pick\ a basis element $\prod_{\alpha \in J} U_{n \alpha}$ that contains $\vec{0}$ and is included in $B_n$.}
    \begin{proof}
        \pf\ Using the Axiom of Countable Choice.
    \end{proof}
    \step{3}{For $n \geq 0$, \pflet{$J_n = \{ \alpha \in J \mid U_{n \alpha} \neq \RR \}$}}
    \step{4}{\pick\ $\beta \in J$ such that $\beta \notin J_n$ for any $n$.}
    \begin{proof}
        \pf\ Since each $J_n$ is finite so $\bigcup_n J_n$ is countable.
    \end{proof}
    \step{5}{$\pi_\beta((-1,1))$ is a neighbourhood of $\vec{0}$ that does not include any $B_n$.}
    \qed
\end{proof}

\begin{example}
    The space $\RR_l$ is first countable.
\end{example}

\begin{proof}
    \pf\ For any $a \in \RR$, the set $\{ [a,a + 1/n) \mid n \geq 1 \}$ is a countable local basis.
\end{proof}

\begin{example}
    The ordered square is first countable.
\end{example}

\begin{proof}
    \pf\ For any $(a,b) \in I_o^2$ with $b \neq 0,1$, the set $\{ (\{a\} \times (b - 1/n,b + 1/n)) \cap I_o^2 \mid n \geq 1 \}$ is a countable local basis.
\end{proof}

\section{Strong Continuity}

\begin{definition}[Strongly Continuous]
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$ be a function. Then $f$ is \emph{strongly continuous} if and only if, for every subset $U \subseteq Y$,
    we have $U$ is open in $Y$ if and only if $\inv{f}(U)$ is open in $X$.
\end{definition}

\begin{proposition}
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$ be a function. Then $f$ is \emph{strongly continuous} if and only if, for every subset $C \subseteq Y$,
    we have $C$ is closed in $Y$ if and only if $\inv{f}(C)$ is closed in $X$.
\end{proposition}

\begin{proof}
    \pf\ Since $X \setminus \inv{f}(C) = \inv{f}(Y \setminus C)$. \qed
\end{proof}

\begin{proposition}
    \label{proposition:strongly_continuous_composite}
    Let $X$, $Y$ and $Z$ be topological spaces. Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. If $f$ and $g$ are strongly continuous then so is $g \circ f$.
\end{proposition}

\begin{proof}
    \pf\ Since $\inv{(g \circ f)}(U) = \inv{f}(\inv{g}(U))$. \qed
\end{proof}

\begin{proposition}
    \label{proposition:continuous_strongly_continuous}
    Let $X$, $Y$ and $Z$ be topological spaces.
    Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$.
    If $g \circ f$ is continuous and $f$ is strongly continuous then 
    $g$ is continuous.
\end{proposition}

\begin{proof}
    \pf
    \step{b}{\pflet{$V \subseteq Z$ be open.}}
    \step{c}{$\inv{f}(\inv{g}(V))$ is open in $X$.}
    \begin{proof}
        \pf\ Since $g \circ f$ is continuous.
    \end{proof}
    \step{d}{$\inv{f}(V)$ is open in $Y$.}
    \begin{proof}
        \pf\ Since $g$ is strongly continuous.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:strongly_continuous_strongly_continuous}
    Let $X$, $Y$ and $Z$ be topological spaces.
    Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$.
    If $g \circ f$ is strongly continuous and $f$ is strongly continuous then 
    $g$ is strongly continuous.
\end{proposition}

\begin{proof}
    \pf\ For $V \subseteq Z$, we have $V$ is open iff $\inv{f}(\inv{g}(V))$ is
    open iff $\inv{g}(V)$ is open.
\end{proof}

\section{Saturated Sets}

\begin{definition}
    Let $X$ and $Y$ be sets and $p : X \twoheadrightarrow Y$ a surjective function. Let $C \subseteq X$. Then $C$ is \emph{saturated} with respect to $p$ if and only if, for all
    $x, y \in X$, if $x \in C$ and $p(x) = p(y)$ then $y \in C$.
\end{definition}

\begin{proposition}
    \label{proposition:saturated}
    Let $X$ and $Y$ be sets and $p : X \twoheadrightarrow Y$ a surjective function. Let $C \subseteq X$. Then the following are equivalent:
    \begin{enumerate}
        \item $C$ is saturated with respect to $p$.
        \item There exists $D \subseteq Y$ such that $C = \inv{p}(D)$
        \item $C = \inv{p}(p(C))$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$1 \Rightarrow 3$}
    \begin{proof}
        \step{a}{\assume{$C$ is saturated with respect to $p$.}}
        \step{b}{$C \subseteq \inv{p}(p(C))$}
        \begin{proof}
            \pf\ Trivial.
        \end{proof}
        \step{c}{$\inv{p}(p(C)) \subseteq C$}
        \begin{proof}
            \step{i}{\pflet{$x \in \inv{p}(p(C))$}}
            \step{ii}{$p(x) \in p(C)$}
            \step{iii}{There exists $y \in C$ such that $p(x) = p(y)$}
            \step{iv}{$x \in C$}
            \begin{proof}
                \pf\ From \stepref{a}.
            \end{proof}
        \end{proof}
    \end{proof}
    \step{2}{$3 \Rightarrow 2$}
    \begin{proof}
        \pf\ Trivial.
    \end{proof}
    \step{3}{$2 \Rightarrow 1$}
    \begin{proof}
        \pf\ This follows because if $p(x) \in D$ and $p(x) = p(y)$ then $p(y) \in D$.
    \end{proof}
    \qed
\end{proof}

\section{Quotient Maps}

\begin{definition}[Quotient Map]
    Let $X$ and $Y$ be topological spaces and $p : X \rightarrow Y$. Then $p$ is a \emph{quotient map} if and only if $p$ is surjective and strongly continuous.
\end{definition}

\begin{proposition}
    \label{proposition:quotient_map}
    Let $X$ and $Y$ be topological spaces and $p : X \twoheadrightarrow Y$ be a surjective function. Then the following are equivalent.
    \begin{enumerate}
        \item $p$ is a quotient map.
        \item $p$ is continuous and maps saturated open sets to open sets.
        \item $p$ is continuous and maps saturated closed sets to closed sets.
    \end{enumerate}
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$1 \Rightarrow 2$}
    \begin{proof}
        \step{a}{\assume{$p$ is a quotient map.}}
        \step{b}{\pflet{$U$ be a saturated open set in $X$.}}
        \step{c}{$\inv{p}(p(U))$ is open in $X$.}
        \begin{proof}
            \pf\ Since $U = \inv{p}(p(U))$ be Proposition \ref{proposition:saturated}.
        \end{proof}
        \step{d}{$p(U)$ is open in $Y$.}
        \begin{proof}
            \pf\ From \stepref{a}.
        \end{proof}
    \end{proof}
    \step{2}{$1 \Rightarrow 3$}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \step{3}{$2 \Rightarrow 1$}
    \begin{proof}
        \step{a}{\assume{$p$ is continuous and maps saturated open sets to open sets.}}
        \step{b}{\pflet{$U \subseteq Y$}}
        \step{c}{\assume{$\inv{p}(U)$ is open in $X$}}
        \step{d}{$\inv{p}(U)$ is saturated.}
        \begin{proof}
            \pf\ Proposition \ref{proposition:saturated}.
        \end{proof}
        \step{e}{$U$ is open in $Y$.}
    \end{proof}
    \step{4}{$3 \Rightarrow 1$}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    \label{corollary:quotient_continuous_open}
    Every surjective continuous open map is a quotient map.
\end{corollary}

\begin{corollary}
    Every surjective continuous closed map is a quotient map.
\end{corollary}

\begin{example}
    The converses of these corollaries do not hold.

    Let $A = \{ (x,y) \mid x \geq 0 \} \cup \{ (x,y) \mid y = 0 \}$. Then $\pi_1 : A \rightarrow \RR$ is a quotient map, but not an open map or a closed map.

    We prove that $\pi_1$ maps saturated open sets to open sets:
    \begin{proof}
        \step{1}{\pflet{$\inv{\pi_1}(U)$ be a saturated open set in $A$} \prove{$U$ is open in $\RR$}}
        \step{2}{\pflet{$x \in U$}}
        \step{3}{$(x,0) \in \inv{\pi_1(U)}$}
        \step{4}{\pick\ $W$, $V$ open in $\RR$ such that $(x,0) \subseteq W \times V \subseteq \inv{\pi_1(U)}$}
        \step{5}{$x \in W \subseteq U$}
    \end{proof}

    It is not an open map because it maps $((-1,1) \times (1,2)) \cap A$ to $[0,1)$.

    It is not a closed map because it maps $\{ (x, 1/x) \mid x > 0 \}$ to $(0, +\infty)$.
\end{example}

\begin{proposition}
    \label{proposition:quotient_restriction}
    Let $p : X \twoheadrightarrow Y$ be a quotient map. Let $A \subseteq X$ be saturated with respect to $p$. Let $q : A \twoheadrightarrow p(A)$ be the restriction of $p$.
    \begin{enumerate}
        \item If $A$ is either open or closed in $X$ then $q$ is a quotient map.
        \item If $p$ is either an open map or a closed map then $q$ is a quotient map.
    \end{enumerate}
\end{proposition}

\begin{proof}
    \pf
    \step{0a}{\pflet{$p : X \twoheadrightarrow Y$ be a quotient map.}}
    \step{0b}{\pflet{$A \subseteq X$ be saturated with respect to $p$.}}
    \step{0c}{\pflet{$q : A \twoheadrightarrow p(A)$ be the restriction of $p$.}}
    \step{b}{$q$ is continuous.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:continuous_restriction}.
    \end{proof}
    \step{1}{If $A$ is open in $X$ then $q$ is a quotient map.}
    \begin{proof}
        \step{a}{\assume{$A$ is open in $X$.}}
        \step{c}{$q$ maps saturated open sets to open sets.}
        \begin{proof}
            \step{i}{\pflet{$U \subseteq A$ be saturated with respect to $q$
            and open in $A$}}
            \step{ii}{$U$ is saturated with respect to $p$}
            \begin{proof}
                \step{one}{\pflet{$x,y \in X$}}
                \step{two}{\assume{$x \in U$}}
                \step{three}{\assume{$p(x) = p(y)$}}
                \step{four}{$x \in A$}
                \begin{proof}
                    \pf\ From \stepref{i} and \stepref{two}.
                \end{proof}
                \step{five}{$y \in A$}
                \begin{proof}
                    \pf\ From \stepref{0b} and \stepref{three}
                \end{proof}
                \step{six}{$q(x) = x(y)$}
                \begin{proof}
                    \pf\ From \stepref{0c}, \stepref{three}, \stepref{four}, \stepref{five}.
                \end{proof}
                \step{seven}{$y \in U$}
                \begin{proof}
                    \pf\ From \stepref{i}, \stepref{two}, \stepref{six}
                \end{proof}
            \end{proof}
            \step{iii}{$U$ is open in $X$}
            \begin{proof}
                \pf\ Lemma \ref{lemma:subspace_open}, \stepref{a}, \stepref{i}.
            \end{proof}
            \step{iv}{$p(U)$ is open in $Y$}
            \begin{proof}
                \pf\ Proposition \ref{proposition:quotient_map}, \stepref{0a}, \stepref{ii}, \stepref{iii}
            \end{proof}
            \step{v}{$q(U)$ is open in $p(A)$}
            \begin{proof}
                \pf\ Since $q(U) = p(U) = p(U) \cap p(A)$.
            \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Proposition \ref{proposition:quotient_map}.
        \end{proof}
    \end{proof}
    \step{2}{If $A$ is closed in $X$ then $q$ is a quotient map.}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \step{3}{If $p$ is an open map then $q$ is a quotient map.}
    \begin{proof}
        \step{a}{\assume{$p$ is an open map}}
        \step{b}{$q$ maps saturated open sets to open sets.}
        \begin{proof}
            \step{i}{\pflet{$U$ be open in $A$ and saturated with respect to $q$}}
            \step{ii}{\pick\ $V$ open in $X$ such that $U = A \cap V$}
            \step{iii}{$p(V)$ is open in $Y$}
            \step{iv}{$q(U) = p(V) \cap p(A)$}
            \begin{proof}
                \step{one}{$q(U) \subseteq p(V) \cap p(A)$}
                \begin{proof}
                    \pf\ From \stepref{ii}.
                \end{proof}
                \step{two}{$p(V) \cap p(A) \subseteq q(U)$}
                \begin{proof}
                    \step{aa}{\pflet{$y \in p(V) \cap p(A)$}}
                    \step{ab}{\pick\ $x \in V$ and $x' \in A$ such that $p(x) = p(x') = y$}
                    \step{ac}{$x \in A$}
                    \begin{proof}
                        \pf\ By \stepref{0b}. 
                    \end{proof}
                    \step{ad}{$x \in U$}
                    \begin{proof}
                        \pf\ From \stepref{ii}
                    \end{proof}
                \end{proof}
            \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Proposition \ref{proposition:quotient_map}.
        \end{proof}
    \end{proof}
    \step{3}{If $p$ is a closed map then $q$ is a quotient map.}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \qed
\end{proof}

\begin{example}
    This example shows we cannot remove the hypotheses on $A$ and $p$.

    Define $f : [0,1] \rightarrow [2,3] \rightarrow [0,2]$ by $f(x) = x$ if $x \leq 1$, $f(x) = x-1$ if $x \geq 2$. Then $f$ is a quotient map but its restriction $f'$ to
    $[0,1) \cup [2,3]$ is not, because $\inv{f'}([1,2])$ is open but $[1,2]$ is not.
\end{example}

For a counterexample where $A$ is saturated, see Example \ref{example:quotient_restriction}.

\begin{proposition}
    \label{proposition:quotient_product}
    Let $p : A \twoheadrightarrow C$ and $q : B \twoheadrightarrow D$ be open quotient maps. Then $p \times q : A \times B \rightarrow C \times D$ is an open quotient map.
\end{proposition}

\begin{proof}
    \pf\ From Corollary \ref{corollary:quotient_continuous_open}, Proposition \ref{proposition:open_map_product}
    and Theorem \ref{theorem:product_continuous}. \qed
\end{proof}

\begin{theorem}
    \label{theorem:quotient_composite}
    Let $p : X \twoheadrightarrow Y$ be a quotient map. Let $Z$
    be a topological space and $f : Y \rightarrow Z$ be a function. Then
    \begin{enumerate}
        \item $f \circ p$ is continuous if and only if $f$ is continuous.
        \item $f \circ p$ is a quotient map if and only if $f$ is a quotient map.
    \end{enumerate}
\end{theorem}

\begin{proof}
    \pf
    \step{1}{If $f \circ p$ is continuous then $f$ is continuous.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:continuous_strongly_continuous}.
    \end{proof}
    \step{2}{If $f$ is continuous then $f \circ p$ is continuous.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:continuous_composite}.
    \end{proof}
    \step{3}{If $f \circ p$ is a quotient map then $f$ is a quotient map.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:strongly_continuous_strongly_continuous}.
    \end{proof}
    \step{4}{If $f$ is a quotient map then $f \circ p$ is a quotient map.}
    \begin{proof}
        \pf\ From Proposition \ref{proposition:strongly_continuous_composite}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:quotient_retraction}
    Let $X$ and $Y$ be topological spaces. Let $p : X \rightarrow Y$ and $f : Y \rightarrow X$ be continuous maps such that $p \circ f = \id{Y}$. Then $p$ is a quotient map.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$V \subseteq Y$}}
    \step{2}{\assume{$\inv{p}(V)$ is open in $X$.}}
    \step{3}{$\inv{f}(\inv{p}(V))$ is open in $Y$.}
    \begin{proof}
        \pf\ Because $f$ is continuous.
    \end{proof}
    \step{4}{$V$ is open in $Y$.}
    \begin{proof}
        \pf\ Because $\inv{f}(\inv{p}(V)) = V$.
    \end{proof}
    \qed
\end{proof}

\section{Quotient Topology}

\begin{definition}[Quotient Topology]
    Let $X$ be a topological space, $Y$ a set and $p : X \twoheadrightarrow Y$ be a surjective function. Then the \emph{quotient topology} on $Y$ is the unique topology
    on $Y$ with respect to which $p$ is a quotient map, namely $\TT = \{ U \in \pow Y \mid \inv{p}(U) \text{ is open in } X \}$.
\end{definition}

We prove this is a topology.

\begin{proof}
    \pf
    \step{1}{$Y \in \TT$}
    \begin{proof}
        \pf\ Since $\inv{p}(Y) = X$ by surjectivity.
    \end{proof}
    \step{2}{For all $\AA \subseteq \TT$ we have $\bigcup \AA \in \TT$}
    \begin{proof}
        \pf\ Since $\inv{p}(\bigcup \AA) = \bigcup_{U \in \AA} \inv{p}(U)$
    \end{proof}
    \step{3}{For all $U, V \in \TT$ we have $U \cap V \in \TT$}
    \begin{proof}
        \pf\ Since $\inv{p}(U \cap V) = \inv{p}(U) \cap \inv{p}(V)$.
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Quotient Space]
    Let $X$ be a topological space and $\sim$ an equivalence relation on $X$. Let $p : X \twoheadrightarrow X / \sim$ be the canonical surjection.
    Then $X / \sim$ under the quotient topology is called a \emph{quotient space}, \emph{identification space} or \emph{decomposition space} of $X$.
\end{definition}

Here is a counterexample showing we cannot remove all the hypotheses of
Proposition \ref{proposition:quotient_restriction} except that $A$ is saturated.

\begin{example}
    \label{example:quotient_restriction}
    Let $X=(0,1/2] \cup \{1\} \cup \{1+1/n:n \geq 2\}$ as a subspace of $\RR$. 
    Define $R$ to be the equivalence relation on $X$ where $xRy$ iff 
    ($x=y$ or $|x - y|=1$), so we identify $1/n$ with $1+1/n$ for all $n \geq 2$. 
    Let $Y$ be the resulting quotient space $X/R$ in the quotient topology
    and $p : X \twoheadrightarrow Y$ the canonical surjection.
    
    Let $A=\{1\} \cup (0 ,1/2] \setminus \{1/n:n \geq 2\} \subseteq X$.
    Then $A$ is saturated under $p$ but the restriction $q$ of $p$ to $A$
    is not a quotient map because it maps the saturated open set $\{1\}$
    to $\{1\}$ which is not open in $p(A)$.
\end{example}

\begin{proposition}
    Let $X$, $Y$ and $Z$ be topological spaces. Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$. If $f$ and $g$ are quotient maps then so is $g \circ f$.
\end{proposition}

\begin{proof}
    \pf\ From Proposition \ref{proposition:strongly_continuous_composite}. \qed
\end{proof}

\begin{example}
    The product of two quotient maps is not necessarily a quotient map.

    Let $X = \RR$ and $X^*$ the quotient space formed by identifying all positive integers. Let $p : X \twoheadrightarrow X^*$ be the canonical surjection.

    We prove $p \times \id{\QQ} : X \times \QQ \rightarrow X^* \times \QQ$ is not a quotient map.

    \begin{proof}
        \pf
        \step{1}{For $n \geq 1$, \pflet{$c_n = \sqrt{2} / n$}}
        \step{2}{For $n \geq 1$, \pflet{$U_n = \{ (x,y) \in X \times \QQ \mid n - 1/4 < x < n + 1/4, (y + n > x + c_n \text{ and } y + n > -x + c_n) \text{ or }
        (y + n < x + c_n \text{ and } y + n < -x + c_n) \}$}}
        \step{3}{For $n \geq 1$, we have $U_n$ is open in $X \times \QQ$}
        \step{4}{For $n \geq 1$, we have $\{ n \} \times \QQ \subseteq U_n$}
        \step{5}{\pflet{$U = \bigcup_{n=1}^\infty U_n$}}
        \step{6}{$U$ is open in $X \times \QQ$}
        \step{7}{$U$ is saturated with respect to $p \times \id{\QQ}$}
        \step{7a}{\pflet{$U' = (p \times \id{\QQ})(U)$}}
        \step{7a}{\assume{for a contradiction $U'$ is open in $X^* \times \QQ$}}
        \step{8}{$(1,0) \in U'$}
        \step{9}{\pick\ a neighbourhood $W$ of $1$ in $X^*$ and $\delta > 0$ such that $W \times (- \delta, \delta) \subseteq U'$}
        \step{10}{$\inv{p}(W) \times (-\delta, \delta) \subseteq U$}
        \step{11}{\pick\ $n$ such that $c_n < \delta$}
        \step{12}{$n \in \inv{p}(W)$}
        \step{13}{\pick\ $\epsilon > 0$ such that $\epsilon < \delta - c_n$ and $\epsilon < 1/4$ and $(n - \epsilon, n + \epsilon) \subseteq \inv{p}(W)$}
        \step{14}{$(n - \epsilon, n + \epsilon) \times (- \delta, \delta) \subseteq U$}
        \step{15}{\pick\ a rational $y$ such that $c_n - \epsilon / 2 < y < c_n + \epsilon / 2$}
        \step{16}{$(n + \epsilon / 2, y) \notin U$}
        \qedstep
        \begin{proof}
            \pf\ This contradicts \stepref{14}.
        \end{proof}
        \qed
    \end{proof}
\end{example}

\begin{proposition}
    Let $X$ be a topological space and $\sim$ an equivalence relation on $X$.
    Then $X / \sim$ is $T_1$ if and only if every equivalence class is closed in $X$.
\end{proposition}

\begin{proof}
    \pf\ Immediate from definitions. \qed
\end{proof}

\section{Retractions}

\begin{definition}[Retraction]
    Let $X$ be a topological space and $A \subseteq X$. A \emph{retraction} of $X$ onto $A$ is a continuous map $r : X \rightarrow A$ such that, for all $a \in A$,
    we have $r(a) = a$.    
\end{definition}

\begin{proposition}
    Every retraction is a quotient map.
\end{proposition}

\begin{proof}
    \pf\ Proposition \ref{proposition:quotient_retraction} with $f$ the inclusion $A \hookrightarrow X$. \qed
\end{proof}

\section{Homogeneous Spaces}

\begin{definition}[Homogeneous]
    A topological space $X$ is \emph{homogeneous} if and only if, for any
    points $a, b \in X$, there exists a homeomorphism $\phi : X \cong X$
    such that $\phi(a) = b$.
\end{definition}

\section{Regular Spaces}

\begin{definition}[Regular Space]
    A topological space $X$ is \emph{regular} if and only if, for any closed set $A$ and point $a \notin A$, there exist disjoint open sets $U$, $V$ such that
    $A \subseteq U$ and $a \in V$.    
\end{definition}

\section{Connected Spaces}

\begin{definition}[Separation]
    A \emph{separation} of a topological space $X$ is a pair of disjoint open sets $U$, $V$ such that $U \cup V = \emptyset$.
\end{definition}

\begin{definition}[Connected]
    A topological space is \emph{connected} if and only if it has no separation; otherwise it is \emph{disconnected}.
\end{definition}

\begin{proposition}
    \label{proposition:open_closed_connective}
    A topological space $X$ is connected if and only if the only sets that are both open and closed are $X$ and $\emptyset$.
\end{proposition}

\begin{proof}
    Immediate from defintions.
\end{proof}

\begin{lemma}
    \label{lemma:limit_point_separation}
    If $Y$ is a subspace of $X$, a separation of $Y$ is a pair of disjoint nonempty sets $A$ and $B$ whose union is $Y$, neither of which contains a limit point of the other.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$A, B \subseteq Y$}}
    \step{2}{If $A$ and $B$ form a separation of $Y$ then $A$ and $B$ are disjoint and nonempty, $A \cup B = Y$, and neither of $A$ and $B$ contains a limit point of the other.}
    \begin{proof}
        \step{a}{\assume{$A$ and $B$ form a separation of $Y$}}
        \step{b}{$A$ and $B$ are disjoint and nonempty and $A \cup B = Y$}
        \begin{proof}
            \pf\ From \stepref{a} and the definition of separation.
        \end{proof}
        \step{c}{$A$ does not contain a limit point of $B$}
        \begin{proof}
            \step{i}{\assume{for a contradiction $l \in A$ and $l$ is a limit point of $B$ in $X$.}}
            \step{ii}{$l$ is a limit point of $B$ in $Y$}
            \begin{proof}
                \pf\ Proposition \ref{proposition:limit_point_subspace}.
            \end{proof}
            \step{iii}{$l \in B$}
            \begin{proof}
                \step{one}{$B$ is closed in $Y$}
                \begin{proof}
                    \pf\ Since $A$ is open in $Y$ and $B = Y \setminus A$ from \stepref{a}.
                \end{proof}
                \qedstep
                \begin{proof}
                    \pf\ Corollary \ref{corollary:closed_limit_point}.
                \end{proof}
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ This contradicts the fact that $A \cap B = \emptyset$ (\stepref{a}).
            \end{proof}
        \end{proof}
        \step{d}{$B$ does not contain a limit point of $A$}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
    \end{proof}
    \step{3}{If $A$ and $B$ are disjoint and nonempty, $A \cup B = Y$, and neither of $A$ and $B$ contains a limit point of the other, then $A$ and $B$ form a separation of $Y$.}
    \begin{proof}
        \step{a}{\assume{$A$ and $B$ are disjoint and nonempty, $A \cup B = Y$, and neither of $A$ and $B$ contains a limit point of the other.}}
        \step{b}{$A$ is open in $Y$}
        \begin{proof}
            \step{i}{$B$ is closed in $Y$}
            \begin{proof}
                \step{one}{\pflet{$l$ be a limit point of $B$ in $Y$}}
                \step{two}{$l$ is a limit point of $B$ in $X$}
                \begin{proof}
                    \pf\ Proposition \ref{proposition:limit_point_subspace}.
                \end{proof}
                \step{three}{$l \notin A$}
                \begin{proof}
                    \pf\ By \stepref{a}
                \end{proof}
                \step{four}{$l \in B$}
                \begin{proof}
                    \pf\ By \stepref{a} since $A \cup B = Y$
                \end{proof}
                \qedstep
                \begin{proof}
                    \pf\ Corollary \ref{corollary:closed_limit_point}.
                \end{proof}
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ Since $A = Y \setminus B$.
            \end{proof}
        \end{proof}
        \step{c}{$B$ is open in $Y$}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{example}
    Every set under the indiscrete topology is connected.
\end{example}

\begin{example}
    The discrete topology on a set $X$ is connected if and only if $|X| \leq 1$.
\end{example}

\begin{example}
    The finite complement topology on a set $X$ is connected if and only if either $|X| \leq 1$ or $X$ is infinite.
\end{example}

\begin{example}
    The countable complement topology on a set $X$ is connected if and only if either $|X| \leq 1$ or $X$ is uncountable.
\end{example}

\begin{example}
    The rationals $\QQ$ are disconnected. For any irrational $a$, the sets $(- \infty, a) \cap \QQ$ and $(a, + \infty) \cap \QQ$ form a separation of $\QQ$.
\end{example}

\begin{lemma}
    \label{lemma:subset_connected_subspace}
    Let $X$ be a topological space. If $C$ and $D$ form a separation of $X$, and $Y$ is a connected subspace of $X$, then either $Y \subseteq C$ or $Y \subseteq D$.
\end{lemma}

\begin{proof}
    \pf\ Otherwise $Y \cap C$ and $Y \cap D$ would form a separation of $Y$. \qed
\end{proof}

\begin{theorem}
    \label{theorem:connected_union}
    The union of a set of connected subspaces of a space $X$ that have a point in common is connected.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$\AA$ be a set of connected subspaces of the space $X$ that have the point $a$ in common.}}
    \step{2}{\assume{for a contradiction $C$ and $D$ form a separation of $\bigcup \AA$}}
    \step{3}{\assume{without loss of generality $a \in C$}}
    \step{4}{For all $A \in \AA$ we have $A \subseteq C$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subset_connected_subspace}.
    \end{proof}
    \step{5}{$D = \emptyset$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts \stepref{2}.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:connected_closure}
    Let $X$ be a topological space and $A$ a connected subspace of $X$. If $A \subseteq B \subseteq \overline{A}$ then $B$ is connected.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $C$ and $D$ form a separation of $B$.}}
    \step{2}{\assume{without loss of generality $A \subseteq C$}}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subset_connected_subspace}.
    \end{proof}
    \step{3}{$B \subseteq C$}
    \begin{proof}
        \step{3}{\pflet{$x \in B$}}
        \step{4}{$x \in \overline{A}$}
        \step{5}{Either $x \in A$ or $x$ is a limit point of $A$.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:limit_point_closure}.
        \end{proof}
        \step{6}{Either $x \in A$ or $x$ is a limit point of $C$.}
        \begin{proof}
            \pf\ Lemma \ref{lemma:limit_point_subset}, \stepref{2}.
        \end{proof}
        \step{7}{$x \in C$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:limit_point_separation}.
        \end{proof}
    \end{proof}
    \step{8}{$D = \emptyset$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts \stepref{1}.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:connected_continuous_image}
    The image of a connected space under a continuous map is connected.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : X \twoheadrightarrow Y$ be a surjective continuous map where $X$ is connected.}}
    \step{2}{\assume{for a contradiction $C$ and $D$ form a separation of $Y$.}}
    \step{3}{$\inv{f}(C)$ and $\inv{f}(D)$ form a separation of $X$.}
    \qed
\end{proof}

\begin{theorem}
    The product of a family of connected spaces is connected.
\end{theorem}

\begin{proof}
    \pf
    \step{One}{The product of two connected spaces is connected.}
    \begin{proof}
        \step{1}{\pflet{$X$ and $Y$ be connected spaces.}}
        \step{2}{\pick\ $a \in X$ and $b \in Y$}
        \begin{proof}
            \pf\ We may assume $X$ and $Y$ are nonempty since otherwise $X \times Y = \emptyset$ which is connected.
        \end{proof}
        \step{3}{$X \times \{b\}$ is connected.}
        \begin{proof}
            \pf\ It is homeomorphic to $X$.
        \end{proof}
        \step{4}{For all $x \in X$ we have $\{x\} \times Y$ is connected.}
        \begin{proof}
            \pf\ It is homeomorphic to $Y$.
        \end{proof}
        \step{5}{For any $x \in X$ \pflet{$T_x = (X \times \{b\}) \cup (\{x\} \times Y)$}}
        \step{6}{For all $x \in X$, $T_x$ is connected.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_union} since $(x,b) \in (X \times \{b\}) \cap (\{x\} \times Y)$.
        \end{proof}
        \step{7}{$X \times Y$ is connected.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_union} since $X \times Y = \bigcup_{x \in X} T_x$ and $(a,b)$ is a point in every $T_x$.
        \end{proof}
    \end{proof}
    \step{Two}{The product of a finite family of connected spaces is connected.}
    \begin{proof}
        \pf\ From \stepref{One} by induction.
    \end{proof}
    \step{Three}{The product of any family of connected spaces is connected.}
    \begin{proof}
        \step{1}{\pflet{$\{ X_\alpha \}_{\alpha \in J}$ be a family of connected spaces.}}
        \step{2}{\pflet{$X = \prod_{\alpha \in J} X_\alpha$}}
        \step{3}{\pick\ $a \in X$}
        \begin{proof}
            \pf\ We may assume $X \neq \emptyset$ as the empty space is connected.
        \end{proof}
        \step{4}{For every finite subset $K$ of $J$, \pflet{$X_K = \{ x \in X \mid \forall \alpha \in J \setminus K. x_\alpha = a_\alpha \}$}}
        \step{5}{For every finite $K \subseteq J$, we have $X_K$ is connected.}
        \begin{proof}
            \pf\ From \stepref{Two} since $X_K \cong \prod_{\alpha \in K} X_K$.
        \end{proof}
        \step{6}{\pflet{$Y = \bigcup_K X_K$}}
        \step{7}{$Y$ is connected}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_union} since $a$ is a common point.
        \end{proof}
        \step{8}{$X = \overline{Y}$}
        \begin{proof}
            \step{a}{\pflet{$x \in X$}}
            \step{b}{\pflet{$U = \prod_{\alpha \in J} U_\alpha$ be a basic neighbourhood of $x$ where $U_\alpha = X_\alpha$ for all $\alpha$ except
            $\alpha \in K$ for some finite $K \subseteq J$}}
            \step{c}{\pflet{$y \in X$ be the point with $y_\alpha = x_\alpha$ for $\alpha \in K$ and $y_\alpha = a_\alpha$ for all other $\alpha$}}
            \step{d}{$y \in U \cap X_K$}
            \step{e}{$y \in U \cap Y$}
        \end{proof}
        \step{9}{$X$ is connected.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_closure}.
        \end{proof}          
    \end{proof}
    \qed
\end{proof}

\begin{example}
    The set $\RR^\omega$ is disconnected under the box topology. The set of bounded sequences and the set of unbounded sequences form
    a separation.
\end{example}

\begin{proposition}
    Let $\TT$ and $\TT'$ be two topologies on the same set $X$. If $\TT \subseteq \TT'$ and $(X, \TT')$ is connected then $(X, \TT)$ is connected.
\end{proposition}

\begin{proof}
    \pf\ If $U$ and $V$ form a separation of $(X, \TT)$ then they form a separation of $(X, \TT')$. \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space and $(A_n)$ a sequence of connected subspaces of $X$. If $A_n \cap A_{n+1} \neq \emptyset$ for all $n$ then $\bigcup_n A_n$ is
    connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $C$ and $D$ form a separation of $\bigcup_n A_n$}}
    \step{2}{\assume{without loss of generality $A_0 \subseteq C$}}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subset_connected_subspace}.
    \end{proof}
    \step{3}{For all $n$ we gave $A_n \subseteq C$}
    \begin{proof}
        \pf
        \step{i}{\assume{$A_n \subseteq C$}}
        \step{ii}{\pick\ $x \in A_n \cap A_{n+1}$}
        \step{iii}{$x \in C$}
        \step{iv}{$A_{n+1} \subseteq C$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:subset_connected_subspace}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ The result follows by induction.
        \end{proof}
    \end{proof}
    \step{4}{$D = \emptyset$}
    \qedstep
    \begin{proof}
        \pf\ This contradicts \stepref{1}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space. Let $A, C \subseteq X$. If $C$ is connected and intersects both $A$ and $X \setminus A$ then $C$ intersects $\partial A$.
\end{proposition}

\begin{proof}
    \pf\ Otherwise $C \cap A^\circ$ and $C \setminus \overline{A}$ would form a separation of $C$. \qed
\end{proof}

\begin{example}
    The space $\RR_l$ is disconnected. For any real $x$, the sets $(- \infty, x)$ and $[x, +\infty)$ form a separation.
\end{example}

\begin{proposition}
    Let $X$ and $Y$ be connected spaces. Let $A$ be a proper subset of $X$ and $B$ a proper subset of $Y$. Then $(X \times Y) \setminus (A \times B)$ is connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pick\ $a \in X \setminus A$ and $b \in Y \setminus B$}
    \step{2}{For $x \in X \setminus A$ we have $(X \times \{b\}) \cup (\{x\} \times Y)$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_union} since $(x,b)$ is a common point.
    \end{proof}
    \step{3}{For $y \in Y \setminus B$ we have $(X \times \{y\}) \cup (\{a\} \times Y)$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_union} since $(a,y)$ is a common point.
    \end{proof}
    \step{4}{$(X \times Y) \setminus (A \times B)$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_union} since it is the union of the sets in \stepref{2} and \stepref{3} with $(a,b)$ as a common point.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $p : X \twoheadrightarrow Y$ be a quotient map. If $Y$ is connected and $\inv{p}(y)$ is connected for all $y \in Y$, then $X$ is connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $C$ and $D$ form a separation of $X$.}}
    \step{2}{$C$ is saturated.}
    \begin{proof}
        \step{a}{\pflet{$x \in C$, $y \in X$ with $p(x) = p(y) = a$, say}}
        \step{b}{$y \notin D$}
        \begin{proof}
            \pf\ Otherwise $\inv{p}(a) \cap C$ and $\inv{p}(a) \cap D$ form a separation of $\inv{p}(a)$.
        \end{proof}
        \step{c}{$y \in C$}
    \end{proof}
    \step{3}{$D$ is saturated.}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \step{4}{$p(C)$ and $p(D)$ form a separation of $Y$.}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a connected space and $Y$ a connected subspace of $X$. Suppose $A$ and $B$ form a separation of $X \setminus Y$. Then $Y \cup A$ and $Y \cup B$ are both connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$Y \cup A$ is connected.}
    \begin{proof}
        \step{a}{\assume{for a contradiction $C$ and $D$ form a separation of $Y \cup A$}}
        \step{b}{\assume{without loss of generality $Y \subseteq C$}}
        \step{c}{\pick\ open sets $A_1$, $B_1$, $C_1$, $D_1$ in $X$ with
        \begin{align*}
            A & = A_1 \setminus Y \\
            B & = B_1 \setminus Y \\
            C & = C_1 \cap (Y \cup A) \\
            D & = D_1 \cap (Y \cup A)
        \end{align*}
        }
        \step{d}{$B_1 \cup C_1$ and $A_1 \cap D_1$ form a separation of $X$}
    \end{proof}
    \step{2}{$Y \cup B$ is connected.}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:connected_continuum}
    Let $L$ be a linearly ordered set under the order topology. Then $L$ is connected if and only if $L$ is a linear continuum.
\end{theorem}

\begin{proof}
    \pf
    \step{One}{If $L$ is a linear continuum then $L$ is connected.}
    \begin{proof}
        \step{1}{\pflet{$L$ be a linear continuum under the order topology.}}
        \step{2}{\assume{for a contradiction $C$ and $D$ form a separation of $L$.}}
        \step{3}{\pick\ $a \in C$ and $b \in D$.}
        \step{4}{\assume{without loss of generality $a < b$.}}
        \step{5}{\pflet{$S = \{ x \in L \mid a < x \text{ and } [a,x) \subseteq C \}$}}
        \step{6}{$S$ is nonempty.}
        \begin{proof}
            \pf\ Since $a \in C$ and $C$ is open.
        \end{proof}
        \step{7}{$S$ is bounded above by $b$.}
        \begin{proof}
            \pf\ Since $b \notin C$.
        \end{proof}
        \step{8}{\pflet{$s = \sup S$}}
        \step{9a}{$s \in S$}
        \begin{proof}
            \step{i}{\pflet{$y \in [a,s)$} \prove{$y \in C$}}
            \step{ii}{\pick\ $z$ with $y < z \in S$}
            \begin{proof}
                \pf\ By minimality of $s$.
            \end{proof}
            \step{iii}{$y \in [a,z) \subseteq C$}
        \end{proof}
        \step{9}{\case{$s \in C$}}
        \begin{proof}
            \step{a}{\pick\ $x$ such that $s < x$ and $[s,x) \subseteq C$}
            \begin{proof}
                \pf\ Since $C$ is open and $s$ is not greatest in $L$ because $s < b$.
            \end{proof}
            \step{b}{$x \in S$}
            \begin{proof}
                \pf\ Since $[a,x) = [a,s) \cup [s,x) \subseteq C$.
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ This contradicts the fact that $s$ is an upper bound for $S$.
            \end{proof}
        \end{proof}
        \step{10}{\case{$s \in D$}}
        \begin{proof}
            \step{a}{\pick\ $x < s$ such that $(x,s] \subseteq D$}
            \step{b}{\pick\ $y$ with $x < y < s$}
            \begin{proof}
                \pf\ Since $L$ is dense.
            \end{proof}
            \step{c}{$y \in C$}
            \begin{proof}
                \pf\ From \stepref{9a}.
            \end{proof}
            \step{d}{$y \in D$}
            \begin{proof}
                \pf\ From \stepref{a}.
            \end{proof}
            \qedstep    \step{1}{\pflet{$L$ be a linear continuum under the order topology.}}
            \step{2}{\assume{for a contradiction $C$ and $D$ form a separation of $L$.}}
            \step{3}{\pick\ $a \in C$ and $b \in D$.}
            \step{4}{\assume{without loss of generality $a < b$.}}
            \step{5}{\pflet{$S = \{ x \in L \mid a < x \text{ and } [a,x) \subseteq C \}$}}
            \step{6}{$S$ is nonempty.}
            \begin{proof}
                \pf\ Since $a \in C$ and $C$ is open.
            \end{proof}
            \step{7}{$S$ is bounded above by $b$.}
            \begin{proof}
                \pf\ Since $b \notin C$.
            \end{proof}
            \step{8}{\pflet{$s = \sup S$}}
            \step{9a}{$s \in S$}
            \begin{proof}
                \step{i}{\pflet{$y \in [a,s)$} \prove{$y \in C$}}
                \step{ii}{\pick\ $z$ with $y < z \in S$}
                \begin{proof}
                    \pf\ By minimality of $s$.
                \end{proof}
                \step{iii}{$y \in [a,z) \subseteq C$}
            \end{proof}
            \step{9}{\case{$s \in C$}}
            \begin{proof}
                \step{a}{\pick\ $x$ such that $s < x$ and $[s,x) \subseteq C$}
                \begin{proof}
                    \pf\ Since $C$ is open and $s$ is not greatest in $L$ because $s < b$.
                \end{proof}
                \step{b}{$x \in S$}
                \begin{proof}
                    \pf\ Since $[a,x) = [a,s) \cup [s,x) \subseteq C$.
                \end{proof}
                \qedstep
                \begin{proof}
                    \pf\ This contradicts the fact that $s$ is an upper bound for $S$.
                \end{proof}
            \end{proof}
            \step{10}{\case{$s \in D$}}
            \begin{proof}
                \step{a}{\pick\ $x < s$ such that $(x,s] \subseteq D$}
                \step{b}{\pick\ $y$ with $x < y < s$}
                \begin{proof}
                    \pf\ Since $L$ is dense.
                \end{proof}
                \step{c}{$y \in C$}
                \begin{proof}
                    \pf\ From \stepref{9a}.
                \end{proof}
                \step{d}{$y \in D$}
                \begin{proof}
                    \pf\ From \stepref{a}.
                \end{proof}
                \qedstep
                \begin{proof}
                    \pf\ This contradicts \stepref{2}.
                \end{proof}
            \end{proof}
        \end{proof}        
    \end{proof}
    \step{Two}{If $L$ is connected then $L$ is a linear continuum.}
    \begin{proof}
        \step{1}{\assume{$L$ is connected.}}
        \step{2}{Every nonempty subset of $L$ that is bounded above has a supremum.}
        \begin{proof}
            \step{a}{\pflet{$X$ be a nonempty subset of $L$ bounded above by $b$.}}
            \step{b}{\assume{for a contradiction $X$ has no supremum.}}
            \step{b}{\pflet{$U$ be the set of upper bounds of $X$,}}
            \step{c}{$U$ is nonempty.}
            \begin{proof}
                \pf\ Since $b \in U$.
            \end{proof}
            \step{d}{$U$ is open.}
            \begin{proof}
                \step{i}{\pflet{$x \in U$}}
                \step{ii}{\pick\ an upper bound $y$ for $X$ such that $y < x$}
                \step{iii}{Either $x$ is greatest in $L$ and $(y,x] \subseteq U$, or there exists $z > x$ such that $(y,z) \subseteq U$}
            \end{proof}
            \step{e}{\pflet{$V$ be the set of lower bounds of $U$.}}
            \step{f}{$V$ is nonempty.}
            \begin{proof}
                \pf\ Since $X \subseteq V$
            \end{proof}
            \step{g}{$V$ is open.}
            \begin{proof}
                \step{i}{\pflet{$x \in V$}}
                \step{ii}{\pick\ $y \in X$ with $x < y$}
                \begin{proof}
                    \pf\ $x$ cannot be an upper bound for $X$, because it would be the supremum of $X$.
                \end{proof}
                \step{iii}{Either $x$ least in $L$ and $[x,y) \subseteq V$, or there exists $z < x$ such that $(z,y) \subseteq V$}
            \end{proof}
            \step{h}{$L = U \cup V$}
            \begin{proof}
                \step{i}{\pflet{$x \in L \setminus U$}}
                \step{ii}{\pick\ $y \in X$ such that $x < y$}
                \step{iii}{For all $u \in U$ we have $x < y \leq u$}
                \step{iv}{$x \in V$}
            \end{proof}
            \step{i}{$U \cap V = \emptyset$}
            \begin{proof}
                \pf\ Any element of $U \cap V$ would be a supremum of $X$.
            \end{proof}
            \step{j}{$U$ and $V$ form a separation of $L$.}
            \qedstep
            \begin{proof}
                \pf\ This contradicts \stepref{1}.
            \end{proof}
        \end{proof}
        \step{3}{$L$ is dense.}
        \begin{proof}
            \step{a}{\pflet{$x, y \in L$ with $x < y$}}
            \step{b}{There exists $z \in L$ such that $x < z < y$}
            \begin{proof}
                \pf\ Otherwise $(- \infty, y)$ and $(x, +\infty)$ would form a separation of $L$.
            \end{proof}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    The real line $\RR$ is connected.
\end{corollary}

\begin{corollary}
    \label{corollary:connected_interval}
    Every interval in $\RR$ is connected.
\end{corollary}

\begin{corollary}
    The ordered square is connected.
\end{corollary}

\begin{theorem}[Intermediate Value Theorem]
    Let $X$ be a connected space. Let $Y$ be a linearly ordered set under the order topology. Let $f : X \rightarrow Y$ be continuous.
    Let $a, b \in X$ and $r \in Y$. Suppose $f(a) < r < f(b)$. Then there exists $c \in X$ such that $f(c) = r$.
\end{theorem}

\begin{proof}
    \pf\ Otherwise $\inv{f}((- \infty, r))$ and $\inv{f}((r, + \infty))$ would form a separation of $X$. \qed
\end{proof}

\begin{proposition}
    Every function $f : [0,1] \rightarrow [0,1]$ has a fixed point.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$g : [0,1] \rightarrow [-1,1]$ be the function $g(x) = f(x) - x$} \prove{there exists $x \in [0,1]$ such that $g(x) = 0$}}
    \step{2}{\assume{without loss of generality $g(0) \neq 0$ and $g(1) \neq 0$}}
    \step{3}{$g(0) > 0$}
    \step{4}{$g(1) < 0$}
    \step{5}{There exists $x \in (0,1)$ such that $g(x) = 0$}
    \begin{proof}
        \pf\ By the Intermediate Value Theorem.
    \end{proof}
\end{proof}

\begin{proposition}
    Give $\RR^\omega$ the box topology. Let $x, y \in \RR^\omega$. Then $x$ and $y$ lie in the same comoponent if and only if $x-y$ is eventually zero, i.e.
    there exists $N$ such that, for all $n \geq N$,
    we have $x_n = y_n$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{The component containing 0 is the set of sequences that are eventually zero.}
    \begin{proof}
        \step{a}{\pflet{$B$ be the set of sequences that are eventually zero.}}
        \step{b}{$B$ is path-connected.}
        \begin{proof}
            \step{i}{\pflet{$x, y \in B$}}
            \step{o}{\pick\ $N$ such that, for all $n \geq N$, we have $x_n = y_n = 0$}
            \step{ii}{\pflet{$p : [0,1] \rightarrow \RR^\omega$, $p(t) = (1-t)x + ty$} \prove{$p$ is continuous.}}
            \step{iii}{\pflet{$t \in [0,1]$ and $\prod_j U_j$ be a basic open neighbourhood of $p(t)$, where each $U_j$ is open in $\RR$}}
            \step{iv}{\pick\ $\delta$ such that, for all $n < N$ and all $s \in [0,1]$, if $|s-t| < \delta$ then $p(s)_n \in U_n$}
            \step{v}{For all $s \in [0,1]$, if $|s-t| < \delta$ then $p(s) \in \prod_j U_j$}
        \end{proof}
        \step{bb}{$B$ is connected.}
        \begin{proof}
            \pf\ Proposition \ref{proposition:connected_path_connected}.
        \end{proof}
        \step{c}{If $C$ is connected and $B \subseteq C$ then $B = C$.}
        \begin{proof}
            \step{i}{\assume{$C$ is connected and $B \subseteq C$}}
            \step{ii}{\assume{for a contradiction $x \in C \setminus B$}}
            \step{iii}{For $n \geq 1$, \pflet{$c_n = 1$ if $x_n = 0$, $c_n = n / x_n$ otherwise}}
            \step{iv}{\pflet{$h : \RR^\omega \rightarrow \RR^\omega$ be the function $h(x) = (c_n x_n)_{n \geq 1}$}}
            \step{v}{$h$ is a homeomorphism of $\RR^\omega$ with itself.}
            \step{vi}{$h(x)$ is unbounded.}
            \begin{proof}
                \pf\ For any $b > 0$, pick $N > b$ such that $x_N \neq 0$. Then $h(x)_N > b$.
            \end{proof}
            \step{vii}{$\inv{h}(\{ \text{bounded sequences} \}) \cap C$ and $\inv{h}(\{ \text{unbounded sequences} \}) \cap C$ form a separation of $C$}
            \qedstep
            \begin{proof}
                \pf\ This contradicts \stepref{i}.
            \end{proof}
        \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Since $\lambda x.x-y$ is a homeomorphism of $\RR^\omega$ with itself.
    \end{proof}
    \qed
\end{proof}

\section{Totally Disconnected Spaces}

\begin{definition}[Totally Disconnected]
    A topological space $X$ is \emph{totally disconnected} if and only if the only connected subspaces are the singletons.
\end{definition}

\begin{example}
    Every discrete space is totally disconnected.
\end{example}

\begin{example}
    The rationals $\QQ$ are totally disconnected.
\end{example}

\section{Paths and Path Connectedness}

\begin{definition}[Path]
    Let $X$ be a topological space and $a, b \in X$. A \emph{path} from $a$ to $b$ is a continuous function $p : [0,1] \rightarrow X$
    such that $p(0) = a$ and $p(1) = b$.
\end{definition}

\begin{definition}[Path Connected]
    A topological space is \emph{path connected} if and only if there exists a path between any two points.
\end{definition}

\begin{proposition}
    \label{proposition:connected_path_connected}
    Every path connected space is connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a path connected space.}}
    \step{2}{\assume{for a contradiction $C$ and $D$ form a separation of $X$.}}
    \step{3}{\pick\ $a \in C$ and $b \in D$.}
    \step{4}{\pick\ a path $p : [0,1] \rightarrow X$ from $a$ to $b$.}
    \step{5}{$\inv{p}(C)$ and $\inv{p}(D)$ form a separation of $[0,1]$.}
    \qedstep
    \begin{proof}
        \pf\ This contradicts Corollary \ref{corollary:connected_interval}.
    \end{proof}
    \qed
\end{proof}

An example that shows the converse does not hold:
\begin{example}
    The ordered square is not path connected.

    \begin{proof}
        \pf
        \step{1}{\assume{for a contradiction $p : [0,1] \rightarrow I_o^2$ is a path from $(0,0)$ to $(1,1)$.}}
        \step{2}{$p$ is surjective.}
        \begin{proof}
            \pf\ By the Intermediate Value Theorem.
        \end{proof}
        \step{3}{For $x \in [0,1]$, \pick\ a rational $q_x \in \inv{p}((x,0),(x,1))$}
        \begin{proof}
            \pf\ Since $\inv{p}((x,0),(x,1))$ is open and nonempty by \stepref{2}.
        \end{proof}
        \step{4}{For $x, y \in [0,1]$, if $x \neq y$ then $q_x \neq q_y$}
        \begin{proof}
            \pf\ We have $p(q_x) \neq p(q_y)$ because $((x,0),(x,1))$ and $((y,0),(y,1))$ are disjoint.
        \end{proof}
        \step{5}{$\{q_x \mid x \in [0,1] \}$ is an uncountable set of rationals.}
        \qedstep
        \begin{proof}
            \pf\ This contradicts the fact that the rationals are countable.
        \end{proof}
        \qed
    \end{proof}
\end{example}

\begin{proposition}
    \label{proposition:path_connected_continuous_image}
    The continuous image of a path connected space is path connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a path connected space, $Y$ a topological space, and $f : X \twoheadrightarrow Y$ be continuous and surjective.}}
    \step{2}{\pflet{$a, b \in Y$}}
    \step{3}{\pick\ $c, d \in X$ with $f(c) = a$ and $f(d) = b$}
    \step{4}{\pick\ a path $p : [0,1] \rightarrow X$ from $c$ to $d$.}
    \step{5}{$f \circ p$ is a path from $a$ to $b$ in $Y$.}
    \qed
\end{proof}

\begin{proposition}[AC]
    The product of a family of path-connected spaces is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\{ X_\alpha \}_{\alpha \in J}$ be a family of path-connected spaces.}}
    \step{2}{\pflet{$a, b \in \prod_{\alpha \in J} X_\alpha$}}
    \step{3}{For $\alpha \in J$, \pick\ a path $p_\alpha : [0,1] \rightarrow X_\alpha$ from $a_\alpha$ to $b_\alpha$}
    \begin{proof}
        \pf\ Using the Axiom of Choice.
    \end{proof}
    \step{4}{Define $p : [0.1] \rightarrow \prod_{\alpha \in J} X_\alpha$ by $p(t)_\alpha = p_\alpha(t)$}
    \step{5}{$p$ is a path from $a$ to $b$.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:product_continuous}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    The continuous image of a path-connected space is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : X \twoheadrightarrow Y$ be continuous and surjective
    where $X$ is path-connected.}}
    \step{2}{\pflet{$a, b \in Y$}}
    \step{3}{\pick\ $a', b' \in X$ with $f(a') = a$ and $f(b') = b$.}
    \step{4}{\pick\ a path $p : [0,1] \rightarrow X$ from $a'$ to $b'$.}
    \step{5}{$f \circ p$ is a path from $a$ to $b$.}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a topological space. The union of a set of path-connected subspaces of $X$
    that have a point in common is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\AA$ be a set of path-connected subspaces of $X$ with the point $a$ in common.}}
    \step{2}{\pflet{$b, c \in \bigcup \AA$}}
    \step{3}{\pick\ $B, C \in \AA$ with $b \in B$ and $c \in C$.}
    \step{4}{\pick\ a path $p$ in $B$ from $b$ to $a$.}
    \step{5}{\pick\ a path $q$ in $C$ from $a$ to $c$.}
    \step{6}{The concatenation of $p$ and $q$ is a path from $b$ to $c$ in $\bigcup \AA$.}
    \qed
\end{proof}

\begin{proposition}
    Let $A \subseteq \RR^2$ be countable. Then $\RR^2 \setminus A$ is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$a, b \in \RR^2 \setminus A$}}
    \step{2}{\pick\ a line $l$ in $\RR^2$ with $a$ on one side and $b$ on the other.}
    \step{3}{For every point $x$ on $l$, \pflet{$p_x$ be the path in $\RR^2$ consisting of a line from $a$ to $x$ then a line from $x$ to $b$}}
    \step{4}{For $x \neq y$ we have $p_x$ and $p_y$ have no points in common except $a$ and $b$}
    \step{5}{There are only countably many $x$ such that a point of $A$ lies on $p_x$.}
    \step{6}{There exists $x$ such that $p_x$ is a path from $a$ to $b$ in $\RR^2 \setminus A$.}
    \qed
\end{proof}

\begin{proposition}
    Every open connected subspace of $\RR^2$ is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$U$ be an open connected subspace of $\RR^2$.}}
    \step{2}{For all $x_0 \in U$, \pflet{$PC(x_0) = \{ y \in U \mid \text{there exists a path from $x$ to $y$} \}$}}
    \step{2a}{For all $x_0 \in U$, the set $PC(x_0)$ is open and closed in $U$.}
    \begin{proof}
        \step{a}{\pflet{$x_0 \in U$}}
        \step{b}{$PC(x_0)$ is open in $U$}
        \begin{proof}
            \step{i}{\pflet{$y \in PC(x_0)$}}
            \step{ii}{\pick\ $\epsilon > 0$ such that $B(y,\epsilon) \subseteq U$}
            \begin{proof}
                \pf\ Since $U$ is open.
            \end{proof}
            \step{iii}{$B(y, \epsilon) \subseteq PC(x_0)$}
            \begin{proof}
                \pf\ For all $z \in B(y, \epsilon)$, pick a path from $x_0$ to $y$ then concatenate the straight line from $y$ to $z$.
            \end{proof}
        \end{proof}
        \step{c}{$PC(x_0)$ is closed in $U$}
        \begin{proof}
            \step{i}{\pflet{$y \in U$ be a limit point of $PC(x_0)$}}
            \step{ii}{\pick\ $\epsilon > 0$ such that $B(y, \epsilon) \subseteq U$}
            \step{iii}{\pick\ $z \in PC(x_0) \cap B(y, \epsilon)$}
            \step{iv}{$y \in PC(x_0)$}
            \begin{proof}
                \pf\ Pick a path from $x_0$ to $z$ then concatenate the straight line from $z$ to $y$.
            \end{proof}
        \end{proof}
    \end{proof}
    \step{3}{$PC(x_0) = U$}
    \begin{proof}
        \pf\ Proposition \ref{proposition:open_closed_connective}.
    \end{proof}
    \qed
\end{proof}

\begin{example}
    If $A$ is a connected subspace of $X$, then $A^\circ$ is not necessarily connected.

    Take two closed circles in $\RR^2$ that touch at one point. The interior of this space is
    two open circles, and these two circles form a separation.
\end{example}

\begin{example}
    If $A$ is a connected subspace of $X$ then $\partial A$ is not necessarily connected.

    We have $[0,1]$ is connected but $\partial [0,1] = \{ 0, 1 \}$ is not.
\end{example}

\begin{example}
    If $A$ is a subspace of $X$ and $A^\circ$ and $\partial A$ are connected, then $A$ is not necessarily connected.

    We have $\QQ^\circ = \emptyset$ and $\partial \QQ = \RR$ are connected but $\QQ$ is not connected.
\end{example}
\section{The Topologist's Sine Curve}

\begin{definition}[The Topologist's Sine Curve]
    Let $S = \{ (x, \sin 1/x) \mid 0 < x \leq 1 \}$, The \emph{topologist's sine curve} is the closure $\overline{S}$ of $S$ in $\RR^2$.
\end{definition}

\begin{proposition}
    The topologist's sine curve is connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$S = \{ (x, \sin 1/x) \mid 0 < x \leq 1 \}$}}
    \step{2}{$S$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_continuous_image}.
    \end{proof}
    \step{3}{$\overline{S}$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_closure}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    The topologist's sine curve is $\{ (x, \sin 1/x) \mid 0 < x \leq 1 \}
    \cup (\{0\} \times [-1.1])$.
\end{proposition}

\begin{proof}
    \pf\ Sketch proof: Given a point $(0.y)$ with $-1 \leq y \leq 1$, pick $a$ such that $\sin a = y$. Then $((1/a,y), (1/(a+2\pi),y), (1/(a+4\pi),y), \ldots)$ is a sequence
    in $S$ that converges to $(0,y)$.

    Conversely, let $(x,y)$ be any point not in $S \cup (\{0\} \times [-1,1])$. If $x < 0$ or $y > 1$ or $y < -1$ then we can easily find a neighbourhood that does not intersect
    $S \cup (\{0\} \times [-1,1])$. If $x > 0$ and $-1 \leq y \leq 1$, then we have $y \neq \sin 1/x$. Hence pick a neighbourhood that does not intersect $S$.
\end{proof}

\begin{proposition}
    \label{proposition:greatest_element_closed}
    Every closed subset of $\RR$ that is bounded above has a greatest element.
\end{proposition}

\begin{proof}
    \pf\ It has a supremum, which is a limit point of the set and hence an element. \qed
\end{proof}

\begin{proposition}[CC]
    The topologist's sine curve is not path connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\assume{For a contradction $p : [0,1] \rightarrow \overline{S}$ is a path from $(0,0)$ to $(1, \sin 1)$.}}
    \step{2}{$\{ t \in [0,1] \mid p(t) \in \{ 0 \} \times [-1,1] \}$ is closed.}
    \begin{proof}
        \pf\ Since $p$ is continuous and $\{0\} \times [-1,1]$ is closed.
    \end{proof}
    \step{3}{\pflet{$b$ be the largest number in $[0,1]$ such that $p(b) \in \{ 0 \} \times [-1,1]$.}}
    \begin{proof}
        \pf\ Proposition \ref{proposition:greatest_element_closed}.
    \end{proof}
    \step{4}{\pflet{$x : [b,1] \rightarrow \overline{S}$ be the function $\pi_1 \circ p$}}
    \step{4}{\pflet{$y : [b,1] \rightarrow \overline{S}$ be the function $\pi_2 \circ p$}}
    \step{5}{\pick\ a sequence $t_n$ in $(b,1]$ such that $t_n \rightarrow b$ and $y(t_n) = (-1)^n$ for all $n$}
    \begin{proof}
        \step{a}{\pflet{$n \geq 1$}}
        \step{b}{\pick\ $u$ with $0 < u < x(1/n)$ and $\sin (1/u) = (-1)^n$}
        \step{c}{\pick\ $t_n$ with $b < t_n < 1/n$ and $x(t_n) = u$}
        \begin{proof}
            \pf\ By the Intermediate Value Theorem
        \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ This contradicts Proposition \ref{proposition:converge_continuous} since $y$ is continuous and $y(t_n)$ does not converge.
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    The closure of a path-connected subspace of a space is not necessarily path-connected.
\end{corollary}

\section{The Long Line}

\begin{definition}[The Long Line]
    The \emph{long line} is the space $\omega_1 \times [0,1)$ in the dictionary order
    under the order topology, where $\omega_1$ is the first uncountable ordinal.
\end{definition}

\begin{lemma}
    \label{lemma:interval_in_long_line}
    For any ordinal $\alpha$ with $0 < \alpha < \omega_1$ we have $[(0,0),(\alpha,0)) \cong
    [0,1)$
\end{lemma}

\begin{proof}
        \step{a}{$[(0,0),(1,0)) \cong [0,1)$}
        \begin{proof}
            \pf\ The map $\pi_2$ is a homeomorphism.
        \end{proof}
        \step{b}{If $[(0,0),(\alpha,0)) \cong [0,1)$ then $[(0,0),(\alpha + 1,0)) \cong [0,1)$}
        \begin{proof}
            \pf\ Proposition \ref{proposition:interval_concatenate_interval}.
        \end{proof}
        \step{c}{If $\lambda$ is a limit ordinal with $\lambda < \omega_1$ 
        and $[(0,0),(\alpha,0)) \cong [0,1)$ for all $\alpha$ with $0 < \alpha < \lambda$
        then $[(0,0),(\lambda,0)) \cong [0,1)$}
        \begin{proof}
            \step{i}{\pflet{$\lambda$ be a limit ordinal $< \omega_1$}}
            \step{ii}{\assume{$[(0,0),(\alpha,0)) \cong [0,1)$ for all $\alpha$ with $0 < \alpha < \lambda$}}
            \step{ii}{\pick\ a sequence of ordinals $\alpha_0 < \alpha_1 < \cdots$
            with limit $\lambda$}
            \begin{proof}
                \pf\ Since $\lambda$ is countable.
            \end{proof}
            \step{iii}{$[(\alpha_i,0),(\alpha_{i+1},0)) \cong [0,1)$ for all $i$}
            \begin{proof}
                \pf\ Lemma \ref{lemma:order_iso_real_intervals}.
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ By Proposition \ref{proposition:interval_concatenate_intervals}.
            \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By transfinite induction.
        \end{proof}
\end{proof}

\begin{proposition}[CC]
    The long line is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{2}{\pflet{$(\alpha,i),(\beta,j) \in \omega_1 \times [0,1)$}}
    \step{3a}{\assume{without loss of generality $(\alpha, i) < (\beta, j)$}}
    \step{3}{$[(0,0),(\beta + 1, 0)) \cong [0,1)$}
    \begin{proof}
        \pf\ By Lemma \ref{lemma:interval_in_long_line}
    \end{proof}
    \step{4}{$[(\alpha,i),(\beta,j)) \cong [0,1)$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:order_iso_real_intervals}.
    \end{proof}
    \step{5}{\pick\ a homeomorphism $q : [0,1) \rightarrow [(\alpha,i),(\beta,j))$}
    \step{6}{$q \cup \{(1,(\beta,j))\}$ is a path from $(\alpha, i)$ to $(\beta, j)$}
    \qed
\end{proof}

\begin{proposition}
    Every point in the long line has a neighbourhood homeomorphic to an interval in $\RR$.
\end{proposition}

\begin{proof}
    \pf\ For any $(\alpha, i)$ in the long line, the neighbourhood $[(0,0),(\alpha + 1, 0))$
    satisfies the condition by Lemma \ref{lemma:interval_in_long_line}.
\end{proof}

\begin{proposition}
    The long line $L$ is not second countable.
\end{proposition}

\begin{proof}
    \pf\ 
    \step{1}{\pflet{$\BB$ be a basis for $L$.}}
    \step{2}{For $\alpha < \omega_1$, \pick\ $B_\alpha \in \BB$ such that
    $(\alpha, 1/2) \in B_\alpha \subseteq ((\alpha, 0), (\alpha + 1,0))$}
    \step{3}{$\BB$ is uncountable.}
    \begin{proof}
        \pf\ The mapping $\alpha \mapsto B_\alpha$ is an injection $\omega_1 \rightarrow \BB$.
    \end{proof}
\end{proof}

\begin{corollary}
    The long line cannot be imbedded into $\RR^n$ for any $n$.
\end{corollary}

\section{Components}

\begin{proposition}
    Let $X$ be a topological space. Define the relation $\sim$ on $X$ by
    $a \sim b$ if and only if there exists a connected subspace $A \subseteq X$
    with $a, b \in A$. Then $\sim$ is an equivalence relation on $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\sim$ is reflexive.}
    \begin{proof}
        \pf\ For any $a \in X$ we have $\{a\}$ is a connected subspace that
        contains $a$.
    \end{proof}
    \step{2}{$\sim$ is symmetric.}
    \begin{proof}
        \pf\ Trivial.
    \end{proof}
    \step{3}{$\sim$ is transitive.}
    \begin{proof}
        \step{i}{\pflet{$a, b, c \in X$}}
        \step{ii}{\assume{$a \sim b$ and $b \sim c$}}
        \step{iii}{\pick\ connected subspaces $A$ and $B$ with $a,b \in A$
        and $b,c \in B$}
        \step{iv}{$A \cup B$ is a connected subspace that contains $a$ and $c$}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_union}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{definition}[(Connected) Component]
    Let $X$ be a topological space. The \emph{(connected) components} of
    $X$ are the equivalence classes under the above $\sim$.
\end{definition}

\begin{lemma}
    \label{lemma:component_includes_connected}
    Let $X$ be a topological space. If $A \subseteq X$ is connected 
    and nonempty then there
    exists a unique component $C$ of $X$ such that $A \subseteq C$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pick\ $a \in A$}
    \step{2}{\pflet{$C$ be the $\sim$-equivalence class of $a$.}}
    \step{3}{$A \subseteq C$}
    \begin{proof}
        \pf\ For all $x \in A$ we have $x \sim a$.
    \end{proof}
    \step{4}{If $C'$ is a component and $A \subseteq C'$ then $C = C'$}
    \begin{proof}
        \pf\ Since we have $a \in C'$.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    Let $X$ be a topological space. The components of $X$ are connected
    disjoint subspaces of $X$ whose union is $X$ such that each nonempty
    connected subspace of $X$ intersects only one of them.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{Every component of $X$ is connected.}
    \begin{proof}
        \pf\ For $a \in X$, the $\sim$-equivalence class of $a$ is
        $\bigcup \{ A \subseteq X \mid A \text{ is connected}, a \in A \}$
        which is connected by Theorem \ref{theorem:connected_union}.
    \end{proof}
    \step{2}{The components form a partition of $X$.}
    \begin{proof}
        \pf\ Immediate from the definition.
    \end{proof}
    \step{3}{Every nonempty connected subspace of $X$ intersects a unique
    component of $X$.}
    \begin{proof}
        \step{a}{\pflet{$A \subseteq X$ be connected and nonempty.}}
        \step{b}{\pflet{$C$ be the component such that $A \subseteq C$}}
        \begin{proof}
            \pf\ Lemma \ref{lemma:component_includes_connected}.
        \end{proof}
        \step{c}{$A$ intersects $C$}
        \step{d}{If $A$ intersects the component $C'$ then $C' = C$}
        \begin{proof}
            \step{i}{\pflet{$C'$ be a component that intersects $A$}}
            \step{ii}{\pick\ $b \in A \cap C'$}
            \step{iii}{$A \subseteq C'$}
            \begin{proof}
                \pf\ For all $x \in A$ we have $x \sim b$.
            \end{proof}
            \step{iv}{$C = C'$}
            \begin{proof}
                \pf\ By uniqueness in \stepref{b}.
            \end{proof}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Every component of a space is closed.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a topological space and $C$ a component of $X$.}}
    \step{2}{$\overline{C}$ is connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:connected_closure}.
    \end{proof}
    \step{3}{$C = \overline{C}$}
    \begin{proof}
        \pf\ Lemma \ref{lemma:subset_connected_subspace}.
    \end{proof}
    \step{4}{$C$ is closed.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:closure_closed}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    If a topological space has finitely many components then every component is open.
\end{proposition}

\begin{proof}
    \pf\ Each component is the complement of a finite union of closed sets. \qed
\end{proof}

\section{Path Components}

\begin{proposition}
    Let $X$ be a topological space. Define the relation $\sim$ on $X$ by:
    $a \sim b$ if and only if there exists a path in $X$ from $a$ to $b$.
    Then $\sim$ is an equivalence relation on $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\sim$ is reflexive.}
    \begin{proof}
        \pf\ For $a \in X$, the constant function $[0,1] \rightarrow X$
        with value $a$ is a path from $a$ to $a$.
    \end{proof}
    \step{2}{$\sim$ is symmetric.}
    \begin{proof}
        \pf\ If $p : [0,1] \rightarrow X$ is a path from $a$ to $b$,
        then $\lambda t.p(1-t)$ is a path from $b$ to $a$.
    \end{proof}
    \step{3}{$\sim$ is transitive.}
    \begin{proof}
        \pf\ Concatenate paths.
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Path Component]
    Let $X$ be a topological space. The \emph{path components} of $X$ are
    the equivalence relations under $\sim$.
\end{definition}.

\begin{theorem}
    \label{theorem:path_components}
    The path components of $X$ are path-connected disjoint subspaces of $X$
    whose union is $X$ such that every nonempty path-connected subspace of $X$
    intersects exactly one path component.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{Every path component is path-connected.}
    \begin{proof}
        \pf\ If $a$ and $b$ are in the same path component then $a \sim b$,
        i.e. there exists a path from $a$ to $b$.
    \end{proof}
    \step{2}{The path components are disjoint and their union is $X$.}
    \begin{proof}
        \pf\ Immediate from the definition.
    \end{proof}
    \step{3}{Every non-empty path-cönnected subspace of $X$ intersects exactly one path component.}
    \begin{proof}
        \step{a}{\pflet{$A$ be a nonempty path-connected subspace of $X$.}}
        \step{b}{\pick\ $a \in A$}
        \step{c}{$A$ intersects the $\sim$-equivalence class of $a$.}
        \step{d}{\pflet{$C$ be any path component that intersects $A$.}}
        \step{e}{\pick\ $b \in A \cap C$}
        \step{f}{$a \sim b$}
        \begin{proof}
            \pf\ Since $A$ is path-connected.
        \end{proof}
        \step{g}{$C$ is the $\sim$-equivalence class of $a$.}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:path_component_sub_component}
    Every path component is included in a component.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a topological space and $C$ a path component of $X$.}}
    \step{2}{$C$ is path-connected.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:path_components}.
    \end{proof}
    \step{3}{$C$ is connected.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:connected_path_connected}.
    \end{proof}
    \step{4}{$C$ is included in a component.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:component_includes_connected}.
    \end{proof}
    \qed
\end{proof}

\section{Local Connectedness}

\begin{definition}[Locally Connected]
    Let $X$ be a topological space and $a \in X$. Then $X$ is \emph{locally
    connected} at $a$ if and only if every neighbourhood of $a$ includes a
    connected neighbourhood of $a$.

    The space $X$ is \emph{locally connected} if and only if it is locally
    connected at every point.
\end{definition}

\begin{example}
    The real line is both connected and locally connected.
\end{example}

\begin{example}
    The space $\RR \setminus \{0\}$ is disconnected but locally connected.
\end{example}

\begin{example}
    The topologist's sine curve is connected but not locally connected.
\end{example}

\begin{example}
    The rationals $\QQ$ are neither connected nor locally connected.
\end{example}

\begin{theorem}
    \label{theorem:open_component_locally_connected}
    A topological space $X$ is locally connected if and only if, for every
    open set $U$ in $X$, every component of $U$ is open in $X$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{If $X$ is locally connected then, for every open set $U$ in $X$,
    every component of $U$ is open in $X$.}
    \begin{proof}
        \step{a}{\assume{$X$ is locally connected.}}
        \step{b}{\pflet{$U$ be open in $X$.}}
        \step{c}{\pflet{$C$ be a component of $U$.}}
        \step{d}{\pflet{$a \in C$}}
        \step{e}{\pflet{$V$ be a connected neighbourhood of $a$ such that $V \subseteq U$}}
        \step{f}{$V \subseteq C$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:component_includes_connected}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:open}.
        \end{proof}
    \end{proof}
    \step{2}{If, for every open set $U$ in $X$, every component of $U$ is
    open in $X$, then $X$ is locally connected.}
    \begin{proof}
        \step{a}{\assume{for every open set $U$ in $X$, every component of $U$ is open in $X$.}}
        \step{b}{\pflet{$a \in X$}}
        \step{c}{\pflet{$U$ be a neighbourhood of $a$}}
        \step{d}{The component of $U$ that contains $a$ is a connected neighbourhood of $a$ included in $U$.}
    \end{proof}
    \qed
\end{proof}

\begin{example}
    The ordered square is locally connected.
\end{example}

\begin{proof}
    \pf\ Every neighbourhood of a point includes an interval around that point, which is connected 
    by Theorem \ref{theorem:connected_continuum}.
\end{proof}

\begin{example}
    Let $X$ be the set of all rational points on the line segment $[0,1] \times \{0\}$,
    and $Y$ the set of all rational points on the line segment $[0,1] \times \{1\}$.
    Let $A$ be the space consisting of all line segments joining the point $(0,1)$ to a point
    of $X$, and all line segments joining the point $(1,0)$ to a point of $Y$. Then $A$ is
    path-connected but is not locally connected at any point,
\end{example}

\begin{proposition}
    Let $X$ and $Y$ be topological spaces and $p : X \twoheadrightarrow Y$ be a quotient map. If $X$ is locally connected then so is $Y$.
\end{proposition}

\begin{proof}
    \pf
    \step{a}{\pflet{$U$ be an open set in $Y$.}}
    \step{b}{\pflet{$C$ be a component of $U$.}}
    \step{c}{$\inv{p}(C)$ is a union of components of $\inv{p}(U)$}
    \begin{proof}
        \step{i}{\pflet{$x \in \inv{p}(C)$}}
        \step{ii}{\pflet{$D$ be the component of $\inv{p}(U)$ that contains $x$.}}
        \step{iii}{$p(D)$ is connected.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:connected_continuous_image}.
        \end{proof}
        \step{iv}{$p(D) \subseteq C$.}
        \begin{proof}
            \pf\ From \stepref{b} since $p(x) \in p(D) \cap C$ (\stepref{i}, \stepref{ii}).
        \end{proof}
        \step{v}{$D \subseteq \inv{p}(C)$}
    \end{proof}
    \step{d}{$\inv{p}(C)$ is open in $\inv{p}(U)$}
    \begin{proof}
        \pf\ Theorem \ref{theorem:open_component_locally_connected}.
    \end{proof}
    \step{e}{$C$ is open in $U$}
    \begin{proof}
        \pf\ Since the restriction of $p$ to $p : \inv{p}(U) \twoheadrightarrow U$
        is a quotient map by Proposition \ref{proposition:quotient_restriction}.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Theorem \ref{theorem:open_component_locally_connected}.
    \end{proof}
    \qed
\end{proof}

\section{Local Path Connectedness}

\begin{definition}[Locally Path-Connected]
    Let $X$ be a topological space and $a \in X$. Then $X$ is \emph{locally
    path-connected} at $a$ if and only if every neighbourhood of $a$ includes a
    path-connected neighbourhood of $a$.

    The space $X$ is \emph{locally path-connected} if and only if it is locally
    path-connected at every point.
\end{definition}

\begin{theorem}
    \label{theorem:open_path_component_locally_path_connected}
    A topological space $X$ is locally path-connected if and only if, for every
    open set $U$ in $X$, every path component of $U$ is open in $X$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{If $X$ is locally path-connected then, for every open set $U$ in $X$,
    every path component of $U$ is open in $X$.}
    \begin{proof}
        \step{a}{\assume{$X$ is locally path-connected.}}
        \step{b}{\pflet{$U$ be open in $X$.}}
        \step{c}{\pflet{$C$ be a path component of $U$.}}
        \step{d}{\pflet{$a \in C$}}
        \step{e}{\pflet{$V$ be a path-connected neighbourhood of $a$ such that $V \subseteq U$}}
        \step{f}{$V \subseteq C$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:component_includes_connected}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:open}.
        \end{proof}
    \end{proof}
    \step{2}{If, for every open set $U$ in $X$, every component of $U$ is
    open in $X$, then $X$ is locally connected.}
    \begin{proof}
        \step{a}{\assume{for every open set $U$ in $X$, every component of $U$ is open in $X$.}}
        \step{b}{\pflet{$a \in X$}}
        \step{c}{\pflet{$U$ be a neighbourhood of $a$}}
        \step{d}{The component of $U$ that contains $a$ is a connected neighbourhood of $a$ included in $U$.}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    If a space is locally path connected then its components and its path components are the same.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a locally path connected space.}}
    \step{2}{\pflet{$C$ be a component of $X$.}}
    \step{3}{\pflet{$x \in C$}}
    \step{4}{\pflet{$P$ be the path component of $x$} \prove{$P = C$}}
    \step{5}{$P \subseteq C$}
    \begin{proof}
        \pf\ Proposition \ref{proposition:path_component_sub_component}.
    \end{proof}
    \step{6}{\pflet{$Q$ be the union of the other path components included in $C$}}
    \step{7}{$C = P \cup Q$}
    \begin{proof}
        \pf\ Proposition \ref{proposition:path_component_sub_component}.
    \end{proof}
    \step{8}{$P$ and $Q$ are open in $C$}
    \begin{proof}
        \step{a}{$C$ is open.}
        \begin{proof}
            \pf\ Theorem \ref{theorem:open_component_locally_connected}.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Theorem \ref{theorem:open_path_component_locally_path_connected}.
        \end{proof}
    \end{proof}
    \step{9}{$Q = \emptyset$}
    \begin{proof}
        \pf\ Otherwise $P$ and $Q$ would form a separation of $C$.
    \end{proof}
    \qed
\end{proof}

\begin{example}
    The ordered square is not locally path connected, since it is connected but not path connected.
\end{example}

\begin{proposition}
    Let $X$ be a locally path-connected space. Then every connected open subspace
    of $X$ is path-connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$U$ be a connected open subspace of $X$.}}
    \step{2}{\pflet{$P$ be a path component of $U$.}}
    \step{3}{\pflet{$Q$ be the union of the other path components of $U$.}}
    \step{4}{$P$ and $Q$ are open in $U$.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:open_path_component_locally_path_connected}.
    \end{proof}
    \step{5}{$Q = \emptyset$}
    \begin{proof}
        \pf\ Otherwise $P$ and $Q$ form a separation of $U$.
    \end{proof}
    \qed
\end{proof}

\section{Weak Local Connectedness}

\begin{definition}[Weakly Locally Connected]
    Let $X$ be a topological space and $a \in X$. Then $X$ is \emph{weakly locally connected} at $a$ if and only if
    every neighbourhood of $a$ includes a connected subspace that includes a neighbourhood of $a$.
\end{definition}

\begin{proposition}
    Let $X$ be a topological space. If $X$ is weakly locally connected at every point then $X$ is locally connected.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\assume{$X$ is weakly locally connected at every point.}}
    \step{2}{\pflet{$U$ be open in $X$.}}
    \step{3}{\pflet{$C$ be a component of $U$.}}
    \step{4}{$C$ is open in $X$.}
    \begin{proof}
        \step{a}{\pflet{$x \in C$}}
        \step{b}{\pick\ a connected subspace $D$ of $U$ that includes a neighbourhood $V$ of $x$.}
        \step{c}{$D \subseteq C$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:component_includes_connected}.
        \end{proof}
        \step{d}{$x \in V \subseteq C$}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:open}.
        \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Theorem \ref{theorem:open_component_locally_connected}.
    \end{proof}
    \qed
\end{proof}

\begin{example}
    The 'infinite broom' (Munkres p.163) is an example of a space that is
    weakly locally connected at a point $p$ but not locally connected at $p$.
\end{example}

\section{Quasicomponents}

\begin{proposition}
    Let $X$ be a topological space. Define $\sim$ on $X$ by $x \sim y$ if and only if there exists no
    separation $U$ and $V$ of $X$ such that $x \in U$ and $y \in V$. Then $\sim$ is an equivalence relation on $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\sim$ is reflexive.}
    \begin{proof}
        \pf\ Since the two sets that make up a separation are disjoint.
    \end{proof}
    \step{2}{$\sim$ is symmetric.}
    \begin{proof}
        \pf\ Immediate from the defintion.
    \end{proof}
    \step{3}{$\sim$ is transitive.}
    \begin{proof}
        \step{a}{\assume{$x \sim y$ and $y \sim z$}}
        \step{b}{\assume{for a contradiction there is a separation $U$ and $V$ of $X$
        with $x \in U$ and $z \in V$}}
        \step{c}{$y \in U$ or $y \in V$}
        \qedstep
        \begin{proof}
            \pf\ Either case contradicts \stepref{a}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{definition}[Quasicomponents]
    For $X$ a topological space, the \emph{quasicomponents} of $X$ are the
    equivalence classes under $\sim$.
\end{definition}

\begin{proposition}
    Let $X$ be a topological space. Then every component of $X$ is included in a quasicomponent of $X$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$C$ be a component of $X$.}}
    \step{2}{\pflet{$x, y \in C$} \prove{$x \sim y$}}
    \step{3}{\assume{for a contradiction there exists a separation $U$ and $V$ of $X$ with $x \in U$ and $y \in V$}}
    \step{4}{$C \cap U$ and $C \cap V$ form a separation of $C$.}
    \qedstep
    \begin{proof}
        \pf\ This contradicts \stepref{1}.
    \end{proof}
\end{proof}

\begin{proposition}
    In a locally connected space, the components and the quasicomponents are the same.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a locally connected space and $Q$ a quasicomponent of $X$.}}
    \step{2}{\pick\ a component $C$ of $X$ such that $C \subseteq Q$}
    \step{3}{\pflet{$D$ be the union of the components of $X$}}
    \step{4}{$C$ and $D$ are open in $X$.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:open_component_locally_connected}.
    \end{proof}
    \step{5}{$D$ cannot contain any points of $Q$.}
    \begin{proof}
        \pf\ If it did, then $C$ and $D$ would form a separation of $X$
        and there would be points $x, y \in Q$ with $x \in C$ and $y \in D$.
    \end{proof}
    \step{6}{$C = Q$}
    \qed
\end{proof}

\section{Open Coverings}

\begin{definition}[Open Covering]
    Let $X$ be a topological space. An \emph{open covering} of $X$ is a covering
    of $X$ whose elements are all open sets.
\end{definition}

\section{Compact Spaces}

\begin{definition}[Compact]
    A topological space is \emph{compact} if and only if every open covering has a finite subcovering.
\end{definition}

\begin{lemma}
    \label{lemma:finite_subcovering_subspace}
    Let $X$ be a topological space and $Y$ a subspace of $X$. Then $Y$ is compact if and only if
    every covering of $Y$ by sets open in $X$ has a finite subcovering.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{If $Y$ is compact then every covering of $Y$ by sets open in $X$ has a finite subcovering.}
    \begin{proof}
        \step{a}{\assume{$Y$ is compact.}}
        \step{b}{\pflet{$\UU$ be a covering of $Y$ by sets open in $X$.}}
        \step{c}{$\{ U \cap Y \mid U \in \UU \}$ is an open covering of $Y$.}
        \step{d}{\pick\ a finite subcovering $\{ U_1 \cap Y, \ldots, U_n \cap Y \}$}
        \step{e}{$\{ U_1, \ldots, U_n \}$ is a finite subcovering of $\UU$.}
    \end{proof}
    \step{2}{If every covering of $Y$ by sets open in $X$ has a finite subcovering then $Y$ is compact.}
    \begin{proof}
        \step{a}{\pflet{$\UU$ be an open covering of $Y$.}}
        \step{b}{\pflet{$\VV = \{ V \text{ open in } X \mid V \cap Y \in \UU \}$.}}
        \step{c}{$\VV$ is a covering of $Y$ by sets open in $X$.}
        \step{d}{\pick\ a finite subcovering $\{ V_1, \ldots, V_n \}$}
        \step{e}{$\{ V_1 \cap Y, \ldots, V_n \cap Y \}$ is a finite subcovering of $\UU$.}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:compact_closed_subspace}
    Every closed subspace of a compact space is compact.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$X$ be a compact space and $Y \subseteq X$ be closed.}}
    \step{2}{\pflet{$\UU$ be a covering of $Y$ by sets open in $X$.}}
    \step{3}{$\UU \cup \{ X \setminus Y \}$ is an open covering of $X$.}
    \step{4}{\pick\ a finite subcovering $\UU_0$}
    \step{5}{$\UU_0 \cap \UU$ is a finite subset of $\UU$ that covers $Y$.}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:compact_continuous_image}
    The continuous image of a compact space is compact.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$f : X \twoheadrightarrow Y$ be continuous and surjective.}}
    \step{2}{\pflet{$\VV$ be an open covering of $Y$}}
    \step{3}{$\{ \inv{p}(V) \mid V \in \VV \}$ is an open covering of $X$.}
    \step{4}{\pick\ a finite subcovering $\{ \inv{p}(V_1), \ldots, \inv{p}(V_n) \}$}
    \step{5}{$\{ V_1, \ldots, V_n \}$ covers $Y$.}
    \qed
\end{proof}

\begin{theorem}
    \label{theorem:generalized_tube_lemma}
    Let $A$ and $B$ be compact subspaces of $X$ and $Y$ respectively. Let $N$ be an open set in $X \times Y$ that includes $A \times B$.
    Then there exist open sets $U$ and $V$ in $X$ and $Y$ respectively such that $A \subseteq U$, $B \subseteq V$ and $U \times V \subseteq N$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{For all $x \in A$, there exist neighbourhoods $U$ of $x$ and $V$ of $B$ such that $U \times V \subseteq N$.}
    \begin{proof}
        \step{a}{\pflet{$x \in A$}}
        \step{b}{For all $y \in B$, there exist neighbourhoods $U$ of $x$ and $V$ of $y$ such that $U \times V \subseteq N$}
        \step{c}{$\{ V \text{ open in } Y \mid \exists \text{ neighbourhood } U \text{ of } x, U \times V \subseteq N \}$ covers $B$.}
        \step{d}{\pick\ a finite subcover $\{ V_1, \ldots, V_n \}$}
        \step{e}{For $i = 1, \ldots, n$, \pick\ a neighbourhood $U_i$ of $x$ such that $U_i \times V_i \subseteq N$}
        \step{f}{\pflet{$U = U_1 \cap \cdots \cap U_n$}}
        \step{g}{\pflet{$V = V_1 \cup \cdots \cup V_n$}}
        \step{h}{$U$ is a neighbourhood of $x$.}
        \step{i}{$V$ is a neighbourhood of $B$.}
        \step{j}{$U \times V \subseteq N$}
    \end{proof}
    \step{2}{$\{ U \text{ open in } X \mid \exists \text{ neighbourhood } V \text{ of } B. U \times V \subseteq N \}$ covers $A$.}
    \step{3}{\pick\ a finite subcover $\{ U_1, \ldots, U_n \}$}
    \step{4}{For $i = 1, \ldots, n$, \pick\ a neighbourhood $V_i$ of $B$ such that $U_i \times V_i \subseteq N$}
    \step{5}{\pflet{$U = U_1 \cup \cdots \cup U_n$}}
    \step{6}{\pflet{$V = V_1 \cap \cdots \cap V_n$}}
    \step{7}{$U$ and $V$ are open.}
    \step{8}{$A \subseteq U$}
    \step{9}{$B \subseteq V$}
    \step{10}{$U \times V \subseteq N$}
    \qed
\end{proof}

\begin{corollary}[Tube Lemma]
    Let $X$ and $Y$ be topological spaces with $Y$ compact. Let $a \in X$
    and $N$ be an open set in $X \times Y$ that includes $\{a\} \times Y$.
    Then there exists a neighbourhood $W$ of $a$ such that
    $N$ includes the \emph{tube} $W \times Y$.
\end{corollary}

\begin{theorem}
    \label{theorem:compact_closed_sets}
    Let $X$ be a topological space. Then $X$ is compact if and only if every set of closed sets that has the finite intersection property has nonempty intersection.
\end{theorem}

\begin{proof}
    \pf\ The following are equivalent.
    \begin{enumerate}
        \item $X$ is compact.
        \item Every open covering of $X$ has a finite subcovering.
        \item For any set $\CC$ of closed sets, if $\{ X \setminus C \mid C \in \CC \}$ covers $X$ then there is a finite subset $\CC_0$ such that
        $\{ X \setminus C \mid C \in \CC_0 \}$ covers $X$
        \item For any set $\CC$ of closed sets, if $\bigcap \CC = \emptyset$ then there is a finite subset $\CC_0$ with empty intersection.
        \item Any set of closed sets with the finite intersection property has nonempty intersection.
    \end{enumerate}
    \qed
\end{proof}

\begin{corollary}
    Let $X$ be a topological space and $C_1 \supseteq C_2 \supseteq \cdots$ a nested sequence of nonempty closed sets. Then $\bigcap_n C_n$ is nonempty.
\end{corollary}

\begin{proposition}
    Let $\TT$ and $\TT'$ be two topologies on the same set $X$ with $\TT \subseteq \TT'$. If $\TT'$ is compact then $\TT$ is compact.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\UU \subseteq \TT$ cover $X$}}
    \step{2}{$\UU \subseteq \TT'$}
    \step{3}{A finite subset of $\UU$ covers $X$.}
    \qed
\end{proof}

\begin{corollary}
    If $\TT$ and $\TT'$ are two compact Hausdorff topologies on the same set $X$, then either $\TT = \TT'$ or $\TT$ and $\TT'$ are incomparable.
\end{corollary}

\begin{proof}
    \pf\ From the Proposition and Proposition \ref{proposition:Hausdorff_finer}. \qed
\end{proof}

\begin{example}
    Any set under the finite complement topology is compact.
\end{example}

\begin{proposition}
    Let $X$ be a topological space. A finite union of compact subspaces of $X$ is compact.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$A$ and $B$ be compact subspaces of $X$.}}
    \step{2}{\pflet{$\UU$ be a set of open sets in $X$ that covers $A \cup B$}}
    \step{3}{\pick\ a finite subset $\UU_1$ that covers $A$.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:finite_subcovering_subspace}.
    \end{proof}
    \step{4}{\pick\ a finite subset $\UU_2$ that covers $B$.}
    \begin{proof}
        \pf\ Lemma \ref{lemma:finite_subcovering_subspace}.
    \end{proof}
    \step{5}{$\UU_1 \cup \UU_2$ is a finite subset that covers $A \cup B$.}
    \qedstep
    \begin{proof}
        \pf\ Lemma \ref{lemma:finite_subcovering_subspace}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:disjoint_neighbourhoods_compact_Hausdorff}
    Let $A$ and $B$ be disjoint compact subspaces of the Hausdorff space $X$.
    Then there exist disjoint open sets $U$ and $V$ that include $A$ and $B$
    respectively.
\end{proposition}

\begin{proof}
    \pf\ From Theorem \ref{theorem:generalized_tube_lemma} with $N = X^2 \setminus \{ (x,x) \mid x \in X \}$. \qed
\end{proof}

\begin{corollary}
    \label{corollary:closed_compact}
    Every compact subspace of a Hausdorff space is closed.
\end{corollary}

\begin{theorem}
    Let $f : X \rightarrow Y$ be a bijective continuous function. If $X$ is
    compact and $Y$ is Hausdorff then $f$ is a homeomorphism.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$C \subseteq X$ be closed.}}
    \step{2}{$C$ is compact.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:compact_closed_subspace}.
    \end{proof}
    \step{3}{$f(C)$ is compact.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_continuous_image}.
    \end{proof}
    \step{4}{$f(C)$ is closed.}
    \begin{proof}
        \pf\ Corollary \ref{corollary:closed_compact}.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Lemma \ref{lemma:homeomorphism}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $X$ be a compact space, $Y$ a Hausdorff space, and $f : X \rightarrow Y$
    a continuous map. Then $f$ is a closed map.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$C \subseteq X$ be closed.}}
    \step{2}{$C$ is compact.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:compact_closed_subspace}.
    \end{proof}
    \step{3}{$f(C)$ is compact.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_continuous_image}.
    \end{proof}
    \step{4}{$f(C)$ is closed.}
    \begin{proof}
        \pf\ Corollary \ref{corollary:closed_compact}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:closed_map_compact_projection}
    If $Y$ is compact then the projection $\pi_1 : X \times Y \rightarrow X$
    is a closed map.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$A \subseteq X \times Y$ be closed.}}
    \step{2}{\pflet{$x \in X \setminus \pi_1(A)$}}
    \step{3}{\pick\ a neighbourhood $U$ of $x$ such that $U \times Y \subseteq (X \times Y) \setminus A$}
    \begin{proof}
        \pf\ By the Tube Lemma.
    \end{proof}
    \step{8}{$x \in U \subseteq X \setminus \pi_1(A)$}
    \qedstep
    \begin{proof}
        \pf\ So $X \setminus \pi_1(A)$ is open by Lemma \ref{lemma:open}.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    Let $X$ be a topological space and $Y$ a compact Hausdorff space. Let $f : X \rightarrow Y$ be a function. Then $f$ is continuous if and only if
    the graph of $f$ is closed in $X \times Y$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$G_f$ be the graph of $f$.}}
    \step{2}{If $f$ is continuous then $G_f$ is closed.}
    \begin{proof}
        \step{a}{\assume{$f$ is continuous.}}
        \step{b}{\pflet{$(x,y) \in (X \times Y) \setminus G_f$}}
        \step{c}{\pick\ disjoint neighbourhoods $U$ and $V$ of $y$ and $f(x)$ respectively.}
        \step{d}{$\inv{f}(V) \times U$ is a neighbourhood of $(x,y)$ disjoint from $G_f$.}
    \end{proof}
    \step{3}{If $G_f$ is closed then $f$ is continuous.}
    \begin{proof}
        \step{a}{\assume{$G_f$ is closed.}}
        \step{b}{\pflet{$x \in X$ and $V$ be a neighbourhood of $f(x)$.}}
        \step{c}{$G_f \cap (X \times (Y \setminus V))$ is closed.}
        \step{d}{$\pi_1(G_f \cap (X \times (Y \setminus V)))$ is closed.}
        \begin{proof}
            \pf\ Proposition \ref{proposition:closed_map_compact_projection}.
        \end{proof}
        \step{e}{\pflet{$U = X \setminus \pi_1(G_f \cap (X \times (Y \setminus V)))$}}
        \step{f}{$U$ is a neighbourhood of $x$}
        \step{g}{$f(U) \subseteq V$}
    \end{proof}
    \qed
\end{proof}

\begin{theorem}
    Let $X$ be a compact topological space. Let $(f_n : X \rightarrow \RR)$ be a monotone increasing sequence of continuous functions and $f : X \rightarrow \RR$
    a continuous function. If $(f_n)$ converges pointwise to $f$, then $(f_n)$ converges uniformly to $f$.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$\epsilon > 0$}}
    \step{2}{For all $x \in X$, there exists $N$ such that, for all $n \geq N$, we have $|f_n(x) - f(x)| < \epsilon$}
    \step{3}{For $n \geq 1$, \pflet{$U_n = \{ x \in X \mid |f_n(x) - f(x)| < \epsilon\} $}}
    \step{4}{For $n \geq 1$, we have $U_n$ is open in $X$.}
    \begin{proof}
        \step{a}{\pflet{$x \in X$}}
        \step{b}{\pflet{$\delta = \epsilon - |f_n(x) - f(x)|$}}
        \step{b}{\pick\ a neighbourhood $U$ of $x$ such that $f(U) \subseteq B(f(x), \delta / 2)$}
        \step{c}{\pick\ a neighbourhood $V$ of $x$ such that $f_n(V) \subseteq B(f_n(x), \delta / 2)$}
        \step{d}{$f(U \cap V) \subseteq U_n$}
        \begin{proof}
            \pf\ For $y \in U \cap V$ we have
            \begin{align*}
                |f_n(y) - f(y)| & \leq |f_n(y) - f_n(x)| + |f_n(x) - f(x)| + |f(x) - y(y)| \\
                & < \delta / 2 + |f_n(x) - f(x)| + \delta / 2 \\
                & = \epsilon
            \end{align*}
        \end{proof}
    \end{proof}
    \step{5}{$ \{ U_n \mid n \geq 1 \}$ covers $X$}
    \begin{proof}
        \pf\ From \stepref{2}
    \end{proof}
    \step{6}{\pick\ $N$ such that $X = U_N$}
    \begin{proof}
        \step{a}{\pick\ $n_1$, \ldots, $n_k$ such that $U_{n_1}$, \ldots, $U_{n_k}$ cover $X$.}
        \step{b}{\pflet{$N = \max(n_1, \ldots, n_k)$}}
        \step{c}{For all $i$ we have $U_{n_i} \subseteq U_N$}
        \begin{proof}
            \pf\ Since $(f_n)$ is monotone increasing.
        \end{proof}
        \step{d}{$X = U_N$}
    \end{proof}
    \step{7}{For all $x \in X$ and $n \geq N$ we have $|f_n(x) - f(x)| < \epsilon$}
    \qed
\end{proof}

An example to show that we cannot remove the hypothesis that $X$ is compact:

\begin{example}
    Let $X = (0,1)$, $f_n(x) = -x^n$ and $f(x) = 0$ for $x \in X$ and $n \geq 1$. Then $f_n \rightarrow f$ pointwise and $(f_n)$ is monotone
    increasing but the convergence is not uniform since, for all $N \geq 1$, there exists $x \in (0,1)$ such that $-x^N < -1/2$.
\end{example}

An example to show that we cannot remove the hypothesis that $(f_n)$ is monotone increasing:

\begin{example}
    Let $X = [0,1]$, $f_n(x) = 1 / (n^3 (x - 1/n)^2 + 1)$ and $f(x) = 0$ for $x \in X$ and $n \geq 1$. Then $X$ is compact and $f_n \rightarrow f$
    pointwise but the convergence is not uniform since, for all $N \geq 1$, there exists $x \in [0,1]$ such that $f_N(x) = 1$, namely
    $x = 1/N$.
\end{example}

\begin{theorem}
    Let $X$ be a compact Hausdorff space. Let $\AA$ be a chain of closed connected subsets of $X$. Then $\bigcap \AA$ is connected.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\assume{for a contradiction $C$ and $D$ form a separation of $\bigcap \AA$.}}
    \step{2}{\pick\ disjoint open sets $U$ and $V$ that include $C$ and $D$ respectively.}
    \begin{proof}
        \pf\ Proposition \ref{proposition:disjoint_neighbourhoods_compact_Hausdorff}.
    \end{proof}
    \step{3}{$\{ A \setminus (U \cup V) \mid A \in \AA \}$ is a set of closed sets with the finite intersection property.}
    \begin{proof}
        \step{a}{For all $A \in \AA$ we have $A \setminus (U \cup V)$ is closed.}
        \step{b}{For all $A_1, \ldots, A_n \in \AA$ we have $(A_1 \cap \cdots \cap A_n) \setminus (U \cup V)$ is nonempty.}
        \begin{proof}
            \pf
            \step{i}{\pflet{$A_1, \ldots, A_n \in \AA$}}
            \step{ii}{\assume{without loss of generality $A_1 \subseteq A_2, \ldots, A_n$}}
            \begin{proof}
                \pf\ Since $\AA$ is a chain.
            \end{proof}
            \step{iii}{$A_1 \setminus (U \cup V)$ is nonempty}
            \begin{proof}
                \pf\ Otherwise $(A_1 \cap \cdots \cap A_n \cap U)$ and $(A_1 \cap \cdots \cap A_n \cap V)$
                would form a separation of $A_n$.
            \end{proof}
        \end{proof}
    \end{proof}
    \step{4}{$\bigcap \AA \setminus (U \cup V)$ is nonempty.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_closed_sets}.
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ This contradicts \stepref{1} since $\bigcap AA \setminus (U \cup V)
        = \bigcap \AA \setminus (C \cup D)$.
    \end{proof}
    \qed
\end{proof}

\begin{theorem}[Tychonoff Theorem (AC)]
    The product of a family of compact spaces is compact.
\end{theorem}

\begin{proof}
    \pf
    \step{1}{\pflet{$\{ X_\alpha \}_{\alpha \in J}$ be a family of compact spaces.}}
    \step{2}{\pflet{$X = \prod_{\alpha \in J} X_\alpha$}}
    \step{3}{For any $\AA \subseteq \pow X$, we have $\bigcap_{A \in \AA} \overline{A} \neq \emptyset$}
    \begin{proof}
        \step{a}{\pflet{$\AA \subseteq \pow X$}}
        \step{b}{\pick\ $\DD \supseteq \AA$ that is maximal with respect to the finite intersection property.
        \prove{$\bigcap_{D \in \DD} \overline{D} \neq \emptyset$}}
        \begin{proof}
            \pf\ Lemma \ref{lemma:maximal_finite_intersection_property}.
        \end{proof}
        \step{c}{For $\alpha \in J$, \pick\ $x_\alpha \in X_\alpha$ such that
        $x_\alpha \in \bigcap_{D \in \DD} \overline{\pi_\alpha(D)}$}
        \begin{proof}
            \pf\ Theorem \ref{theorem:compact_closed_sets} since $\{ \overline{\pi_\alpha(D)} \mid D \in \DD \}$ is a set
            of closed sets in $X_\alpha$ with the finite intersection property.
        \end{proof}
        \step{d}{\pflet{$x = (x_\alpha)_{\alpha \in J}$} \prove{$x \in \bigcap_{D \in \DD} \overline{D}$}}
        \step{e}{For any $\beta \in J$ and neighbourhood $U$ of $x_\beta$ in $X_\beta$,
        we have $\inv{\pi_\beta}(U)$ intersects every element of $\DD$}
        \begin{proof}
            \step{i}{\pflet{$\beta \in J$}}
            \step{ii}{\pflet{$U$ be a neighbourhood of $x_\beta$ in $X_\beta$.}}
            \step{iii}{\pflet{$D \in \DD$}}
            \step{iv}{$x_\beta \in \overline{\pi_\beta(D)}$}
            \begin{proof}
                \pf\ From \stepref{c}
            \end{proof}
            \step{v}{$U$ intersects $\pi_\beta(D)$.}
            \step{vi}{$\inv{\pi_\beta}(U)$ intersects $D$.}
        \end{proof}
        \step{f}{For any $\beta \in J$ and neighbourhood $U$ of $x_\beta$ in $X_\beta$,
        we have $\inv{\pi_\beta}(U) \in \DD$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:member_maximal_finite_intersection}.
        \end{proof}
        \step{g}{Every basic neighbourhood of $x$ is an element of $\DD$}
        \begin{proof}
            \pf\ Lemma \ref{lemma:finite_intersection_maximal}.
        \end{proof}
        \step{h}{Every basic neighbourhood of $x$ intersects every element of $\DD$}
        \begin{proof}
            \pf\ Since $\DD$ satisfies the finite intersection property.
        \end{proof}
        \step{i}{For all $D \in \DD$ we have $x \in \overline{D}$}
    \end{proof}
    \qedstep
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_closed_sets}.
    \end{proof}
    \qed
\end{proof}

\section{Perfect Maps}

\begin{definition}[Perfect Map]
    Let $X$ and $Y$ be topological spaces and $f : X \rightarrow Y$. Then $f$ is a \emph{perfect map} if and only if $f$ is a closed map, continuous,
    surjective and $\inv{p}(y)$ is compact for all $y \in Y$.
\end{definition}

\begin{proposition}
    \label{proposition:compact_pre_image}
    Let $X$ be a topological space, $Y$ a compact space, and $p : X \rightarrow Y$ a closed map such that, for all $y \in Y$, we have $\inv{p}(y)$ is compact. Then $X$ is compact.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$\AA$ be a set of closed sets in $X$ with the finite intersection property.}}
    \step{2}{$\BB = \{ p(A_1 \cap \cdots \cap A_n) \mid A_1, \ldots, A_n \in \AA \}$ is a set of closed sets in $Y$ with the finite intersection property.}
    \begin{proof}
        \pf\ Since $p$ is a closed map.
    \end{proof}
    \step{3}{\pick\ $y \in \bigcap \BB$}
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_closed_sets} since $Y$ is compact.
    \end{proof}
    \step{4}{$\{ A \cap \inv{p}(y) \mid A \in \AA\}$ is a set of closed sets in $\inv{p}(y)$ with the finite intersection property.}
    \step{5}{\pick\ $x \in \bigcap_{A \in \AA} (A \cap \inv{p}(y))$}
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_closed_sets} since $\inv{p}(y)$ is compact.
    \end{proof}
    \step{6}{$x \in \bigcap \AA$}
    \qedstep
    \begin{proof}
        \pf\ Theorem \ref{theorem:compact_closed_sets}.
    \end{proof}
    \qed
\end{proof}
\section{Topological Groups}

\begin{definition}[Topological Group]
    A \emph{topological group} $G$ consists of a $T_1$ space $G$ and continuous maps
    $\cdot : G^2 \rightarrow G$ and $\inv{(\ )} : G \rightarrow G$ such that $(G, \cdot, \inv{(\ )})$
    is a group.
\end{definition}

\begin{example}
    \begin{enumerate}
        \item The integers $\ZZ$ under addition are a topological group.
        \item The real numbers $\RR$ under addition are a topological group.
        \item The positive reals under multiplication are a topological group.
        \item The set $\{ z \in \mathbb{C} \mid |z| = 1 \}$ under multiplication
        and given the topology of $S^1$ is a topological group.
        \item For any $n \geq 0$, the general linear group $GL_n(\RR)$ is a topological
        group under matrix multiplication, considered as a subspace of $\RR^{n^2}$.
    \end{enumerate}
\end{example}

\begin{lemma}
    Let $G$ be a $T_1$ space and $\cdot : G^2 \rightarrow G$, $\inv{(\ )} : G \rightarrow G$
    be functions such that $(G, \cdot, \inv{(\ )})$ is a group. Then $G$ is a
    topological group if and only if the function $f : G^2 \rightarrow G$ that maps
    $(x,y)$ to $x \inv{y}$ is continuous.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{If $G$ is a topological group then $f$ is continuous.}
    \begin{proof}
        \pf\ From Theorem \ref{theorem:continuous_composite}.
    \end{proof}
    \step{2}{If $f$ is continuous then $G$ is a topological group.}
    \begin{proof}
        \step{a}{\assume{$f$ is continuous.}}
        \step{b}{$\inv{(\ )}$ is continuous.}
        \begin{proof}
            \pf\ Since $\inv{x} = f(e,x)$.
        \end{proof}
        \step{c}{$\cdot$ is continuous.}
        \begin{proof}
            \pf\ Since $xy = f(x,\inv{y})$.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Then $H$ is a topological group
    under the subspace topology.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{$H$ is $T_1$.}
    \begin{proof}
        \pf\ From Proposition \ref{proposition:T1_subspace}.
    \end{proof}
    \step{2}{multiplication and inverse on $H$ are continuous.}
    \begin{proof}
        \pf\ From Theorem \ref{theorem:continuous_restriction}.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Then 
    $\overline{H}$ is a subgroup of $G$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$x, y \in \overline{H}$} \prove{$x\inv{y} \in \overline{H}$}}
    \step{2}{\pflet{$U$ be any neighbourhood of $x \inv{y}$}}
    \step{3}{\pflet{$f : G^2 \rightarrow G$, $f(a,b) = a \inv{b}$}}
    \step{4}{$\inv{f}(U)$ is a neighbourhood of $(x,y)$}
    \step{5}{\pick\ neighbourhoods $V$, $W$ of $x$ and $y$ respectively
    such that $f(V \times W) \subseteq U$.}
    \step{6}{\pick\ $a \in V \cap H$ and $b \in W \cap H$}
    \begin{proof}
        \pf\ Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \step{7}{$a \inv{b} \in U \cap H$}
    \qedstep
    \begin{proof}
        \pf\ By Theorem \ref{theorem:closure_neighbourhood}.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Let $G$ be a topological group and $\alpha \in G$. Then the maps
    $l_\alpha, r_\alpha : G \rightarrow G$ defined by $l_\alpha(x) = \alpha x$,
    $r_\alpha(x) = x\alpha$ are homeomorphisms of $G$ with itself.
\end{proposition}

\begin{proof}
    \pf\ They are continuous with continuous inverses $l_{\inv{\alpha}}$ and
    $r_{\inv{\alpha}}$. \qed
\end{proof}

\begin{corollary}
    Every topological group is homogeneous.
\end{corollary}

\begin{proof}
    \pf\ Given a topological group $G$ and $a, b \in G$, we have $l_{b\inv{a}}$
    is a homeomorphism that maps $a$ to $b$. \qed
\end{proof}

\begin{proposition}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Give $G / H$
    the quotient topology. For all $\alpha \in G$, the map $\overline{f_\alpha}$ that
    sends $xH$ to $\alpha xH$ is a homeomorphism $G / H \cong G / H$.    
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$\overline{f_\alpha}$ is well-defined.}
    \begin{proof}
        \pf\ If $x\inv{y} \in H$ then $(\alpha x) \inv{(\alpha y)} = x \inv{y}
        \in H$.
    \end{proof}
    \step{2}{$\overline{f_\alpha}$ is continuous.}
    \begin{proof}
        \pf\ Theorem \ref{theorem:quotient_composite} since $\overline{f_\alpha} \circ p
        = p \circ f_\alpha$ is continuous, where $p : G \twoheadrightarrow G / H$
        is the canonical surjection.
    \end{proof}
    \step{3}{$\inv{\overline{f_\alpha}}$ is continuous.}
    \begin{proof}
        \pf\ Similar since $\inv{\overline{f_\alpha}} = \overline{f_{\inv{\alpha}}}$.
    \end{proof}
    \qed
\end{proof}

\begin{corollary}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Give $G / H$
    the quotient topology. Then $G / H$ is homogeneous.
\end{corollary}

\begin{proposition}
    \label{proposition:T1_quotient}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Give $G / H$
    the quotient topology. If $H$ is closed in $G$ then $G / H$ is $T_1$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$p : G \twoheadrightarrow G / H$ be the canonical surjection}}
    \step{2}{\pflet{$x \in G$}}
    \step{3}{$\inv{p}(xH) = f_x(H)$}
    \step{4}{$\inv{p}(xH)$ is closed in $G$}
    \begin{proof}
        \pf\ Since $H$ is closed and $f_x$ is a homemorphism of $G$ with
        itself.
    \end{proof}
    \step{5}{$\{xH\}$ is closed in $G / H$}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:quotient_group_open_map}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Give $G / H$ the
    quotient topology. Then the canonical surjection $p : G \twoheadrightarrow G / H$
    is an open map.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$U \subseteq G$ be open.}}
    \step{2}{$\inv{p}(p(U)) = \bigcup_{h \in H} r_h(U)$}
    \step{3}{$\inv{p}(p(U))$ is open.}
    \step{4}{$p(U)$ is open.}
    \qed
\end{proof}

\begin{proposition}
    Let $G$ be a topological group and $H$ a closed normal subgroup of $G$.
    Then $G / H$ is a topological group under the quotient topology.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{$G / H$ is $T_1$} 
    \begin{proof}
        \pf\ Proposition \ref{proposition:T1_quotient}.
    \end{proof}
    \step{2}{The map $\overline{m} : (xH,yH) \mapsto x\inv{y}H$ is continuous.}
    \begin{proof}
        \step{a}{$p^2 : G^2 \rightarrow (G / H)^2$ is a quotient map.}
        \begin{proof}
            \pf\ Propositions \ref{proposition:quotient_product}, \ref{proposition:quotient_group_open_map}.
        \end{proof}
        \step{b}{$\overline{m} \circ p^2$ is continuous.}
        \begin{proof}
            \pf\ As it is $p^2 \circ m$ where $m : G^2 \rightarrow G$ with
            $m(x,y) = x\inv{y}$
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:open_subset_mult}
    Let $G$ be a topological group and $A, B \subseteq G$. If either $A$ or $B$ is open then $AB$ is open.
\end{lemma}

\begin{proof}
    \pf\ If $A$ is open we have $AB = \bigcup_{b \in B} r_b(A)$. Similarly if $B$ is open. \qed
\end{proof}

\begin{definition}[Symmetric Neighbourhood]
    Let $G$ be a topological group. A neighbourhood $V$ of $e$ is \emph{symmetric}
    if and only if $V = \inv{V}$.
\end{definition}

\begin{lemma}
    \label{lemma:symmetric_neighbourhood}
    Let $G$ be a topological group. Let $V$ be a neighbourhood of $e$. Then $V$ is symmetric if and only if, for all $x \in V$, we have $\inv{x} \in V$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{If $V$ is symmetric then, for all $x \in V$, we have $\inv{x} \in V$}
    \begin{proof}
        \pf\ Immediate from defintions.
    \end{proof}
    \step{2}{If, for all $x \in V$, we have $\inv{x} \in V$, then $V$ is symmetric.}
    \begin{proof}
        \step{a}{\assume{for all $x \in V$ we have $\inv{x} \in V$}}
        \step{b}{$V \subseteq \inv{V}$}
        \begin{proof}
            \pf\ If $x \in V$ then there exists $y \in V$ such that $x = \inv{y}$, namely $y = \inv{x}$
        \end{proof}
        \step{c}{$\inv{V} \subseteq V$}
        \begin{proof}
            \pf\ Immediate from \stepref{a}.
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    \label{lemma:symmetric_subneighbourhood}
    Let $G$ be a topological group. For every neighbourhood $U$ of $e$, there exists a symmetric neighbourhood $V$ of $e$ such that $V^2 \subseteq U$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{\pflet{$U$ be a neighbourhood of $e$.}}
    \step{2}{\pick\ a neighbourhood $V'$ of $e$ such that $V'V' \subseteq U$}
    \begin{proof}
        \pf\ Such a neighbourhood exists because multiplication in $G$ is continuous.
    \end{proof}
    \step{3}{\pick\ a neighbourhood $W$ of $e$ such that $W \inv{W} \subseteq V'$}
    \begin{proof}
        \pf\ Such a neighbourhood exists because the function that maps $(x,y)$ to $x \inv{y}$ is continuous.
    \end{proof}
    \step{4}{\pflet{$V = W \inv{W}$}}
    \step{5}{$V$ is a neighbourhood of $e$}
    \begin{proof}
        \step{a}{$e \in V$}
        \begin{proof}
            \pf\ Since $e \in W$ so $e = e \inv{e} \in V$.
        \end{proof}
        \step{b}{$V$ is open}
        \begin{proof}
            \pf\ Lemma \ref{lemma:open_subset_mult}.
        \end{proof}
    \end{proof}
    \step{6}{$V$ is symmetric}
    \begin{proof}
        \step{a}{For all $x \in V$ we have $\inv{x} \in V$}
        \begin{proof}
            \step{i}{\pflet{$x \in V$}}
            \step{ii}{\pick $y, z \in W$ such that $x = y \inv{z}$}
            \step{iii}{$\inv{x} = z\inv{y}$}
            \step{iv}{$\inv{x} \in V$}
            \step{v}{$x \in \inv{V}$}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:symmetric_neighbourhood}
        \end{proof}
    \end{proof}
    \step{7}{$V^2 \subseteq U$}
    \begin{proof}
        \pf\ We have $V^2 \subseteq (V')^2 \subseteq U$
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    Every topological group is Hausdorff.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$G$ be a topological group.}}
    \step{2}{\pflet{$x, y \in G$ with $x \neq y$}}
    \step{3}{\pflet{$U = G \setminus \{x\inv[y]\}$}}
    \step{4}{\pick\ a symmetric neighbourhood $V$ of $e$ such that $VV \subseteq U$}
    \begin{proof}
        \step{a}{$U$ is open}
        \begin{proof}
            \pf\ Since $G$ is $T_1$.
        \end{proof}
        \step{b}{$e \in U$}
        \begin{proof}
            \pf\ Since $x \neq y$
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:symmetric_subneighbourhood}.
        \end{proof}
    \end{proof}
    \step{5}{$Vx$ and $Vy$ are disjoint neighbourhoods of $x$ and $y$ respectively.}
    \begin{proof}
        \step{a}{$Vx$ is open}
        \begin{proof}
            \pf\ Since $Vx = r_x(V)$
        \end{proof}
        \step{b}{$Vy$ is open}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
        \step{c}{$Vx \cap Vy = \emptyset$}
        \begin{proof}
            \step{a}{\assume{for a contradiction $z \in Vx \cap Vy$}}
            \step{b}{\pick\ $a, b \in V$ such that $z = ax = by$}
            \step{c}{$x\inv{y} \in VV$}
            \begin{proof}
                \pf\ Since $x \inv{y} = \inv{a} b$
            \end{proof}
            \step{d}{$x \inv{y} \in U$}
            \qedstep
            \begin{proof}
                \pf\ From \stepref{3}.
            \end{proof}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:regular_topological_group}
    Every topological group is regular.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$G$ be a topological group.}}
    \step{2}{\pflet{$A \subseteq G$ be a closed set and $a \notin A$.}}
    \step{3}{\pflet{$U = G \setminus A \inv{a}$}}
    \step{4}{\pick\ a symmetric neighbourhood $V$ of $e$ such that $VV \subseteq U$}
    \begin{proof}
        \step{a}{$U$ is open}
        \begin{proof}
            \pf\ Since $A \inv{a} = r_{\inv{a}}(A)$ is closed.
        \end{proof}
        \step{b}{$e \in U$}
        \begin{proof}
            \pf\ Since $a \notin A$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ Lemma \ref{lemma:symmetric_subneighbourhood}.
        \end{proof}
    \end{proof}
    \step{5}{$VA$ and $Va$ are disjoint open sets with $A \subseteq VA$ and $a \in Va$}
    \begin{proof}
        \step{a}{$VA$ is open}
        \begin{proof}
            \pf\ Lemma \ref{lemma:open_subset_mult}
        \end{proof}
        \step{b}{$Va$ is open}
        \begin{proof}
            \pf\ Lemma \ref{lemma:open_subset_mult}
        \end{proof}
        \step{c}{$VA \cap Va = \emptyset$}
        \begin{proof}
            \step{i}{\assume{for a contradiction $z \in VA \cap Va$}}
            \step{ii}{\pick\ $b, c \in V$ and $d \in A$ with $z = bd = ca$}
            \step{iii}{$d \inv{a} \in U$}
            \begin{proof}
                \pf\ Since $d \inv{a} = \inv{b} c \in VV \subseteq U$
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ This contradicts \stepref{3}
            \end{proof}
        \end{proof}
    \end{proof}
    \qed
\end{proof}

\begin{proposition}
    \label{proposition:regular_quotient}
    Let $G$ be a topological group and $H$ a subgroup of $G$. Give $G / H$
    the quotient topology. If $H$ is closed in $G$ then $G / H$ is regular.
\end{proposition}

\begin{proof}
    \pf
    \step{0}{\pflet{$p : G \twoheadrightarrow G / H$ be the canonical surjection.}}
    \step{1}{\pflet{$A$ be a closed set in $G / H$ and $aH \in (G / H) \setminus A$.}}
    \step{2}{\pflet{$B = \inv{p}(A)$}}
    \step{3}{$B$ is a closed saturated set in $G$.}
    \step{4}{$B \cap aH = \emptyset$}
    \step{5}{$B = BH$}
    \step{6}{\pick\ a symmetric neighbourhood $V$ of $e$ such that $VB$ does not intersect $Va$}
    \begin{proof}
        \step{a}{\pflet{$U = G \setminus B \inv{a}$}}
        \step{b}{\pick\ a symmetric neighbourhood $V$ of $e$ such that $VV \subseteq U$}
        \begin{proof}
            \step{i}{$U$ is open}
            \begin{proof}
                \pf\ Since $B \inv{a} = r_{\inv{a}}(B)$ is closed.
            \end{proof}
            \step{ii}{$e \in U$}
            \begin{proof}
                \pf\ If $e \in B \inv{a}$ then $a \in B$
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ Lemma \ref{lemma:symmetric_subneighbourhood}
            \end{proof}
        \end{proof}
        \step{c}{$VB \cap Va = \emptyset$}
        \begin{proof}
            \pf\ If $vb = v'a$ for $v, v' \in V$ and $b \in B$ then we have $b\inv{a} = \inv{v}v' \in Ba \cap VV \subseteq Ba \cap U$.
        \end{proof}
    \end{proof}
    \step{7}{$p(VB)$ and $p(Va)$ are disjoint open sets}
    \begin{proof}
        \step{a}{$p(VB)$ and $p(Va)$ are open.}
        \begin{proof}
            \pf\ Proposition \ref{proposition:quotient_group_open_map}.
        \end{proof}
        \step{b}{$p(VB) \cap p(Va) = \emptyset$}
        \begin{proof}
            \pf\ If $vbH = v'aH$ for $v,v' \in V$, $b \in B$ then $v'a = vbh$ for some $h \in H$. Hence $v'a \in Va \cap VBH = Va \cap VB$.
        \end{proof}
    \end{proof}
    \step{8}{$A \subseteq p(VB)$}
    \step{9}{$aH \in p(Va)$}
    \qed
\end{proof}

\begin{proposition}
    Let $G$ be a topological group. The component of $G$ that contains $e$ is
    a normal subgroup of $G$.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$C$ be the component of $G$ that contains $e$.}}
    \step{2}{For all $x \in G$, $xC$ is the component of $G$ that contains $x$.}
    \begin{proof}
        \step{a}{\pflet{$x \in G$}}
        \step{b}{\pflet{$D$ be the component of $G$ that contains $x$.}}
        \step{b}{$xC \subseteq D$}
        \begin{proof}
            \pf\ Since $xC$ is connected by Theorem \ref{theorem:connected_continuous_image}.
        \end{proof}
        \step{c}{$D \subseteq xC$}
        \begin{proof}
            \pf\ Since $\inv{x}D \subseteq C$ similarly.
        \end{proof}
    \end{proof}
    \step{3}{For all $x \in G$, $Cx$ is the component of $G$ that contains $x$.}
    \begin{proof}
        \pf\ Similar.
    \end{proof}
    \step{2a}{For all $x \in C$ we have $xC = Cx = C$}
    \step{2b}{For all $x \in C$ we have $\inv{x}C = C$}
    \step{2c}{For all $x \in C$ we have $\inv{x} \in C$}
    \step{3}{For all $x, y \in C$ we have $xy \in C$}
    \begin{proof}
        \pf\ Since $xyC = xC = x$.
    \end{proof}
    \step{4}{For all $x \in G$ we have $xC = Cx$.}
    \begin{proof}
        \pf\ From \stepref{2} and \stepref{3}.
    \end{proof}
    \qed
\end{proof}

\begin{lemma}
    Let $G$ be a topological group. Let $A$ be a closed set in $G$ and $B$ a compact subspace of $G$
    such that $A \cap B = \emptyset$. Then there exists a symmetric neighbourhood $U$ of $e$
    such that $AU \cap BU = \emptyset$.
\end{lemma}

\begin{proof}
    \pf
    \step{1}{For all $b \in B$ there exists a symmetric neighbourhood $V$ of $e$ such that $bV^2 \cap A = \emptyset$}
    \begin{proof}
        \step{a}{\pflet{$b \in B$}}
        \step{c}{\pflet{$W = \inv{b} (G \setminus A)$}}
        \step{d}{$W$ is a neighbourhood of $e$ and $bW \cap A = \emptyset$}
        \step{e}{\pick\ a symmetric neighbourhood $V$ of $e$ such that $V^2 \subseteq W$}
    \end{proof}
    \step{2}{$\{bV^2 \mid b \in B, V \text{ is a symmetric neighbourhood of } e, bV^2 \cap A = \emptyset \}$ is an open cover of $B$}
    \step{3}{\pick\ a finite subcover $b_1 V_1^2$, \ldots, $b_n V_n^2$, say.}
    \step{4}{\pflet{$U = V_1 \cap \cdots \cap V_n$}}
    \step{5}{$BU^2 \cap A = \emptyset$}
    \step{7}{$AU \cap BU = \emptyset$}
    \begin{proof}
        \pf\ If $av \in BU$ where $a \in A$ and $v \in V$ then $a = a v \inv{v} \in BU^2 \cap A$.
    \end{proof}
    \qed
\end{proof}

\begin{proposition}[AC]
    Let $G$ be a topological group. Let $A$ be a closed set in $G$, and $B$ a compact subspace of $G$. Then $AB$ is closed.
\end{proposition}

\begin{proof}
    \pf
    \step{1}{\pflet{$x \in G \setminus AB$}}
    \step{2}{$\inv{A} x \cap B = \emptyset$}
    \step{3}{$\inv{A} x$ is closed.}
    \step{4}{\pick\ a symmetric neighbourhood $U$ of $e$ such that $\inv{A} x U \cap BU = \emptyset$}
    \step{5}{$x U^2$ is open}
    \begin{proof}
        \pf\ Lemma \ref{lemma:open_subset_mult}.
    \end{proof}
    \step{6}{$x \in x U^2 \subseteq G \setminus AB$}
    \qed
\end{proof}

\begin{corollary}
    Let $G$ be a topological group and $H \leq G$. Let $p : G \twoheadrightarrow G / H$ be the quotient map.
    If $H$ is compact then $p$ is a closed map.
\end{corollary}

\begin{proof}
    \pf\ For $A$ closed in $G$, we have $\inv{p}(p(A)) = AH$ is closed, and so
    $p(A)$ is closed. \qed
\end{proof}

\begin{corollary}
    Let $G$ be a topological group and $H \leq G$. If $H$ and $G / H$ are compact then $G$ is compact.
\end{corollary}

\begin{proof}
    \pf\ From Proposition \ref{proposition:compact_pre_image} since, for all $aH \in G / H$,
    we have $\inv{p}(aH) = aH$ is compact because it is homemorphic to $H$. \qed
\end{proof}